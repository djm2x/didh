(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[910],{28829:function(){!function(){"use strict";if("undefined"!=typeof Chart){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i});var t={};["pie","doughnut","polarArea","bar"].forEach(function(e){t[e]=!0}),e.prototype.setup=function(t,e){this.chart=t,this.ctx=t.ctx,this.args={},this.barTotal={};var i=t.config.options;this.options=Object.assign({position:"default",precision:0,fontSize:i.defaultFontSize,fontColor:i.defaultFontColor,fontStyle:i.defaultFontStyle,fontFamily:i.defaultFontFamily,shadowOffsetX:3,shadowOffsetY:3,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:6,images:[],outsidePadding:2,textMargin:2,overlap:!0},e),"bar"===t.config.type&&(this.options.position="default",this.options.arc=!1,this.options.overlap=!0)},e.prototype.render=function(){this.labelBounds=[],this.chart.data.datasets.forEach(this.renderToDataset)},e.prototype.renderToDataset=function(t,e){this.totalPercentage=0,this.total=null;var i=this.args[e];i.meta.data.forEach((function(e,o){this.renderToElement(t,i,e,o)}).bind(this))},e.prototype.renderToElement=function(t,e,i,o){if(this.shouldRenderToElement(e.meta,i)){this.percentage=null;var n=this.getLabel(t,i,o);if(n){var r=this.ctx;r.save(),r.font=Chart.helpers.fontString(this.options.fontSize,this.options.fontStyle,this.options.fontFamily);var s=this.getRenderInfo(i,n);this.drawable(i,n,s)?(r.beginPath(),r.fillStyle=this.getFontColor(t,i,o),this.renderLabel(n,s),r.restore()):r.restore()}}},e.prototype.renderLabel=function(t,e){return this.options.arc?this.renderArcLabel(t,e):this.renderBaseLabel(t,e)},e.prototype.renderBaseLabel=function(t,e){var i=this.ctx;if("object"==typeof t)i.drawImage(t,e.x-t.width/2,e.y-t.height/2,t.width,t.height);else{i.save(),i.textBaseline="top",i.textAlign="center",this.options.textShadow&&(i.shadowOffsetX=this.options.shadowOffsetX,i.shadowOffsetY=this.options.shadowOffsetY,i.shadowColor=this.options.shadowColor,i.shadowBlur=this.options.shadowBlur);for(var o=t.split("\n"),n=0;n<o.length;n++)i.fillText(o[n],e.x,e.y-this.options.fontSize/2*o.length+this.options.fontSize*n);i.restore()}},e.prototype.renderArcLabel=function(t,e){var i=this.ctx,o=e.radius,n=e.view;if(i.save(),i.translate(n.x,n.y),"string"==typeof t){i.rotate(e.startAngle),i.textBaseline="middle",i.textAlign="left";var r=t.split("\n"),s=0,a=[],l=0;"border"===this.options.position&&(l=(r.length-1)*this.options.fontSize/2);for(var h=0;h<r.length;++h){var c=i.measureText(r[h]);c.width>s&&(s=c.width),a.push(c.width)}for(h=0;h<r.length;++h){var p=r[h],d=(r.length-1-h)*-this.options.fontSize+l;i.save(),i.rotate((s-a[h])/2/o);for(var g=0;g<p.length;g++){var f=p.charAt(g);c=i.measureText(f),i.save(),i.translate(0,-1*o),i.fillText(f,0,d),i.restore(),i.rotate(c.width/o)}i.restore()}}else i.rotate((n.startAngle+Math.PI/2+e.endAngle)/2),i.translate(0,-1*o),this.renderLabel(t,{x:0,y:0});i.restore()},e.prototype.shouldRenderToElement=function(t,e){return!t.hidden&&!e.hidden&&(this.options.showZero||"polarArea"===this.chart.config.type?0!==e._view.outerRadius:0!==e._view.circumference)},e.prototype.getLabel=function(t,e,i){var o;if("function"==typeof this.options.render)o=this.options.render({label:this.chart.config.data.labels[i],value:t.data[i],percentage:this.getPercentage(t,e,i),dataset:t,index:i});else switch(this.options.render){case"value":o=t.data[i];break;case"label":o=this.chart.config.data.labels[i];break;case"image":o=this.options.images[i]?this.loadImage(this.options.images[i]):"";break;case"percentage":default:o=this.getPercentage(t,e,i)+"%"}return"object"==typeof o?o=this.loadImage(o):null!=o&&(o=o.toString()),o},e.prototype.getFontColor=function(t,e,i){var o=this.options.fontColor;return"function"==typeof o?o=o({label:this.chart.config.data.labels[i],value:t.data[i],percentage:this.getPercentage(t,e,i),backgroundColor:t.backgroundColor[i],dataset:t,index:i}):"string"!=typeof o&&(o=o[i]||this.chart.config.options.defaultFontColor),o},e.prototype.getPercentage=function(t,e,i){if(null!==this.percentage)return this.percentage;var o;if("polarArea"===this.chart.config.type){if(null===this.total){this.total=0;for(var n=0;n<t.data.length;++n)this.total+=t.data[n]}o=t.data[i]/this.total*100}else if("bar"===this.chart.config.type){if(void 0===this.barTotal[i])for(this.barTotal[i]=0,n=0;n<this.chart.data.datasets.length;++n)this.barTotal[i]+=this.chart.data.datasets[n].data[i];o=t.data[i]/this.barTotal[i]*100}else o=e._view.circumference/this.chart.config.options.circumference*100;return o=parseFloat(o.toFixed(this.options.precision)),this.options.showActualPercentages||("bar"===this.chart.config.type&&(this.totalPercentage=this.barTotalPercentage[i]||0),this.totalPercentage+=o,this.totalPercentage>100&&(o-=this.totalPercentage-100,o=parseFloat(o.toFixed(this.options.precision))),"bar"===this.chart.config.type&&(this.barTotalPercentage[i]=this.totalPercentage)),this.percentage=o,o},e.prototype.getRenderInfo=function(t,e){return"bar"===this.chart.config.type?this.getBarRenderInfo(t,e):this.options.arc?this.getArcRenderInfo(t,e):this.getBaseRenderInfo(t,e)},e.prototype.getBaseRenderInfo=function(t,e){if("outside"===this.options.position||"border"===this.options.position){var i,o,n=t._view,r=n.startAngle+(n.endAngle-n.startAngle)/2,s=n.outerRadius/2;if("border"===this.options.position?o=(n.outerRadius-s)/2+s:"outside"===this.options.position&&(o=n.outerRadius-s+s+this.options.textMargin),i={x:n.x+Math.cos(r)*o,y:n.y+Math.sin(r)*o},"outside"===this.options.position){var a=this.options.textMargin+this.measureLabel(e).width/2;i.x+=i.x<n.x?-a:a}return i}return t.tooltipPosition()},e.prototype.getArcRenderInfo=function(t,e){var i,o=t._view;i="outside"===this.options.position?o.outerRadius+this.options.fontSize+this.options.textMargin:"border"===this.options.position?(o.outerRadius/2+o.outerRadius)/2:(o.innerRadius+o.outerRadius)/2;var n=o.startAngle,r=o.endAngle,s=r-n;return n+=Math.PI/2,{radius:i,startAngle:n+=((r+=Math.PI/2)-(this.measureLabel(e).width/i+n))/2,endAngle:r,totalAngle:s,view:o}},e.prototype.getBarRenderInfo=function(t,e){var i=t.tooltipPosition();return i.y-=this.measureLabel(e).height/2+this.options.textMargin,i},e.prototype.drawable=function(t,e,i){if(this.options.overlap)return!0;if(this.options.arc)return i.endAngle-i.startAngle<=i.totalAngle;var o=this.measureLabel(e),n=i.x-o.width/2,r=i.x+o.width/2,s=i.y-o.height/2,a=i.y+o.height/2;return"outside"===this.options.renderInfo?this.outsideInRange(n,r,s,a):t.inRange(n,s)&&t.inRange(n,a)&&t.inRange(r,s)&&t.inRange(r,a)},e.prototype.outsideInRange=function(t,e,i,o){for(var n=this.labelBounds,r=0;r<n.length;++r){for(var s=n[r],a=[[t,i],[t,o],[e,i],[e,o]],l=0;l<a.length;++l){var h=a[l][1];if((c=a[l][0])>=s.left&&c<=s.right&&h>=s.top&&h<=s.bottom)return!1}for(a=[[s.left,s.top],[s.left,s.bottom],[s.right,s.top],[s.right,s.bottom]],l=0;l<a.length;++l){var c;if(h=a[l][1],(c=a[l][0])>=t&&c<=e&&h>=i&&h<=o)return!1}}return n.push({left:t,right:e,top:i,bottom:o}),!0},e.prototype.measureLabel=function(t){if("object"==typeof t)return{width:t.width,height:t.height};for(var e=0,i=t.split("\n"),o=0;o<i.length;++o){var n=this.ctx.measureText(i[o]);n.width>e&&(e=n.width)}return{width:e,height:this.options.fontSize*i.length}},e.prototype.loadImage=function(t){var e=new Image;return e.src=t.src,e.width=t.width,e.height=t.height,e},Chart.plugins.register({id:"labels",beforeDatasetsUpdate:function(i,o){if(t[i.config.type]){Array.isArray(o)||(o=[o]);var n=o.length;i._labels&&n===i._labels.length||(i._labels=o.map(function(){return new e}));for(var r=!1,s=0,a=0;a<n;++a){var l=i._labels[a];if(l.setup(i,o[a]),"outside"===l.options.position){r=!0;var h=1.5*l.options.fontSize+l.options.outsidePadding;h>s&&(s=h)}}r&&(i.chartArea.top+=s,i.chartArea.bottom-=s)}},afterDatasetUpdate:function(e,i,o){t[e.config.type]&&e._labels.forEach(function(t){t.args[i.index]=i})},beforeDraw:function(e){t[e.config.type]&&e._labels.forEach(function(t){t.barTotalPercentage={}})},afterDatasetsDraw:function(e){t[e.config.type]&&e._labels.forEach(function(t){t.render()})}})}else console.error("Can not find Chart object.");function e(){this.renderToDataset=this.renderToDataset.bind(this)}}()},94589:function(t,e,i){"use strict";i.d(e,{b:function(){return h}});var o=i(92935),n=i(35366),r=i(37112),s=i(36278),a=i(84369);let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.model=""}ngOnInit(){this.model=this.data.model}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close("ok")}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(o.so),n.Y36(o.WI))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-delete"]],decls:15,vars:1,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["mat-button","","color","primary","type","button","cdkFocusInitial","",3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"h1",1),n.TgZ(2,"mat-toolbar",2),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA(),n._UZ(5,"mat-divider"),n.qZA(),n.TgZ(6,"div",3),n.TgZ(7,"div",4),n.TgZ(8,"p"),n._uU(9,"Voulez-vous vraiment supprimer?"),n.qZA(),n.qZA(),n.TgZ(10,"div",5),n.TgZ(11,"button",6),n.NdJ("click",function(){return e.onNoClick()}),n._uU(12,"Annuler"),n.qZA(),n.TgZ(13,"button",7),n.NdJ("click",function(){return e.onOkClick()}),n._uU(14,"Ok"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(4),n.hij("Suppression ",e.model," "))},directives:[o.uh,r.Ye,s.d,o.xY,o.H8,a.lW,o.ZT],styles:[".dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}"]}),t})(),h=(()=>{class t{constructor(t){this.dialog=t}openDialog(t){return this.dialog.open(l,{width:"750px",disableClose:!0,data:{model:t}}).afterClosed()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(o.uw))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},75163:function(t,e,i){"use strict";i.d(e,{R:function(){return g}});var o=i(14133),n=i(55959),r=i(64428),s=i(28829),a=i(35366),l=i(92572),h=i(31496),c=i(92935),p=i(61116);function d(t,e){if(1&t&&(a.TgZ(0,"div",8),a._UZ(1,"div",9),a.TgZ(2,"span",10),a._uU(3),a.qZA(),a.qZA()),2&t){const t=e.$implicit,i=e.index,o=a.oxw();a.xp6(1),a.Udp("background-color",o.pieChartColors[0].backgroundColor[i]),a.xp6(2),a.Oqu(t)}}let g=(()=>{class t{constructor(t,e,i){this.uow=t,this.mytranslate=e,this.dialog=i,this.obs=new n.xQ,this.showLegend=!0,this.withGraphe="100%",this.height="50vh",this.dataToShowInTable=[],this.title=null,this.arr2=new n.xQ,this.pieChartOptions={responsive:!0,maintainAspectRatio:!1,cutoutPercentage:50,title:{text:"",display:!0},tooltips:{enabled:!0,callbacks:{label:(t,e)=>e.labels[t.index]}},hover:{mode:"nearest",intersect:!1,onHover:(t,e)=>{}},legend:{position:"bottom",display:!1,align:"center",fullWidth:!0,labels:{fontSize:16}},plugins:{labels:{fontColor:["white","white","white","white","white","white","white","white","white","white","white","white"],precision:0,fontSize:14,fontStyle:"bold",render:"percentage"},pieceLabel:{render:t=>t.label+": "+t.value}}},this.pieChartLabels=[],this.pieChartData=[],this.pieChartType="pie",this.pieChartLegend=!0,this.pieChartPlugins=[s],this.pieChartColors=[{backgroundColor:[]}],this.list=[],this.retate=0,this.arr=[],(0,o.Dy)(),(0,o.bF)()}ngOnInit(){this.mytranslate.lang.subscribe(t=>{this.retate="fr"===t?0:180}),this.obs.subscribe(t=>{this.title=t.title,this.pieChartLabels=t.chartLabels,this.pieChartData=t.chartData.map(t=>+t.toFixed(0)),this.pieChartColors[0].backgroundColor=0===t.chartColors.length?this.getColors(this.pieChartLabels.length):t.chartColors})}openDialog(){this.dialog.open(r.J,{width:"7100px",disableClose:!1,data:{model:this.list,type:"pie",title:this.title}}).afterClosed().subscribe(t=>{})}getColors(t){const e=["#2b960b","#db0707","#f7801e","#2d71a1","#7dc460","#fdb93a","#59b8ce","#5c5c5f","#ef4f42","#a5a6aa","#85144b","#F012BE","#3D9970","#111111","#AAAAAA"],i=[];for(let o=0;o<t;o++)i.push(e[o%e.length]);return i}toInt(t){return parseInt((t/3-1).toFixed(0),10)}toStr(t){return(parseInt(t.toFixed(0),10)*this.count/100).toFixed(0)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(l.Z),a.Y36(h.n),a.Y36(c.uw))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-pie"]],inputs:{obs:"obs",showLegend:"showLegend",withGraphe:"withGraphe",height:"height",pieChartType:"pieChartType"},decls:9,vars:15,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center","mb-3",2,"cursor","pointer"],[2,"display","block"],["baseChart","",1,"chart","chart-pie",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"mt-3"],["style","display: flex;margin-bottom: 7px;max-width: 50vw;width: 100%;",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","justify-content-center","mt-2"],["src","assets/line.png","height","10px","width","280px"],[1,"pie-title",2,"color","#737473","margin","5px 0 10px 5px"],[2,"display","flex","margin-bottom","7px","max-width","50vw","width","100%"],[2,"width","43px","height","18px","border","1px solid white"],[2,"color","gray","font-size","1em","margin","0 10px"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"canvas",2),a.qZA(),a.TgZ(3,"div",3),a.YNc(4,d,4,3,"div",4),a.qZA(),a.TgZ(5,"div",5),a._UZ(6,"img",6),a.TgZ(7,"h5",7),a._uU(8),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(1),a.Udp("width",e.withGraphe)("height",e.height),a.xp6(1),a.Q6J("data",e.pieChartData)("labels",e.pieChartLabels)("chartType",e.pieChartType)("options",e.pieChartOptions)("plugins",e.pieChartPlugins)("colors",e.pieChartColors)("legend",e.pieChartLegend),a.xp6(2),a.Q6J("ngForOf",e.pieChartLabels),a.xp6(2),a.Udp("transform","rotateY("+e.retate+"deg)"),a.xp6(2),a.hij(" ",e.title," "))},directives:[o.jh,p.sg],styles:["p[_ngcontent-%COMP%]{font-family:Lato}#customers[_ngcontent-%COMP%]{font-family:Trebuchet MS,Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%;text-align:center;font-size:x-small}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#aaabab;color:#fff}"]}),t})()},20707:function(t,e,i){"use strict";i.d(e,{r:function(){return a}});var o=i(35366),n=i(31496),r=i(36278),s=i(61116);let a=(()=>{class t{constructor(t){this.mytranslate=t,this.title=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.n))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-title"]],inputs:{title:"title"},decls:7,vars:4,consts:[[1,"d-flex","w-100","mb-3"],[3,"className"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"section",1),o.ALo(2,"async"),o.TgZ(3,"div"),o.TgZ(4,"h3"),o._uU(5),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6,"mat-divider")),2&t&&(o.xp6(1),o.Q6J("className","fr"===o.lcZ(2,2,e.mytranslate.lang)?"super-title border-left":"super-title border-right"),o.xp6(4),o.Oqu(e.title))},directives:[r.d],pipes:[s.Ov],styles:["section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}.border-left[_ngcontent-%COMP%]{border-left:10px solid #d17c36}.border-right[_ngcontent-%COMP%]{border-right:10px solid #d17c36}.super-title[_ngcontent-%COMP%]{height:45px}.super-title[_ngcontent-%COMP%], .super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#a19b9e;height:35px}.super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0;padding:0 5px}"]}),t})()},12996:function(t,e,i){"use strict";i.d(e,{x:function(){return p}});var o=i(64762),n=i(34411),r=i(35366),s=i(85078),a=i(61116),l=i(87064);function h(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",2),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().openLink(e)}),r.TgZ(1,"span",3),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=r.oxw().$implicit;r.xp6(2),r.hij("- ",t.substring(14,t.length-1),"")}}function c(t,e){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,h,3,1,"a",1),r.qZA()),2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("ngIf",i.show(t))}}let p=(()=>{class t{constructor(t,e,i){this.bottomSheetRef=t,this.data=e,this.url=i,this.list=[],this.folder=""}ngOnInit(){if(this.data.fileName){const t=this.data.fileName.split(";");t.pop(),this.folder=this.data.folder,this.list=t}}openLink(t){return(0,o.mG)(this,void 0,void 0,function*(){const e=+t.substring(t.length-1,t.length);t=isNaN(e)?t:t.substring(0,t.length-1),window.open(`${this.url}/${this.folder}/${t}`)})}show(t){if(""===t)return!1;const e=+t.substring(t.length-1,t.length);return!!isNaN(e)||1===e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(n.oL),r.Y36(n.OG),r.Y36("BASE_URL"))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-download-sheet"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(r.TgZ(0,"mat-nav-list"),r.YNc(1,c,2,1,"div",0),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngForOf",e.list))},directives:[s.Hk,a.sg,a.O5,s.Tg,l.X2],styles:[""]}),t})()}}]);