(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[489],{94589:function(t,e,n){"use strict";n.d(e,{b:function(){return c}});var o=n(92935),i=n(35366),a=n(37112),l=n(36278),s=n(84369);let r=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.model=""}ngOnInit(){this.model=this.data.model}onNoClick(){this.dialogRef.close()}onOkClick(){this.dialogRef.close("ok")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(o.so),i.Y36(o.WI))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-delete"]],decls:15,vars:1,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["mat-button","","color","primary","type","button","cdkFocusInitial","",3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"h1",1),i.TgZ(2,"mat-toolbar",2),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA(),i._UZ(5,"mat-divider"),i.qZA(),i.TgZ(6,"div",3),i.TgZ(7,"div",4),i.TgZ(8,"p"),i._uU(9,"Voulez-vous vraiment supprimer?"),i.qZA(),i.qZA(),i.TgZ(10,"div",5),i.TgZ(11,"button",6),i.NdJ("click",function(){return e.onNoClick()}),i._uU(12,"Annuler"),i.qZA(),i.TgZ(13,"button",7),i.NdJ("click",function(){return e.onOkClick()}),i._uU(14,"Ok"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.hij("Suppression ",e.model," "))},directives:[o.uh,a.Ye,l.d,o.xY,o.H8,s.lW,o.ZT],styles:[".dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}"]}),t})(),c=(()=>{class t{constructor(t){this.dialog=t}openDialog(t){return this.dialog.open(r,{width:"750px",disableClose:!0,data:{model:t}}).afterClosed()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o.uw))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},90489:function(t,e,n){"use strict";n.r(e),n.d(e,{OrganismeModule:function(){return lt}});var o=n(60649),i=n(57823),a=n(61116),l=n(64762),s=n(31041),r=n(35366),c=n(5609),u=n(59241),m=n(31906),d=n(92935),p=n(18314),g=n(37112),f=n(36278),Z=n(13070),h=n(9550),A=n(13841),q=n(84369),x=n(87064);function T(t,e){if(1&t&&(r.TgZ(0,"mat-option",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t),r.xp6(1),r.Oqu(t)}}const _=function(){return["","PE","PJ","IN","Autre"]};let b=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.fb=n,this.title=""}ngOnInit(){this.o=this.data.model,this.title=this.data.title,this.createForm()}onNoClick(){this.dialogRef.close()}onOkClick(t){this.dialogRef.close(t)}createForm(){this.myForm=this.fb.group({id:this.o.id,label:[this.o.label,s.kI.required],labelAr:[this.o.labelAr,s.kI.required],abr:[this.o.abr],abrAr:[this.o.abrAr],adresse:[this.o.adresse],tel:[this.o.tel],type:[this.o.type]})}resetForm(){this.o=new p.I0,this.createForm()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(d.so),r.Y36(d.WI),r.Y36(s.qu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-update"]],decls:46,vars:8,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","label","required",""],["matInput","","formControlName","labelAr","required",""],["matInput","","formControlName","abr"],["matInput","","formControlName","abrAr"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","tel"],["matInput","","rows","6","formControlName","adresse"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r.TgZ(2,"mat-toolbar",2),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r._UZ(5,"mat-divider"),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"div",4),r.TgZ(8,"form",5),r.TgZ(9,"mat-form-field",6),r.TgZ(10,"mat-label"),r._uU(11,"Nom"),r.qZA(),r._UZ(12,"input",7),r.qZA(),r.TgZ(13,"mat-form-field",6),r.TgZ(14,"mat-label"),r._uU(15,"Nom Ar"),r.qZA(),r._UZ(16,"input",8),r.qZA(),r.TgZ(17,"mat-form-field",6),r.TgZ(18,"mat-label"),r._uU(19,"Abr"),r.qZA(),r._UZ(20,"input",9),r.qZA(),r.TgZ(21,"mat-form-field",6),r.TgZ(22,"mat-label"),r._uU(23,"Abr Ar"),r.qZA(),r._UZ(24,"input",10),r.qZA(),r.TgZ(25,"mat-form-field",6),r.TgZ(26,"mat-label"),r._uU(27,"Type"),r.qZA(),r.TgZ(28,"mat-select",11),r.YNc(29,T,2,2,"mat-option",12),r.qZA(),r.qZA(),r.TgZ(30,"mat-form-field",6),r.TgZ(31,"mat-label"),r._uU(32,"Tel"),r.qZA(),r._UZ(33,"input",13),r.qZA(),r.TgZ(34,"mat-form-field",6),r.TgZ(35,"mat-label"),r._uU(36,"Adresse"),r.qZA(),r._UZ(37,"textarea",14),r.qZA(),r._uU(38),r.ALo(39,"json"),r.qZA(),r.qZA(),r.TgZ(40,"div",15),r.TgZ(41,"button",16),r.NdJ("click",function(){return e.onNoClick()}),r._uU(42,"Annuler"),r.qZA(),r._uU(43,"\xa0\xa0 "),r.TgZ(44,"button",17),r.NdJ("click",function(){return e.onOkClick(e.myForm.value)}),r._uU(45,"Enregistre"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Oqu(e.title),r.xp6(4),r.Q6J("formGroup",e.myForm),r.xp6(21),r.Q6J("ngForOf",r.DdM(7,_)),r.xp6(9),r.hij(" ",r.lcZ(39,5,e.myForm.value)," "),r.xp6(6),r.Q6J("disabled",e.myForm.invalid))},directives:[d.uh,g.Ye,f.d,d.xY,s._Y,s.JL,s.sg,Z.KE,Z.hX,h.Nt,s.Fj,s.JJ,s.u,s.Q7,A.gD,a.sg,d.H8,q.lW,x.ey],pipes:[a.Ts],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}"]}),t})();var D=n(56238),C=n(92572),O=n(94589),N=n(31496),w=n(77307),v=n(6489),y=n(47340),U=n(87672);function k(t,e){if(1&t&&(r.TgZ(0,"mat-option",26),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t),r.xp6(1),r.Oqu(t)}}function J(t,e){1&t&&r._UZ(0,"mat-spinner")}function Y(t,e){if(1&t&&(r.TgZ(0,"div",27),r.YNc(1,J,1,0,"mat-spinner",28),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.isLoadingResults)}}function M(t,e){if(1&t&&(r.TgZ(0,"th",29),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.columnDefs[0].headName)}}function P(t,e){if(1&t&&(r.TgZ(0,"td",30),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Oqu(t[n.columnDefs[0].columnDef])}}function Q(t,e){if(1&t&&(r.TgZ(0,"th",29),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.columnDefs[1].headName)}}function I(t,e){if(1&t&&(r.TgZ(0,"td",30),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Oqu(t[n.columnDefs[1].columnDef])}}function R(t,e){if(1&t&&(r.TgZ(0,"th",29),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.columnDefs[2].headName)}}function F(t,e){if(1&t&&(r.TgZ(0,"td",30),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Oqu(t[n.columnDefs[2].columnDef])}}function S(t,e){if(1&t&&(r.TgZ(0,"th",29),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.columnDefs[3].headName)}}function L(t,e){if(1&t&&(r.TgZ(0,"td",30),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Oqu(t[n.columnDefs[3].columnDef])}}function z(t,e){if(1&t&&(r.TgZ(0,"th",29),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.columnDefs[4].headName)}}function B(t,e){if(1&t&&(r.TgZ(0,"td",30),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Oqu(t[n.columnDefs[4].columnDef])}}function $(t,e){if(1&t&&(r.TgZ(0,"th",29),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.columnDefs[5].headName)}}function E(t,e){if(1&t&&(r.TgZ(0,"td",30),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Oqu(t[n.columnDefs[5].columnDef])}}function H(t,e){if(1&t&&(r.TgZ(0,"th",29),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.columnDefs[6].headName)}}function j(t,e){if(1&t&&(r.TgZ(0,"td",30),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Oqu(t[n.columnDefs[6].columnDef])}}function G(t,e){1&t&&r._UZ(0,"th",31)}function X(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",30),r.TgZ(1,"div",32),r.TgZ(2,"button",33),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().edit(e)}),r.TgZ(3,"mat-icon"),r._uU(4,"create"),r.qZA(),r.qZA(),r.TgZ(5,"button",34),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().delete(e.id)}),r.TgZ(6,"mat-icon"),r._uU(7,"delete_sweep"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function W(t,e){1&t&&r._UZ(0,"tr",35)}function K(t,e){1&t&&r._UZ(0,"tr",36)}const V=function(){return["","PE","PJ","IN","Autre"]},tt=function(){return[10,25,50,100,250]};let et=(()=>{class t{constructor(t,e,n,o){this.uow=t,this.dialog=e,this.mydialog=n,this.mytranslate=o,this.update=new r.vpe,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.panelOpenState=!0,this.type=new s.NI(""),this.dataSource=[],this.columnDefs=[{columnDef:"label",headName:"NOM"},{columnDef:"labelAr",headName:"NOM Ar"},{columnDef:"abr",headName:"abr"},{columnDef:"abrAr",headName:"abrAr"},{columnDef:"adresse",headName:"ADRESSE"},{columnDef:"tel",headName:"TEL"},{columnDef:"type",headName:"type"},{columnDef:"option",headName:"OPTION"}],this.displayedColumns=this.columnDefs.map(t=>t.columnDef)}ngOnInit(){(0,m.T)(this.sort.sortChange,this.paginator.page,this.update).pipe((0,D.O)(null)).subscribe(t=>{!0===t?this.paginator.pageIndex=0:t=t,this.paginator.pageSize?t=t:this.paginator.pageSize=10;const e=this.paginator.pageIndex*this.paginator.pageSize;this.isLoadingResults=!0,this.getPage(e,this.paginator.pageSize,this.sort.active?this.sort.active:"id",this.sort.direction?this.sort.direction:"desc",""===this.type.value?"*":this.type.value)})}search(){this.update.next(!0)}reset(){this.type.setValue(""),this.update.next(!0)}getPage(t,e,n,o,i){this.uow.organismes.getAll(t,e,n,o,0,i).subscribe(t=>{this.dataSource=t.list,this.resultsLength=t.count,this.isLoadingResults=!1})}openDialog(t,e){return this.dialog.open(b,{width:"750px",disableClose:!0,data:{model:t,title:e}}).afterClosed()}add(){this.openDialog(new p.I0,"Ajouter organisme").subscribe(t=>{t&&this.uow.organismes.post(t).subscribe(t=>{this.update.next(!0)})})}edit(t){this.openDialog(t,"Modifier organisme").subscribe(t=>{t&&this.uow.organismes.put(t.id,t).subscribe(t=>{this.update.next(!0)})})}delete(t){return(0,l.mG)(this,void 0,void 0,function*(){"ok"===(yield this.mydialog.openDialog("organisme").toPromise())&&this.uow.organismes.delete(t).subscribe(()=>this.update.next(!0))})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(C.Z),r.Y36(d.uw),r.Y36(O.b),r.Y36(N.n))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-organisme"]],viewQuery:function(t,e){if(1&t&&(r.Gf(c.NW,7),r.Gf(u.YE,7)),2&t){let t;r.iGM(t=r.CRH())&&(e.paginator=t.first),r.iGM(t=r.CRH())&&(e.sort=t.first)}},decls:73,vars:26,consts:[[1,"host"],[2,"margin-bottom","15px"],[1,"right"],["mat-raised-button","","color","primary",1,"mt-3",2,"margin","20px 0",3,"click"],[1,"expension","mb-3"],["expanded","",3,"opened","closed"],[1,"row","m-2"],["appearance","fill",1,"col-md-6"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","option",2,"flex-direction","row-reverse"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],[3,"value"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"button-row"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"section",1),r.TgZ(2,"h3"),r._uU(3,"Organismes"),r.qZA(),r.qZA(),r._UZ(4,"mat-divider"),r.TgZ(5,"div",2),r.TgZ(6,"button",3),r.NdJ("click",function(){return e.add()}),r.TgZ(7,"mat-icon"),r._uU(8,"add"),r.qZA(),r._uU(9," Organisme "),r.qZA(),r.qZA(),r.TgZ(10,"div",4),r.TgZ(11,"mat-accordion"),r.TgZ(12,"mat-expansion-panel",5),r.NdJ("opened",function(){return e.panelOpenState=!0})("closed",function(){return e.panelOpenState=!1}),r.TgZ(13,"mat-expansion-panel-header"),r.TgZ(14,"mat-panel-title"),r.TgZ(15,"mat-icon"),r._uU(16,"search"),r.qZA(),r.TgZ(17,"p"),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.qZA(),r._UZ(20,"mat-panel-description"),r.qZA(),r._UZ(21,"mat-divider"),r.TgZ(22,"div",6),r.TgZ(23,"mat-form-field",7),r.TgZ(24,"mat-label"),r._uU(25,"Type"),r.qZA(),r.TgZ(26,"mat-select",8),r.YNc(27,k,2,2,"mat-option",9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div",2),r.TgZ(29,"button",10),r.NdJ("click",function(){return e.search()}),r.TgZ(30,"mat-icon"),r._uU(31,"search"),r.qZA(),r._uU(32),r.ALo(33,"translate"),r.qZA(),r._uU(34," \xa0 "),r.TgZ(35,"button",11),r.NdJ("click",function(){return e.reset()}),r.TgZ(36,"mat-icon"),r._uU(37,"refresh"),r.qZA(),r._uU(38),r.ALo(39,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(40,"div",12),r.YNc(41,Y,2,1,"div",13),r.TgZ(42,"div",14),r.TgZ(43,"table",15,16),r.ynx(45,17),r.YNc(46,M,2,1,"th",18),r.YNc(47,P,2,1,"td",19),r.BQk(),r.ynx(48,17),r.YNc(49,Q,2,1,"th",18),r.YNc(50,I,2,1,"td",19),r.BQk(),r.ynx(51,17),r.YNc(52,R,2,1,"th",18),r.YNc(53,F,2,1,"td",19),r.BQk(),r.ynx(54,17),r.YNc(55,S,2,1,"th",18),r.YNc(56,L,2,1,"td",19),r.BQk(),r.ynx(57,17),r.YNc(58,z,2,1,"th",18),r.YNc(59,B,2,1,"td",19),r.BQk(),r.ynx(60,17),r.YNc(61,$,2,1,"th",18),r.YNc(62,E,2,1,"td",19),r.BQk(),r.ynx(63,17),r.YNc(64,H,2,1,"th",18),r.YNc(65,j,2,1,"td",19),r.BQk(),r.ynx(66,20),r.YNc(67,G,1,0,"th",21),r.YNc(68,X,8,0,"td",19),r.BQk(),r.YNc(69,W,1,0,"tr",22),r.YNc(70,K,1,0,"tr",23),r.qZA(),r.qZA(),r._UZ(71,"mat-paginator",24,25),r.qZA(),r.qZA()),2&t&&(r.xp6(18),r.Oqu(r.lcZ(19,18,"admin.questionnaire.list.Recherche")),r.xp6(8),r.Q6J("formControl",e.type),r.xp6(1),r.Q6J("ngForOf",r.DdM(24,V)),r.xp6(5),r.hij(" ",r.lcZ(33,20,"admin.questionnaire.list.Rechercher")," "),r.xp6(6),r.hij(" ",r.lcZ(39,22,"admin.questionnaire.list.R\xe9initialiser")," "),r.xp6(3),r.Q6J("ngIf",e.isLoadingResults),r.xp6(2),r.Q6J("dataSource",e.dataSource),r.xp6(2),r.Q6J("matColumnDef",e.columnDefs[0].columnDef),r.xp6(3),r.Q6J("matColumnDef",e.columnDefs[1].columnDef),r.xp6(3),r.Q6J("matColumnDef",e.columnDefs[2].columnDef),r.xp6(3),r.Q6J("matColumnDef",e.columnDefs[3].columnDef),r.xp6(3),r.Q6J("matColumnDef",e.columnDefs[4].columnDef),r.xp6(3),r.Q6J("matColumnDef",e.columnDefs[5].columnDef),r.xp6(3),r.Q6J("matColumnDef",e.columnDefs[6].columnDef),r.xp6(6),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("length",e.resultsLength)("pageSizeOptions",r.DdM(25,tt)))},directives:[f.d,q.lW,w.Hw,v.pp,v.ib,v.yz,v.yK,v.u4,Z.KE,Z.hX,A.gD,s.JJ,s.oH,a.sg,a.O5,y.BZ,u.YE,y.w1,y.fO,y.Dz,y.as,y.nj,c.NW,x.ey,U.$g,y.ge,u.nU,y.ev,y.XQ,y.Gk],pipes:[o.X$],styles:["section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}  h3{margin:0!important}.host[_ngcontent-%COMP%]{margin:1em!important}.expension[_ngcontent-%COMP%]{margin:20px 0}.right[_ngcontent-%COMP%]{margin:0 20px 20px}mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center}mat-panel-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 10px}mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:5px}"]}),t})();var nt=n(63337);const ot=[{path:"",redirectTo:"oganisme",pathMatch:"full"},{path:"oganisme",component:et}];let it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[nt.Bz.forChild(ot)],nt.Bz]}),t})();var at=n(42693);let lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[it,at.JF,i.R,s.u5,s.UX,a.ez,o.aw]]}),t})()}}]);