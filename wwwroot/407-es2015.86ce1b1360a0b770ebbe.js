(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[407],{70407:function(t,e,i){"use strict";i.r(e),i.d(e,{RapportModule:function(){return pe}});var o=i(61116),n=i(63337),a=i(64762),s=i(35366),r=i(5609),c=i(59241),l=i(55959),u=i(31906),m=i(18314),p=i(34411),d=i(92572),h=i(85078),g=i(87064);function f(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"a",2),s.NdJ("click",function(){s.CHM(t);const e=s.oxw().$implicit;return s.oxw().openLink(e.pieceJointe)}),s.TgZ(1,"span",3),s._uU(2),s.qZA(),s.TgZ(3,"span",3),s._uU(4),s.qZA(),s.qZA()}if(2&t){const t=s.oxw().$implicit;s.xp6(2),s.Oqu(t.titre),s.xp6(2),s.Oqu(t.pieceJointe)}}function Z(t,e){if(1&t&&(s.TgZ(0,"div"),s.YNc(1,f,5,2,"a",1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Q6J("ngIf",""!==t.pieceJointe)}}let x=(()=>{class t{constructor(t,e,i,o){this.bottomSheetRef=t,this.data=e,this.uow=i,this.url=o,this.o=new m.SD,this.rapports=[]}ngOnInit(){this.o=this.data,this.rapports=this.o.rapports}openLink(t){return(0,a.mG)(this,void 0,void 0,function*(){window.open(`${this.url}/rapport/${t}`)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(p.oL),s.Y36(p.OG),s.Y36(d.Z),s.Y36("BASE_URL"))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-sheetbottom"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(s.TgZ(0,"mat-nav-list"),s.YNc(1,Z,2,1,"div",0),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",e.rapports))},directives:[h.Hk,o.sg,o.O5,h.Tg,g.X2],styles:[""]}),t})();var v=i(92935),b=i(37112),T=i(36278),P=i(84369),w=i(47340),q=i(25722);function A(t,e){if(1&t&&(s.TgZ(0,"th",16),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.columnDefs[0].headName)}}function y(t,e){if(1&t&&(s.TgZ(0,"td",17),s._uU(1),s.qZA()),2&t){const t=e.$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(t[i.columnDefs[0].columnDef])}}function _(t,e){if(1&t&&(s.TgZ(0,"th",16),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.columnDefs[1].headName)}}function S(t,e){if(1&t&&(s.TgZ(0,"td",17),s._uU(1),s.ALo(2,"date"),s.qZA()),2&t){const t=e.$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(s.xi3(2,1,t[i.columnDefs[1].columnDef],"dd/MM/yyyy"))}}function N(t,e){if(1&t&&(s.TgZ(0,"th",16),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.columnDefs[2].headName)}}function D(t,e){if(1&t&&(s.TgZ(0,"td",17),s._uU(1),s.ALo(2,"date"),s.qZA()),2&t){const t=e.$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(s.xi3(2,1,t[i.columnDefs[2].columnDef],"dd/MM/yyyy"))}}function O(t,e){if(1&t&&(s.TgZ(0,"th",16),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.columnDefs[3].headName)}}function C(t,e){if(1&t&&(s.TgZ(0,"td",17),s._uU(1),s.ALo(2,"date"),s.qZA()),2&t){const t=e.$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(s.xi3(2,1,t[i.columnDefs[3].columnDef],"dd/MM/yyyy"))}}function U(t,e){if(1&t&&(s.TgZ(0,"th",16),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.columnDefs[4].headName)}}function F(t,e){if(1&t&&(s.TgZ(0,"td",17),s._uU(1),s.qZA()),2&t){const t=e.$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(t[i.columnDefs[4].columnDef])}}function J(t,e){1&t&&s._UZ(0,"tr",18)}function Q(t,e){1&t&&s._UZ(0,"tr",19)}function k(t,e){if(1&t&&(s.TgZ(0,"section"),s.TgZ(1,"h5"),s._uU(2,"Rapports"),s.qZA(),s.TgZ(3,"div",8),s.TgZ(4,"table",9,10),s.ynx(6,11),s.YNc(7,A,2,1,"th",12),s.YNc(8,y,2,1,"td",13),s.BQk(),s.ynx(9,11),s.YNc(10,_,2,1,"th",12),s.YNc(11,S,3,4,"td",13),s.BQk(),s.ynx(12,11),s.YNc(13,N,2,1,"th",12),s.YNc(14,D,3,4,"td",13),s.BQk(),s.ynx(15,11),s.YNc(16,O,2,1,"th",12),s.YNc(17,C,3,4,"td",13),s.BQk(),s.ynx(18,11),s.YNc(19,U,2,1,"th",12),s.YNc(20,F,2,1,"td",13),s.BQk(),s.YNc(21,J,1,0,"tr",14),s.YNc(22,Q,1,0,"tr",15),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(4),s.Q6J("dataSource",t.dataSource),s.xp6(2),s.Q6J("matColumnDef",t.columnDefs[0].columnDef),s.xp6(3),s.Q6J("matColumnDef",t.columnDefs[1].columnDef),s.xp6(3),s.Q6J("matColumnDef",t.columnDefs[2].columnDef),s.xp6(3),s.Q6J("matColumnDef",t.columnDefs[3].columnDef),s.xp6(3),s.Q6J("matColumnDef",t.columnDefs[4].columnDef),s.xp6(3),s.Q6J("cdkHeaderRowDef",t.displayedColumns),s.xp6(1),s.Q6J("cdkRowDefColumns",t.displayedColumns)}}let I=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.dataSource=[],this.columnDefs=[{columnDef:"titre",headName:"TITRE"},{columnDef:"dateDernierRapport",headName:"Date Rapport"},{columnDef:"dateObservation",headName:"Date des observations finales"},{columnDef:"dateProchaineRapport",headName:"Date Prochain Rapport"},{columnDef:"reference",headName:"R\xe9f\xe9rence des observations finales"}].map(t=>(t.headName=""===t.headName?t.columnDef.toUpperCase():t.headName,t)),this.displayedColumns=this.columnDefs.map(t=>t.columnDef),this.title=""}ngOnInit(){this.o=this.data.model,this.dataSource=this.o.rapports,this.title=this.data.title}onNoClick(){this.dialogRef.close()}onOkClick(t){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(v.so),s.Y36(v.WI))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-update"]],decls:19,vars:10,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements",3,"dataSource"],["table",""],[3,"matColumnDef"],["cdk-header-cell","",4,"matHeaderCellDef"],["cdk-cell","",4,"matCellDef"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-header-cell",""],["cdk-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h1",1),s.TgZ(2,"mat-toolbar",2),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.qZA(),s._UZ(5,"mat-divider"),s.qZA(),s.TgZ(6,"div",3),s.TgZ(7,"div",4),s.TgZ(8,"ul"),s.TgZ(9,"li"),s._uU(10),s.ALo(11,"date"),s.qZA(),s.TgZ(12,"li"),s._uU(13),s.ALo(14,"date"),s.qZA(),s.qZA(),s.YNc(15,k,23,8,"section",5),s.qZA(),s.TgZ(16,"div",6),s.TgZ(17,"button",7),s.NdJ("click",function(){return e.onNoClick()}),s._uU(18,"Retour"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(4),s.Oqu(e.o.nom),s.xp6(6),s.hij("Date de signature: ",s.xi3(11,4,e.o.dateSignature,"dd/MM/yyyy"),""),s.xp6(3),s.hij("Date de ratification: ",s.xi3(14,7,e.o.dateRatification,"dd/MM/yyyy"),""),s.xp6(2),s.Q6J("ngIf",0!==e.dataSource.length))},directives:[v.uh,b.Ye,T.d,v.xY,o.O5,v.H8,P.lW,w.BZ,w.w1,w.fO,w.Dz,q.s$,q.Sq,q.Af,q.hD,w.XQ,w.Gk],pipes:[o.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})();var M=i(12996),Y=i(60649);function L(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().download(e.substring(0,e.length-1))}),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij("- ",t.substring(14,t.length-1),"")}}function R(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().download(e.substring(0,e.length-1))}),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij("- ",t.substring(14,t.length-1),"")}}function H(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().download(e.substring(0,e.length-1))}),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij("- ",t.substring(14,t.length-1),"")}}function $(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().download(e.substring(0,e.length-1))}),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij("- ",t.substring(14,t.length-1),"")}}function B(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().download(e.substring(0,e.length-1))}),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij("- ",t.substring(14,t.length-1),"")}}function E(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().download(e.substring(0,e.length-1))}),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij("- ",t.substring(14,t.length-1),"")}}function j(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().download(e.substring(0,e.length-1))}),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij("- ",t.substring(14,t.length-1),"")}}function z(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().download(e.substring(0,e.length-1))}),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij("- ",t.substring(14,t.length-1),"")}}let V=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.data=e,this.url=i,this.title="",this.folder="traite"}ngOnInit(){this.o=this.data.model,this.title=this.data.title}propertyToList(t){if(t){const e=t.split(";");return e.pop(),e}return[]}download(t){window.open(`${this.url}/${this.folder}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(v.so),s.Y36(v.WI),s.Y36("BASE_URL"))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-archive"]],decls:60,vars:21,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[1,"row"],[1,"col"],[2,"font-weight","bold"],["role","list"],["matRipple","","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[3,"vertical"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["matRipple","",2,"cursor","pointer",3,"click"],[2,"font-size",".9em"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h1",1),s.TgZ(2,"mat-toolbar",2),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.qZA(),s._UZ(5,"mat-divider"),s.qZA(),s.TgZ(6,"div",3),s.TgZ(7,"div",4),s.TgZ(8,"div",5),s.TgZ(9,"div",6),s.TgZ(10,"p",7),s._uU(11,"Discours du pr\xe9sident"),s.qZA(),s.TgZ(12,"mat-list",8),s.YNc(13,L,3,1,"mat-list-item",9),s.qZA(),s.qZA(),s.TgZ(14,"div",6),s.TgZ(15,"p",7),s._uU(16,"Rapport National"),s.qZA(),s.TgZ(17,"mat-list",8),s.YNc(18,R,3,1,"mat-list-item",9),s.qZA(),s.qZA(),s._UZ(19,"mat-divider",10),s.TgZ(20,"div",6),s.TgZ(21,"p",7),s._uU(22,"Plan mise en \u0153uvre "),s.qZA(),s.TgZ(23,"mat-list",8),s.YNc(24,H,3,1,"mat-list-item",9),s.qZA(),s.qZA(),s._UZ(25,"mat-divider",10),s.TgZ(26,"div",6),s.TgZ(27,"p",7),s._uU(28,"Observations finales"),s.qZA(),s.TgZ(29,"mat-list",8),s.YNc(30,$,3,1,"mat-list-item",9),s.qZA(),s.qZA(),s._UZ(31,"mat-divider",10),s.TgZ(32,"div",6),s.TgZ(33,"p",7),s._uU(34,"Rapport analytique"),s.qZA(),s.TgZ(35,"mat-list",8),s.YNc(36,B,3,1,"mat-list-item",9),s.qZA(),s.qZA(),s._UZ(37,"mat-divider",10),s.TgZ(38,"div",6),s.TgZ(39,"p",7),s._uU(40,"Rapport parall\xe8le"),s.qZA(),s.TgZ(41,"mat-list",8),s.YNc(42,E,3,1,"mat-list-item",9),s.qZA(),s.qZA(),s._UZ(43,"mat-divider",10),s.TgZ(44,"div",6),s.TgZ(45,"p",7),s._uU(46),s.ALo(47,"translate"),s.qZA(),s.TgZ(48,"mat-list",8),s.YNc(49,j,3,1,"mat-list-item",9),s.qZA(),s.qZA(),s._UZ(50,"mat-divider",10),s.TgZ(51,"div",6),s.TgZ(52,"p",7),s._uU(53),s.ALo(54,"translate"),s.qZA(),s.TgZ(55,"mat-list",8),s.YNc(56,z,3,1,"mat-list-item",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(57,"div",11),s.TgZ(58,"button",12),s.NdJ("click",function(){return e.dialogRef.close()}),s._uU(59,"Retour"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(4),s.Oqu(e.title),s.xp6(9),s.Q6J("ngForOf",e.propertyToList(e.o.discours)),s.xp6(5),s.Q6J("ngForOf",e.propertyToList(e.o.conventionPiece)),s.xp6(1),s.Q6J("vertical",!0),s.xp6(5),s.Q6J("ngForOf",e.propertyToList(e.o.miseOeuvrePiece)),s.xp6(1),s.Q6J("vertical",!0),s.xp6(5),s.Q6J("ngForOf",e.propertyToList(e.o.observationPiece)),s.xp6(1),s.Q6J("vertical",!0),s.xp6(5),s.Q6J("ngForOf",e.propertyToList(e.o.analytiquePiece)),s.xp6(1),s.Q6J("vertical",!0),s.xp6(5),s.Q6J("ngForOf",e.propertyToList(e.o.rapportParallelePiece)),s.xp6(1),s.Q6J("vertical",!0),s.xp6(3),s.Oqu(s.lcZ(47,17,"admin.organe.update.rapportINDH")),s.xp6(3),s.Q6J("ngForOf",e.propertyToList(e.o.rapportINDH)),s.xp6(1),s.Q6J("vertical",!0),s.xp6(3),s.Oqu(s.lcZ(54,19,"admin.organe.update.avisPosition")),s.xp6(3),s.Q6J("ngForOf",e.propertyToList(e.o.avisPosition)))},directives:[v.uh,b.Ye,T.d,v.xY,h.i$,o.sg,v.H8,P.lW,h.Tg,g.wG],pipes:[Y.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),t})();var X=i(94589),G=i(31496),W=i(50545),K=i(20707),tt=i(3942),et=i(75163),it=i(3017),ot=i(16056),nt=i(56238),at=i(22797),st=i(77307),rt=i(38497);function ct(t,e){if(1&t&&(s.TgZ(0,"div",5),s._UZ(1,"app-upload",6),s.ALo(2,"translate"),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.s9C("nameBtn",s.lcZ(2,5,"Pi\xe8ce-jointe")),s.Q6J("folderToSaveInServer",t.folderToSaveInServer)("propertyOfParent",t.propertyUrlTo)("eventSubmitToParent",t.propertyUrlFrom)("eventSubmitFromParent",t.eventSubmitFromParent)}}function lt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",3),s.TgZ(1,"button",7),s.NdJ("click",function(){return s.CHM(t),s.oxw().submit()}),s.TgZ(2,"mat-icon"),s._uU(3,"save_alt"),s.qZA(),s._uU(4),s.ALo(5,"translate"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(1),s.Q6J("disabled",""===t.o.url&&0===t.o.id),s.xp6(3),s.hij(" ",s.lcZ(5,2,"admin.Enregistre"),"")}}let ut=(()=>{class t{constructor(t,e,i){this.uow=t,this.bottomSheet=e,this.session=i,this.o=new m.Xz,this.folderToSaveInServer="situation-reserve",this.propertyUrlTo=new l.xQ,this.propertyUrlFrom=new l.xQ,this.eventSubmitFromParent=new l.xQ,this.update=new l.xQ}ngOnInit(){(0,u.T)(this.update).pipe((0,nt.O)(null)).subscribe(t=>{this.uow.situationReserves.getFirst().subscribe(t=>{this.o=t,setTimeout(()=>{this.propertyUrlTo.next(this.o.url)},100)})}),this.propertyUrlFrom.subscribe(t=>this.o.url=t)}submit(){0===this.o.id?this.uow.situationReserves.post(this.o).subscribe(t=>{this.eventSubmitFromParent.next(!0),setTimeout(()=>this.update.next(!0),1e3)}):this.uow.situationReserves.put(this.o.id,this.o).subscribe(t=>{this.eventSubmitFromParent.next(!0),setTimeout(()=>this.update.next(!0),1e3)})}showPieceJoin(t=""){this.bottomSheet.open(M.x,{data:{fileName:this.o.url,folder:this.folderToSaveInServer}})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(d.Z),s.Y36(p.ch),s.Y36(W.m))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-situation-reserve"]],decls:13,vars:9,consts:[[1,"row",2,"margin-bottom","15px"],["class","col-md-6",4,"ngIf"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],["mat-raised-button","","cdkFocusInitial","","color","accent",3,"disabled","click"],[1,"col-md-6"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.TgZ(0,"mat-card"),s.TgZ(1,"h4"),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"div",0),s.YNc(5,ct,3,7,"div",1),s.YNc(6,lt,6,4,"div",2),s.TgZ(7,"div",3),s.TgZ(8,"button",4),s.NdJ("click",function(){return e.showPieceJoin()}),s.TgZ(9,"mat-icon"),s._uU(10,"cloud_download"),s.qZA(),s._uU(11),s.ALo(12,"translate"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Oqu(s.lcZ(3,5,"admin.organe.situation_des_r\xe9serves")),s.xp6(3),s.Q6J("ngIf",!1===e.session.isSuperViseur),s.xp6(1),s.Q6J("ngIf",!1===e.session.isSuperViseur),s.xp6(2),s.Q6J("disabled",""===e.o.url&&0===e.o.id),s.xp6(3),s.hij(" ",s.lcZ(12,7,"admin.organe.Telecharger")," "))},directives:[at.a8,o.O5,P.lW,st.Hw,rt.o],pipes:[Y.X$],styles:[""]}),t})();var mt=i(87672),pt=i(24311);const dt=function(){return["/admin/rapport/update",0]};function ht(t,e){1&t&&(s.TgZ(0,"button",35),s.TgZ(1,"mat-icon"),s._uU(2,"add"),s.qZA(),s._uU(3),s.ALo(4,"translate"),s.qZA()),2&t&&(s.Q6J("routerLink",s.DdM(4,dt)),s.xp6(3),s.hij(" ",s.lcZ(4,2,"admin.organe.Organesdetrait\xe9")," "))}function gt(t,e){1&t&&s._UZ(0,"mat-spinner")}function ft(t,e){if(1&t&&(s.TgZ(0,"div",36),s.YNc(1,gt,1,0,"mat-spinner",37),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.isLoadingResults)}}function Zt(t,e){1&t&&(s.TgZ(0,"th",38),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t&&(s.xp6(1),s.hij("",s.lcZ(2,1,"admin.organe.list.Organesdetrait\xe9")," "))}function xt(t,e){if(1&t&&(s.TgZ(0,"td",39),s._uU(1),s.qZA()),2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Oqu("fr"===i.mytranslate.langSync?t.nom:t.nomAr)}}function vt(t,e){1&t&&(s.TgZ(0,"th",40),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"admin.organe.list.Rapportnational")))}function bt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"td",39),s.TgZ(1,"button",41),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().showPieceJoin(e.conventionPiece)}),s.TgZ(2,"mat-icon"),s._uU(3,"cloud_download"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("disabled",i.disable(t.conventionPiece))("matTooltip",t.conventionPiece)}}function Tt(t,e){1&t&&(s.TgZ(0,"th",40),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"admin.organe.list.Discoursdupr\xe9sident")))}function Pt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"td",39),s.TgZ(1,"button",41),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().showPieceJoin(e.discours)}),s.TgZ(2,"mat-icon"),s._uU(3,"cloud_download"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("disabled",i.disable(t.discours))("matTooltip",t.discours)}}function wt(t,e){1&t&&(s.TgZ(0,"th",40),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"admin.organe.list.Compterenduanalytique")))}function qt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",41),s.NdJ("click",function(){s.CHM(t);const e=s.oxw().$implicit;return s.oxw().showPieceJoin(e.analytiquePiece)}),s.TgZ(1,"mat-icon"),s._uU(2,"cloud_download"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw().$implicit,e=s.oxw();s.Q6J("disabled",e.disable(t.analytiquePiece))("matTooltip",t.analytiquePiece)}}function At(t,e){if(1&t&&(s.TgZ(0,"td",39),s.YNc(1,qt,3,2,"button",42),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",!1===t.session.isPointFocal)}}function yt(t,e){if(1&t&&(s.TgZ(0,"th",40),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",!1===t.session.isPointFocal?s.lcZ(2,1,"admin.organe.list.Observationsfinales"):"","")}}function _t(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",41),s.NdJ("click",function(){s.CHM(t);const e=s.oxw().$implicit;return s.oxw().showPieceJoin(e.observationPiece)}),s.TgZ(1,"mat-icon"),s._uU(2,"cloud_download"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw().$implicit,e=s.oxw();s.Q6J("disabled",e.disable(t.observationPiece))("matTooltip",t.observationPiece)}}function St(t,e){if(1&t&&(s.TgZ(0,"td",39),s.YNc(1,_t,3,2,"button",42),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",!1===t.session.isPointFocal)}}function Nt(t,e){1&t&&(s.TgZ(0,"th",40),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"admin.organe.list.Rapportparall\xe8le")))}function Dt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"td",39),s.TgZ(1,"button",41),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().showPieceJoin(e.rapportParallelePiece)}),s.TgZ(2,"mat-icon"),s._uU(3,"cloud_download"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("disabled",i.disable(t.rapportParallelePiece))("matTooltip",t.rapportParallelePiece)}}function Ot(t,e){1&t&&(s.TgZ(0,"th",40),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"admin.organe.list.PLANDEMISEENOEUVRE")))}function Ct(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"td",39),s.TgZ(1,"button",41),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().showPieceJoin(e.miseOeuvrePiece)}),s.TgZ(2,"mat-icon"),s._uU(3,"cloud_download"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("disabled",i.disable(t.miseOeuvrePiece))("matTooltip",t.miseOeuvrePiece)}}function Ut(t,e){1&t&&(s.TgZ(0,"th",40),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"admin.organe.rapportINDH")))}function Ft(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"td",39),s.TgZ(1,"button",41),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().showPieceJoin(e.rapportINDH)}),s.TgZ(2,"mat-icon"),s._uU(3,"cloud_download"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("disabled",i.disable(t.rapportINDH))("matTooltip",t.rapportINDH)}}function Jt(t,e){1&t&&(s.TgZ(0,"th",40),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&t&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"admin.organe.avisPosition")))}function Qt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"td",39),s.TgZ(1,"button",41),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().showPieceJoin(e.avisPosition)}),s.TgZ(2,"mat-icon"),s._uU(3,"cloud_download"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("disabled",i.disable(t.avisPosition))("matTooltip",t.avisPosition)}}function kt(t,e){1&t&&s._UZ(0,"th",40)}const It=function(t){return["/admin/rapport/update",t]};function Mt(t,e){if(1&t&&(s.TgZ(0,"button",48),s.TgZ(1,"mat-icon"),s._uU(2,"create"),s.qZA(),s.qZA()),2&t){const t=s.oxw(2).$implicit;s.Q6J("routerLink",s.VKq(1,It,t.id))}}function Yt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",49),s.NdJ("click",function(){s.CHM(t);const e=s.oxw(2).$implicit;return s.oxw().archive(e)}),s.TgZ(1,"mat-icon"),s._uU(2,"unarchive"),s.qZA(),s.qZA()}}function Lt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",50),s.NdJ("click",function(){s.CHM(t);const e=s.oxw(2).$implicit;return s.oxw().delete(e)}),s.TgZ(1,"mat-icon"),s._uU(2,"delete_sweep"),s.qZA(),s.qZA()}}function Rt(t,e){if(1&t&&(s.TgZ(0,"div",44),s.YNc(1,Mt,3,3,"button",45),s.YNc(2,Yt,3,0,"button",46),s.YNc(3,Lt,3,0,"button",47),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur),s.xp6(1),s.Q6J("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur),s.xp6(1),s.Q6J("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur)}}function Ht(t,e){if(1&t&&(s.TgZ(0,"td",39),s.YNc(1,Rt,4,3,"div",43),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",!t.session.isPublic)}}function $t(t,e){1&t&&s._UZ(0,"tr",51)}function Bt(t,e){1&t&&s._UZ(0,"tr",52)}const Et=function(){return[10,25,50,100,250]};let jt=(()=>{class t{constructor(t,e,i,o,n,a,r,c){this.uow=t,this.dialog=e,this.mydialog=i,this.mytranslate=o,this.bottomSheet=n,this.session=a,this.route=r,this.url=c,this.update=new s.vpe,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.dataSource=[],this.columnDefs=[{columnDef:"nom",headName:"Organes de Trait\xe9s"},{columnDef:"conventionPiece",headName:"Rapport national"},{columnDef:"discours",headName:"Discours du pr\xe9sident"},{columnDef:"analytiquePiece",headName:"Compte rendu analytique"},{columnDef:"observationPiece",headName:"Observations finales"},{columnDef:"rapportParallelePiece",headName:"Rapport  parall\xe8le"},{columnDef:"rapportINDH",headName:"rapportINDH"},{columnDef:"avisPosition",headName:"avisPosition"},{columnDef:"option",headName:"..."}].map(t=>(t.headName=""===t.headName?t.columnDef.toUpperCase():t.headName.toUpperCase(),t)),this.displayedColumns=["nom","conventionPiece","rapportINDH","rapportParallelePiece","discours","analytiquePiece","observationPiece","avisPosition","option"],this.text="",this.text2=this.text.substring(0,600),this.progress=0,this.countRec=new l.xQ,this.mecanismeState=new l.xQ,this.stateByMecanisme=new l.xQ,this.stateDetailByMecanisme=new l.xQ}ngOnInit(){this.getPage(0,10,"id","desc",this.session.isPublic?0:this.session.user.idOrganisme),(0,u.T)(this.sort.sortChange,this.paginator.page,this.update).subscribe(t=>{!0===t?this.paginator.pageIndex=0:t=t,this.paginator.pageSize?t=t:this.paginator.pageSize=10;const e=this.paginator.pageIndex*this.paginator.pageSize;this.isLoadingResults=!0,this.getPage(e,this.paginator.pageSize,this.sort.active?this.sort.active:"id",this.sort.direction?this.sort.direction:"desc",this.session.isPublic?0:this.session.user.idOrganisme)}),this.getMecanismeState(),this.getStateByMecanisme(),this.getStateDetailByMecanisme(),this.uow.recommendations.mecanismeCount("organe").subscribe(t=>this.countRec.next(t))}disable(t){return!t||""===t}getPage(t,e,i,o,n){this.uow.traites.getAll(t,e,i,o,n).subscribe(t=>{this.dataSource=t.list,this.resultsLength=t.count,this.isLoadingResults=!1})}openDialog(t){return this.dialog.open(I,{width:"7100px",disableClose:!0,data:{model:t,title:"Rapport"}}).afterClosed()}moreInfo(){this.text2=600===this.text2.length?this.text:this.text.substring(0,600)}delete(t){return(0,a.mG)(this,void 0,void 0,function*(){if("ok"===(yield this.mydialog.openDialog("rapport").toPromise())){let e=[];""!==t.conventionPiece?e.push(...this.uow.decoupe(t.conventionPiece)):e=e,""!==t.miseOeuvrePiece?e.push(...this.uow.decoupe(t.miseOeuvrePiece)):e=e,""!==t.observationPiece?e.push(...this.uow.decoupe(t.observationPiece)):e=e,""!==t.discours?e.push(...this.uow.decoupe(t.discours)):e=e,""!==t.analytiquePiece?e.push(...this.uow.decoupe(t.analytiquePiece)):e=e,""!==t.miseOeuvrePiece?e.push(...this.uow.decoupe(t.miseOeuvrePiece)):e=e,this.uow.files.deleteFiles(e,"traite").subscribe(e=>{this.uow.traites.delete(t.id).subscribe(()=>this.update.next(!0))})}})}archive(t){this.dialog.open(V,{width:"80vw",disableClose:!0,data:{model:t,title:t.nom}})}showPieceJoin2(t){this.bottomSheet.open(x,{data:t})}showPieceJoin(t){this.bottomSheet.open(M.x,{data:{fileName:t,folder:"traite"}})}getMecanismeState(){this.uow.organes.mecanismeState().subscribe(t=>{const e=[];e.push(this.mytranslate.get("R\xe9alis\xe9")),e.push(this.mytranslate.get("NonR\xe9alis\xe9")),e.push(this.mytranslate.get("EnCours")),e.push(this.mytranslate.get("Recommendation_continue"));const i=[],o=[];i.push(100*t.four/t.total),i.push(100*t.one/t.total),i.push(100*t.two/t.total),i.push(100*t.three/t.total),o.push(t.one,t.two,t.three,t.four),this.mecanismeState.next({chartLabels:e,chartData:i,chartColors:["#2b960b","#db0707","#f7801e","#2d71a1","#ffffff"],dataToShowInTable:o,title:this.mytranslate.get("admin.header.Etat de mise en \u0153uvre")})})}getStateByMecanisme(){this.uow.organes.stateByMecanisme().subscribe(t=>{const e=t.map(t=>t.name),i=t.map(t=>+t.one.toFixed(0));this.stateByMecanisme.next({chartLabels:e,chartData:i,chartColors:[],dataToShowInTable:[],title:this.mytranslate.get("admin.organe.list.Tauxderecommandationsparorgane")})})}getStateDetailByMecanisme(){this.uow.organes.stateDetailByMecanisme().subscribe(t=>{const e=(t=t.filter(t=>null!==t.name)).map(t=>t.name),i=[{data:[],label:this.mytranslate.get("NonR\xe9alis\xe9")},{data:[],label:this.mytranslate.get("EnCours")},{data:[],label:this.mytranslate.get("Recommendation_continue")},{data:[],label:this.mytranslate.get("R\xe9alis\xe9")}];t.forEach(t=>{i[0].data.push(+(100*t.one/t.total).toFixed(0)),i[1].data.push(+(100*t.two/t.total).toFixed(0)),i[2].data.push(+(100*t.three/t.total).toFixed(0)),i[3].data.push(+(100*t.four/t.total).toFixed(0))}),this.stateDetailByMecanisme.next({barChartLabels:e,barChartData:i,title:this.mytranslate.get("admin.epu.list.EtatAvancementderecommandationsparaxe")})})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(d.Z),s.Y36(v.uw),s.Y36(X.b),s.Y36(G.n),s.Y36(p.ch),s.Y36(W.m),s.Y36(n.gz),s.Y36("BASE_URL"))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-list"]],viewQuery:function(t,e){if(1&t&&(s.Gf(r.NW,7),s.Gf(c.YE,7)),2&t){let t;s.iGM(t=s.CRH())&&(e.paginator=t.first),s.iGM(t=s.CRH())&&(e.sort=t.first)}},decls:57,vars:21,consts:[[1,"host"],[3,"title"],[1,"right"],["class","mt-3","mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mecanisme","organe"],[1,"row","mb-4","justify-content-center"],[1,"col-md-5"],[3,"obs"],[1,"col-md-2","p-0"],[3,"title","count","height"],[1,"col-md-12"],[1,"chart-size"],[3,"col","height","dataSubject"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],["matColumnDef","nom"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","conventionPiece"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","discours"],["matColumnDef","analytiquePiece"],["matColumnDef","observationPiece"],["matColumnDef","rapportParallelePiece"],["matColumnDef","miseOeuvrePiece"],["matColumnDef","rapportINDH"],["matColumnDef","avisPosition"],["matColumnDef","option",2,"flex-direction","row-reverse"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],["mat-raised-button","","color","primary",1,"mt-3",3,"routerLink"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",1,"center",3,"disabled","matTooltip","click"],["class","center","mat-icon-button","","color","accent",3,"disabled","matTooltip","click",4,"ngIf"],["class","button-row",4,"ngIf"],[1,"button-row"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"app-title",1),s.ALo(2,"translate"),s.TgZ(3,"div",2),s.YNc(4,ht,5,5,"button",3),s.qZA(),s._UZ(5,"app-intros",4),s.TgZ(6,"div",5),s.TgZ(7,"div",6),s._UZ(8,"app-pie",7),s.qZA(),s.TgZ(9,"div",8),s._UZ(10,"app-count",9),s.ALo(11,"translate"),s.qZA(),s.TgZ(12,"div",6),s._UZ(13,"app-pie",7),s.qZA(),s.TgZ(14,"div",10),s.TgZ(15,"div",11),s._UZ(16,"app-bar",12),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",13),s.YNc(18,ft,2,1,"div",14),s.TgZ(19,"div",15),s.TgZ(20,"table",16,17),s.ynx(22,18),s.YNc(23,Zt,3,3,"th",19),s.YNc(24,xt,2,1,"td",20),s.BQk(),s.ynx(25,21),s.YNc(26,vt,3,3,"th",22),s.YNc(27,bt,4,2,"td",20),s.BQk(),s.ynx(28,23),s.YNc(29,Tt,3,3,"th",22),s.YNc(30,Pt,4,2,"td",20),s.BQk(),s.ynx(31,24),s.YNc(32,wt,3,3,"th",22),s.YNc(33,At,2,1,"td",20),s.BQk(),s.ynx(34,25),s.YNc(35,yt,3,3,"th",22),s.YNc(36,St,2,1,"td",20),s.BQk(),s.ynx(37,26),s.YNc(38,Nt,3,3,"th",22),s.YNc(39,Dt,4,2,"td",20),s.BQk(),s.ynx(40,27),s.YNc(41,Ot,3,3,"th",22),s.YNc(42,Ct,4,2,"td",20),s.BQk(),s.ynx(43,28),s.YNc(44,Ut,3,3,"th",22),s.YNc(45,Ft,4,2,"td",20),s.BQk(),s.ynx(46,29),s.YNc(47,Jt,3,3,"th",22),s.YNc(48,Qt,4,2,"td",20),s.BQk(),s.ynx(49,30),s.YNc(50,kt,1,0,"th",22),s.YNc(51,Ht,2,1,"td",20),s.BQk(),s.YNc(52,$t,1,0,"tr",31),s.YNc(53,Bt,1,0,"tr",32),s.qZA(),s.qZA(),s._UZ(54,"mat-paginator",33,34),s.qZA(),s._UZ(56,"app-situation-reserve"),s.qZA()),2&t&&(s.xp6(1),s.s9C("title",s.lcZ(2,16,"admin.organe.Organesdetrait\xe9s")),s.xp6(3),s.Q6J("ngIf",!e.session.isPointFocal&&!e.session.isSuperViseur&&!e.session.isPublic),s.xp6(4),s.Q6J("obs",e.mecanismeState),s.xp6(2),s.Q6J("title",s.lcZ(11,18,"admin.header.organeCount"))("count",e.countRec)("height","55vh"),s.xp6(3),s.Q6J("obs",e.stateByMecanisme),s.xp6(3),s.Q6J("col",12)("height","70vh")("dataSubject",e.stateDetailByMecanisme),s.xp6(2),s.Q6J("ngIf",e.isLoadingResults),s.xp6(2),s.Q6J("dataSource",e.dataSource),s.xp6(32),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(1),s.Q6J("length",e.resultsLength)("pageSizeOptions",s.DdM(20,Et)))},directives:[K.r,o.O5,tt.e,et.R,it.S,ot.R,w.BZ,c.YE,w.w1,w.fO,w.Dz,w.as,w.nj,r.NW,ut,P.lW,n.rH,st.Hw,mt.$g,w.ge,c.nU,w.ev,pt.gM,w.XQ,w.Gk],pipes:[Y.X$],styles:["section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}  h3{margin:0!important}.host[_ngcontent-%COMP%]{margin:1em!important}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.mat-cell[_ngcontent-%COMP%]:last-child,   .mat-header-cell:last-child{width:180px!important}"]}),t})();var zt=i(31041),Vt=i(85503),Xt=i(57173),Gt=i(13070),Wt=i(9550),Kt=i(69024),te=i(68085);const ee=function(){return["/admin/rapport/list"]};function ie(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"form",5),s.TgZ(1,"div",6),s.TgZ(2,"mat-form-field",7),s.TgZ(3,"mat-label"),s._uU(4),s.ALo(5,"translate"),s.qZA(),s._UZ(6,"textarea",8),s.qZA(),s.TgZ(7,"mat-form-field",7),s.TgZ(8,"mat-label"),s._uU(9),s.ALo(10,"translate"),s.qZA(),s._UZ(11,"textarea",9),s.qZA(),s.TgZ(12,"div",10),s.TgZ(13,"mat-form-field",11),s.TgZ(14,"mat-label"),s._uU(15),s.ALo(16,"translate"),s.qZA(),s._UZ(17,"input",12),s._UZ(18,"mat-datepicker-toggle",13),s._UZ(19,"mat-datepicker",null,14),s.qZA(),s.TgZ(21,"mat-form-field",11),s.TgZ(22,"mat-label"),s._uU(23),s.ALo(24,"translate"),s.qZA(),s._UZ(25,"input",15),s._UZ(26,"mat-datepicker-toggle",13),s._UZ(27,"mat-datepicker",null,16),s.qZA(),s.qZA(),s.TgZ(29,"div",17),s._UZ(30,"app-upload-select",18),s.ALo(31,"translate"),s._UZ(32,"app-upload-select",18),s.ALo(33,"translate"),s._UZ(34,"app-upload-select",18),s.ALo(35,"translate"),s._UZ(36,"app-upload-select",18),s.ALo(37,"translate"),s._UZ(38,"app-upload-select",18),s.ALo(39,"translate"),s._UZ(40,"app-upload-select",18),s.ALo(41,"translate"),s._UZ(42,"app-upload-select",18),s.ALo(43,"translate"),s._UZ(44,"app-upload-select",18),s.ALo(45,"translate"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(46,"div",19),s.TgZ(47,"button",20),s._uU(48),s.ALo(49,"translate"),s.qZA(),s._uU(50,"\xa0\xa0 "),s.TgZ(51,"button",21),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.submit(e.myForm.value)}),s._uU(52),s.ALo(53,"translate"),s.qZA(),s.qZA()}if(2&t){const t=s.MAs(20),e=s.MAs(28),i=s.oxw();s.Q6J("formGroup",i.myForm),s.xp6(4),s.Oqu(s.lcZ(5,53,"admin.organe.update.ConventionProtocole")),s.xp6(5),s.Oqu(s.lcZ(10,55,"admin.organe.update.ConventionProtocoleAr")),s.xp6(6),s.Oqu(s.lcZ(16,57,"admin.organe.update.DateSignature")),s.xp6(2),s.Q6J("matDatepicker",t),s.xp6(1),s.Q6J("for",t),s.xp6(5),s.Oqu(s.lcZ(24,59,"admin.organe.update.Datederatification")),s.xp6(2),s.Q6J("matDatepicker",e),s.xp6(1),s.Q6J("for",e),s.xp6(4),s.s9C("nameBtn",s.lcZ(31,61,"admin.organe.list.Rapportnational")),s.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.conventionPieceTo)("eventSubmitToParent",i.conventionPieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),s.xp6(2),s.s9C("nameBtn",s.lcZ(33,63,"admin.organe.list.Discoursdupr\xe9sident")),s.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.discoursTo)("eventSubmitToParent",i.discoursFrom)("eventSubmitFromParent",i.eventSubmitFromParent),s.xp6(2),s.s9C("nameBtn",s.lcZ(35,65,"admin.organe.list.Compterenduanalytique")),s.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.analytiquePieceTo)("eventSubmitToParent",i.analytiquePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),s.xp6(2),s.s9C("nameBtn",s.lcZ(37,67,"admin.organe.list.Observationsfinales")),s.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.observationPieceTo)("eventSubmitToParent",i.observationPieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),s.xp6(2),s.s9C("nameBtn",s.lcZ(39,69,"admin.organe.list.Rapportparall\xe8le")),s.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.rapportParallelePieceTo)("eventSubmitToParent",i.rapportParallelePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),s.xp6(2),s.s9C("nameBtn",s.lcZ(41,71,"admin.organe.list.PLANDEMISEENOEUVRE")),s.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.miseOeuvrePieceTo)("eventSubmitToParent",i.miseOeuvrePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),s.xp6(2),s.s9C("nameBtn",s.lcZ(43,73,"admin.organe.rapportINDH")),s.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.rapportINDHTo)("eventSubmitToParent",i.rapportINDHFrom)("eventSubmitFromParent",i.eventSubmitFromParent),s.xp6(2),s.s9C("nameBtn",s.lcZ(45,75,"admin.organe.avisPosition")),s.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.avisPositionTo)("eventSubmitToParent",i.avisPositionFrom)("eventSubmitFromParent",i.eventSubmitFromParent),s.xp6(3),s.Q6J("routerLink",s.DdM(81,ee)),s.xp6(1),s.Oqu(s.lcZ(49,77,"admin.Retour")),s.xp6(3),s.Q6J("disabled",i.myForm.invalid),s.xp6(1),s.Oqu(s.lcZ(53,79,"admin.Enregistre"))}}let oe=(()=>{class t{constructor(t,e,i,o,n){this.route=t,this.snack=e,this.uow=i,this.fb=o,this.session=n,this.o=new m.SD,this.id=0,this.folderToSaveInServer="traite",this.conventionPieceTo=new l.xQ,this.conventionPieceFrom=new l.xQ,this.discoursTo=new l.xQ,this.discoursFrom=new l.xQ,this.observationPieceTo=new l.xQ,this.observationPieceFrom=new l.xQ,this.miseOeuvrePieceTo=new l.xQ,this.miseOeuvrePieceFrom=new l.xQ,this.analytiquePieceTo=new l.xQ,this.analytiquePieceFrom=new l.xQ,this.rapportParallelePieceTo=new l.xQ,this.rapportParallelePieceFrom=new l.xQ,this.rapportINDHTo=new l.xQ,this.rapportINDHFrom=new l.xQ,this.avisPositionTo=new l.xQ,this.avisPositionFrom=new l.xQ,this.eventSubmitFromParent=new l.xQ}ngOnInit(){this.createForm(),this.id=+this.route.snapshot.paramMap.get("id"),0!==this.id&&this.uow.traites.getOne(this.id).subscribe(t=>{this.o=t,this.createForm(),setTimeout(()=>{this.discoursTo.next(this.o.discours),this.rapportParallelePieceTo.next(this.o.rapportParallelePiece),this.conventionPieceTo.next(this.o.conventionPiece),this.observationPieceTo.next(this.o.observationPiece),this.miseOeuvrePieceTo.next(this.o.miseOeuvrePiece),this.analytiquePieceTo.next(this.o.analytiquePiece),this.rapportINDHTo.next(this.o.rapportINDH),this.avisPositionTo.next(this.o.avisPosition)},100)}),this.rapportParallelePieceFrom.subscribe(t=>this.myForm.get("rapportParallelePiece").setValue(t)),this.conventionPieceFrom.subscribe(t=>this.myForm.get("conventionPiece").setValue(t)),this.discoursFrom.subscribe(t=>this.myForm.get("discours").setValue(t)),this.observationPieceFrom.subscribe(t=>this.myForm.get("observationPiece").setValue(t)),this.miseOeuvrePieceFrom.subscribe(t=>this.myForm.get("miseOeuvrePiece").setValue(t)),this.analytiquePieceFrom.subscribe(t=>this.myForm.get("analytiquePiece").setValue(t)),this.rapportINDHFrom.subscribe(t=>this.myForm.get("rapportINDH").setValue(t)),this.avisPositionFrom.subscribe(t=>this.myForm.get("avisPosition").setValue(t))}createForm(){this.myForm=this.fb.group({id:this.o.id,nom:[this.o.nom,zt.kI.required],nomAr:[this.o.nomAr,zt.kI.required],discours:[this.o.discours],dateSignature:[this.o.dateSignature,zt.kI.required],dateRatification:[this.o.dateRatification,zt.kI.required],conventionPiece:[this.o.conventionPiece],observationPiece:[this.o.observationPiece],miseOeuvrePiece:[this.o.miseOeuvrePiece],analytiquePiece:[this.o.analytiquePiece],rapportParallelePiece:[this.o.rapportParallelePiece],rapportINDH:[this.o.rapportINDH],avisPosition:[this.o.avisPosition]})}submit(t){t.dateRatification=this.valideDate(t.dateRatification),t.dateSignature=this.valideDate(t.dateSignature),t.idUser=this.session.user.id,0===this.id?this.uow.traites.post(t).subscribe(t=>(0,a.mG)(this,void 0,void 0,function*(){this.eventSubmitFromParent.next(!0),this.o=t})):this.uow.traites.put(t.id,t).subscribe(t=>(0,a.mG)(this,void 0,void 0,function*(){this.eventSubmitFromParent.next(!0),new Date}))}reset(){this.o=new m.SD,this.createForm()}valideDate(t){const e=(t=new Date(t)).getHours()-t.getTimezoneOffset()/60,i=(t.getHours()-t.getTimezoneOffset())%60;return t.setHours(e),t.setMinutes(i),t}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.gz),s.Y36(Vt.c),s.Y36(d.Z),s.Y36(zt.qu),s.Y36(W.m))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-update"]],decls:7,vars:7,consts:[[1,"host"],[3,"title"],[1,"example-stretched-tabs","mat-elevation-z4",2,"margin-top","15px"],[3,"label","disabled"],["matTabContent",""],[3,"formGroup"],[1,"myForm",2,"margin-top","15px","height","100%"],["appearance","fill",2,"width","100%"],["matInput","","rows","6","formControlName","nom","required",""],["matInput","","rows","6","formControlName","nomAr","required",""],[1,"inputs"],["appearance","fill"],["matInput","","formControlName","dateSignature",3,"matDatepicker"],["matSuffix","",3,"for"],["picker5",""],["matInput","","formControlName","dateRatification",3,"matDatepicker"],["picker0",""],[1,"row","justify-content-center",2,"margin-bottom","15px"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],[1,"actions"],["mat-button","","type","button",3,"routerLink"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"app-title",1),s.ALo(2,"translate"),s.TgZ(3,"mat-tab-group",2),s.TgZ(4,"mat-tab",3),s.ALo(5,"translate"),s.YNc(6,ie,54,82,"ng-template",4),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(1),s.s9C("title",s.lcZ(2,3,"admin.organe.Organesdetrait\xe9")),s.xp6(3),s.s9C("label",s.lcZ(5,5,"admin.organe.update.Trait\xe9")),s.Q6J("disabled",!1))},directives:[K.r,Xt.SP,Xt.uX,Xt.Vc,zt._Y,zt.JL,zt.sg,Gt.KE,Gt.hX,Wt.Nt,zt.Fj,zt.JJ,zt.u,zt.Q7,Kt.hl,Kt.nW,Gt.R9,Kt.Mq,te.k,P.lW,n.rH],pipes:[Y.X$],styles:[".myForm[_ngcontent-%COMP%]{margin:0 15px}.myForm[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(20vw,1fr));grid-column-gap:6px;grid-row-gap:6px;align-items:center}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;margin:0 15px 15px 0}.host[_ngcontent-%COMP%]{margin:1em!important}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}.example-stretched-tabs[_ngcontent-%COMP%]{max-width:100%} .mat-tab-label.mat-tab-label-active.cdk-keyboard-focused:not(.mat-tab-disabled),  .mat-tab-label.mat-tab-label-active:not(.mat-tab-disabled){background-color:#dfdfdf;font-weight:700}  .mat-tab-body-content{height:calc(100vh - 210px)!important;overflow:auto}"]}),t})();const ne=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-rapport"]],decls:1,vars:0,template:function(t,e){1&t&&s._UZ(0,"router-outlet")},directives:[n.lC],styles:[""]}),t})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:jt},{path:"update/:id",component:oe}],canActivate:[i(46589).l]}];let ae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.Bz.forChild(ne)],n.Bz]}),t})();var se=i(42693),re=i(57823),ce=i(97866),le=i(15675),ue=i(23928),me=i(4967);let pe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.ez,ae,se.JF,re.R,zt.u5,zt.UX,ce.i,le.f,ue.N,Y.aw,me.O]]}),t})()}}]);