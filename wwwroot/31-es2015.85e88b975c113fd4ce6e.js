(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{Yj9t:function(t,e,a){"use strict";a.r(e),a.d(e,"AuthModule",function(){return q});var i=a("ofXK"),n=a("tyNb"),o=a("fXoL");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Hb({type:t,selectors:[["app-auth"]],decls:1,vars:0,template:function(t,e){1&t&&o.Ob(0,"router-outlet")},directives:[n.i],styles:[""]}),t})();var c=a("mrSG"),s=a("3Pt+"),l=a("ukCm"),m=a("AytR"),b=a("7q3A"),u=a("M0ag"),d=a("J3i2"),f=a("Wp6s"),p=a("kmnG"),h=a("qFsG"),g=a("NFeN"),w=a("bTqV"),y=a("d3UM"),C=a("FKr1"),S=a("+0xr"),v=a("sYmb");function T(t,e){1&t&&(o.Tb(0,"mat-error"),o.Cc(1),o.fc(2,"translate"),o.Sb()),2&t&&(o.Bb(1),o.Dc(o.gc(2,1,"admin.auth.Emailestpasvalider")))}function B(t,e){1&t&&(o.Tb(0,"th",29),o.Cc(1," EMAIL "),o.Sb())}function x(t,e){if(1&t&&(o.Tb(0,"td",30),o.Cc(1),o.Sb()),2&t){const t=e.$implicit;o.Bb(1),o.Ec(" ",t.email," ")}}function O(t,e){1&t&&(o.Tb(0,"th",29),o.Cc(1," MOTPASS "),o.Sb())}function k(t,e){if(1&t&&(o.Tb(0,"td",30),o.Cc(1),o.Sb()),2&t){const t=e.$implicit;o.Bb(1),o.Ec(" ",t.password," ")}}function D(t,e){1&t&&(o.Tb(0,"th",29),o.Cc(1," PROFIL "),o.Sb())}function M(t,e){if(1&t&&(o.Tb(0,"td",30),o.Cc(1),o.Sb()),2&t){const t=e.$implicit;o.Bb(1),o.Ec(" ",t.profil," ")}}function F(t,e){1&t&&o.Ob(0,"tr",31)}function P(t,e){1&t&&o.Ob(0,"tr",32)}function E(t,e){if(1&t&&(o.Tb(0,"table",21),o.Rb(1,22),o.Bc(2,B,2,0,"th",23),o.Bc(3,x,2,1,"td",24),o.Qb(),o.Rb(4,25),o.Bc(5,O,2,0,"th",23),o.Bc(6,k,2,1,"td",24),o.Qb(),o.Rb(7,26),o.Bc(8,D,2,0,"th",23),o.Bc(9,M,2,1,"td",24),o.Qb(),o.Bc(10,F,1,0,"tr",27),o.Bc(11,P,1,0,"tr",28),o.Sb()),2&t){const t=o.ec();o.kc("dataSource",t.dataSource),o.Bb(10),o.kc("matHeaderRowDef",t.displayedColumns),o.Bb(1),o.kc("matRowDefColumns",t.displayedColumns)}}const I=function(){return["/admin"]},N=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:r,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(t,e,a,i,n){this.fb=t,this.uow=e,this.router=a,this.session=i,this.mytranslate=n,this.isDev=!1===m.a.production,this.displayedColumns=["email","password","profil"],this.dataSource=[{email:"mourabit@angular.io",password:"123",profil:"Administrateur"},{email:"mehdi@angular.io",password:"123",profil:"Superviseur"},{email:"soufiane@angular.io",password:"123",profil:"Point focal"},{email:"ahmed@angular.io",password:"123",profil:"Propri\xe9taire"}],this.o=new l.p,this.hide=!0}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){this.o.email="mourabit@angular.io",this.o.password="123",this.createForm()})}createForm(){this.myForm=this.fb.group({email:[this.o.email,[s.s.required,s.s.email]],password:[this.o.password,[s.s.required]]})}get email(){return this.myForm.get("email")}get password(){return this.myForm.get("password")}get emailError(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}get passwordError(){return this.password.hasError("required")?"You must enter a value":""}submit(t){const e=t.value;console.log(e),this.uow.users.login(e).subscribe(t=>{this.session.doSignIn(t.user,t.token,t.idRole),setTimeout(()=>this.router.navigate(["/admin"]),500)})}resetForm(){this.o=new l.p,this.createForm()}ngOnDestroy(){console.log("ngOnDestroy")}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(s.d),o.Nb(b.a),o.Nb(n.e),o.Nb(u.a),o.Nb(d.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-login"]],decls:46,vars:28,consts:[[1,"flex-container"],[1,"flex-item","mat-elevation-z8"],[3,"formGroup","ngSubmit"],[1,"logo"],["src","assets/logo-ddh.jpg","alt","marit logo","width","210"],[1,"systeme","auth-title"],[1,"example-container","mtb-2","text-center"],["appearance","fill"],[1,"mat-label"],["matInput","","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","color","warn","type","button",3,"routerLink"],[1,"row","justify-content-center"],[1,"d-flex"],[3,"selectionChange"],["value","fr"],["value","ar"],["mat-table","","class","mat-elevation-z8","style","width: 450px !important;",3,"dataSource",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",2,"width","450px !important",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","password"],["matColumnDef","profil"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.Tb(0,"div",0),o.Tb(1,"mat-card",1),o.Tb(2,"form",2),o.ac("ngSubmit",function(){return e.submit(e.myForm)}),o.Tb(3,"mat-card-content"),o.Tb(4,"div",3),o.Ob(5,"img",4),o.Sb(),o.Tb(6,"p",5),o.Cc(7),o.fc(8,"translate"),o.Sb(),o.Tb(9,"div",6),o.Tb(10,"mat-form-field",7),o.Tb(11,"mat-label",8),o.Cc(12),o.fc(13,"translate"),o.Sb(),o.Ob(14,"input",9),o.Bc(15,T,3,3,"mat-error",10),o.Sb(),o.Tb(16,"mat-form-field",7),o.Tb(17,"mat-label"),o.Cc(18),o.fc(19,"translate"),o.Sb(),o.Ob(20,"input",11),o.Tb(21,"mat-icon",12),o.ac("click",function(){return e.hide=!e.hide}),o.Cc(22),o.Sb(),o.Sb(),o.Ob(23,"br"),o.Tb(24,"button",13),o.Cc(25),o.fc(26,"translate"),o.Sb(),o.Ob(27,"br"),o.Tb(28,"button",14),o.Tb(29,"mat-icon"),o.Cc(30,"home"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Ob(31,"div",15),o.Ob(32,"mat-card-actions"),o.Sb(),o.Tb(33,"div",16),o.Tb(34,"mat-form-field"),o.Tb(35,"mat-label"),o.Cc(36),o.fc(37,"translate"),o.Sb(),o.Tb(38,"mat-select",17),o.ac("selectionChange",function(t){return e.mytranslate.changeLanguage(t.value)}),o.Tb(39,"mat-option",18),o.Cc(40),o.fc(41,"async"),o.Sb(),o.Tb(42,"mat-option",19),o.Cc(43),o.fc(44,"async"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Bc(45,E,12,3,"table",20),o.Sb()),2&t&&(o.Bb(2),o.kc("formGroup",e.myForm),o.Bb(5),o.Dc(o.gc(8,13,"admin.home.Syst\xe8medeSuividesrecommandations")),o.Bb(5),o.Dc(o.gc(13,15,"admin.auth.Email")),o.Bb(3),o.kc("ngIf",e.myForm.get("email").invalid),o.Bb(3),o.Dc(o.gc(19,17,"admin.auth.Motdepasse")),o.Bb(2),o.kc("type",e.hide?"password":"text"),o.Bb(2),o.Dc(e.hide?"visibility_off":"visibility"),o.Bb(3),o.Dc(o.gc(26,19,"admin.auth.Connexion")),o.Bb(3),o.kc("routerLink",o.mc(27,I)),o.Bb(8),o.Dc(o.gc(37,21,"admin.auth.Choisirunlangue")),o.Bb(4),o.Dc("fr"===o.gc(41,23,e.mytranslate.lang)?"Fran\xe7ais":"\u0641\u0631\u0646\u0633\u064a"),o.Bb(3),o.Dc("fr"===o.gc(44,25,e.mytranslate.lang)?"Arabe":"\u0639\u0631\u0628\u064a"),o.Bb(2),o.kc("ngIf",e.isDev))},directives:[f.a,s.t,s.n,s.h,f.c,p.c,p.f,h.b,s.c,s.m,s.g,i.m,g.a,p.g,w.a,n.f,f.b,y.a,C.o,p.b,S.j,S.c,S.e,S.b,S.g,S.i,S.d,S.a,S.f,S.h],pipes:[v.c,i.b],styles:[".flex-container[_ngcontent-%COMP%]{padding:0;margin:0;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column}.flex-item[_ngcontent-%COMP%]{background-color:#fff;height:auto;width:450px;min-width:200px;line-height:20px;font-weight:700;font-size:2em;text-align:center;margin:15px;display:inline-block;border-radius:0}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.img1[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:cover;height:100%}.mat-cell[_ngcontent-%COMP%]:last-child, .mat-header-cell[_ngcontent-%COMP%]:last-child{width:auto!important;padding-right:0!important}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.systeme[_ngcontent-%COMP%]{font-weight:700;margin:25px 0 50px;line-height:30px}"]}),t})(),data:{state:"login"}}]}];let R=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[n.h.forChild(N)],n.h]}),t})();var _=a("2thQ"),j=a("tk/3");let q=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[i.c,R,_.a,j.c,s.i,s.q,_.a,v.b]]}),t})()}}]);