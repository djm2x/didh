!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[728],{40728:function(e,i,a){"use strict";a.r(i),a.d(i,{ExamenModule:function(){return It}});var r=a(61116),s=a(63337),l=a(64762),c=a(18314),u=a(35366),p=a(55959),m=a(31906),d=a(92935),g=a(31041),f=a(92572),h=a(37112),v=a(36278),Z=a(13070),x=a(9550),b=a(68085),T=a(84369),w=a(60649),C=function(){var t=function(){function t(e,i,o,a){n(this,t),this.dialogRef=e,this.data=i,this.fb=o,this.uow=a,this.title="",this.folderToSaveInServer="examen",this.rapportMiParcoursTo=new p.xQ,this.rapportMiParcoursFrom=new p.xQ,this.discoursTo=new p.xQ,this.discoursFrom=new p.xQ,this.compilationHCDHTo=new p.xQ,this.compilationHCDHFrom=new p.xQ,this.observationFinaleTo=new p.xQ,this.observationFinaleFrom=new p.xQ,this.rapportNationalTo=new p.xQ,this.rapportNationalFrom=new p.xQ,this.miseOeuvrePieceTo=new p.xQ,this.miseOeuvrePieceFrom=new p.xQ,this.rapportINDHTo=new p.xQ,this.rapportINDHFrom=new p.xQ,this.eventSubmitFromParent=new p.xQ}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.o=this.data.model,this.title=this.data.title,this.createForm(),this.rapportNationalFrom.subscribe(function(e){return t.myForm.get("rapportNational").setValue(e)}),this.compilationHCDHFrom.subscribe(function(e){return t.myForm.get("compilationHCDH").setValue(e)}),this.observationFinaleFrom.subscribe(function(e){return t.myForm.get("observationFinale").setValue(e)}),this.discoursFrom.subscribe(function(e){return t.myForm.get("discours").setValue(e)}),this.rapportMiParcoursFrom.subscribe(function(e){return t.myForm.get("rapportMiParcours").setValue(e)}),this.miseOeuvrePieceFrom.subscribe(function(e){return t.myForm.get("miseOeuvrePiece").setValue(e)}),this.rapportINDHFrom.subscribe(function(e){return t.myForm.get("rapportINDH").setValue(e)}),setTimeout(function(){t.miseOeuvrePieceTo.next(t.o.miseOeuvrePiece),t.rapportNationalTo.next(t.o.rapportNational),t.compilationHCDHTo.next(t.o.compilationHCDH),t.observationFinaleTo.next(t.o.observationFinale),t.rapportMiParcoursTo.next(t.o.rapportMiParcours),t.discoursTo.next(t.o.discours),t.rapportINDHTo.next(t.o.rapportINDH)},100)}},{key:"createForm",value:function(){this.myForm=this.fb.group({id:this.o.id,libelle:[this.o.libelle,g.kI.required],libelleAr:[this.o.libelleAr,g.kI.required],rapportNational:[this.o.rapportNational],discours:[this.o.discours],compilationHCDH:[this.o.compilationHCDH],observationFinale:[this.o.observationFinale],rapportMiParcours:[this.o.rapportMiParcours],miseOeuvrePiece:[this.o.miseOeuvrePiece],rapportINDH:[this.o.rapportINDH]})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"onOkClick",value:function(t){this.submit(t)}},{key:"submit",value:function(t){var e=this;0===this.o.id?this.uow.examens.post(t).subscribe(function(t){return(0,l.mG)(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.eventSubmitFromParent.next(!0),this.dialogRef.close(!0);case 1:case"end":return t.stop()}},t,this)}))}):this.uow.examens.put(t.id,t).subscribe(function(t){return(0,l.mG)(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.eventSubmitFromParent.next(!0),this.dialogRef.close(!0);case 1:case"end":return t.stop()}},t,this)}))})}},{key:"openInput",value:function(t){t.click()}},{key:"resetForm",value:function(){this.o=new c.X_,this.createForm()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(d.so),u.Y36(d.WI),u.Y36(g.qu),u.Y36(f.Z))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-update"]],decls:42,vars:64,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","libelle","required",""],["matInput","","formControlName","libelleAr","required",""],[1,"row","justify-content-center",2,"margin-bottom","15px"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"h1",1),u.TgZ(2,"mat-toolbar",2),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.qZA(),u._UZ(5,"mat-divider"),u.qZA(),u.TgZ(6,"div",3),u.TgZ(7,"div",4),u.TgZ(8,"form",5),u.TgZ(9,"mat-form-field",6),u.TgZ(10,"mat-label"),u._uU(11),u.ALo(12,"translate"),u.qZA(),u._UZ(13,"input",7),u.qZA(),u.TgZ(14,"mat-form-field",6),u.TgZ(15,"mat-label"),u._uU(16),u.ALo(17,"translate"),u.qZA(),u._UZ(18,"input",8),u.qZA(),u.TgZ(19,"div",9),u._UZ(20,"app-upload-select",10),u.ALo(21,"translate"),u._UZ(22,"app-upload-select",10),u.ALo(23,"translate"),u._UZ(24,"app-upload-select",10),u.ALo(25,"translate"),u._UZ(26,"app-upload-select",10),u.ALo(27,"translate"),u._UZ(28,"app-upload-select",10),u.ALo(29,"translate"),u._UZ(30,"app-upload-select",10),u.ALo(31,"translate"),u._UZ(32,"app-upload-select",10),u.ALo(33,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(34,"div",11),u.TgZ(35,"button",12),u.NdJ("click",function(){return e.onNoClick()}),u._uU(36),u.ALo(37,"translate"),u.qZA(),u._uU(38,"\xa0\xa0 "),u.TgZ(39,"button",13),u.NdJ("click",function(){return e.onOkClick(e.myForm.value)}),u._uU(40),u.ALo(41,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(4),u.Oqu(e.title),u.xp6(4),u.Q6J("formGroup",e.myForm),u.xp6(3),u.Oqu(u.lcZ(12,42,"admin.epu.list.libelle")),u.xp6(5),u.Oqu(u.lcZ(17,44,"admin.epu.list.libelleAr")),u.xp6(4),u.s9C("nameBtn",u.lcZ(21,46,"admin.epu.list.Rapportnational")),u.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.rapportNationalTo)("eventSubmitToParent",e.rapportNationalFrom)("eventSubmitFromParent",e.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(23,48,"admin.epu.list.CompilationHCDHSOCIETECIVILE")),u.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.compilationHCDHTo)("eventSubmitToParent",e.compilationHCDHFrom)("eventSubmitFromParent",e.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(25,50,"admin.epu.list.Discoursdupr\xe9sident")),u.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.discoursTo)("eventSubmitToParent",e.discoursFrom)("eventSubmitFromParent",e.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(27,52,"admin.epu.list.ObservationsfinalesADDITIFS")),u.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.observationFinaleTo)("eventSubmitToParent",e.observationFinaleFrom)("eventSubmitFromParent",e.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(29,54,"admin.epu.list.PLANDEMISEENOEUVRE")),u.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.miseOeuvrePieceTo)("eventSubmitToParent",e.miseOeuvrePieceFrom)("eventSubmitFromParent",e.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(31,56,"admin.epu.list.Rapportmi-parcours")),u.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.rapportMiParcoursTo)("eventSubmitToParent",e.rapportMiParcoursFrom)("eventSubmitFromParent",e.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(33,58,"admin.epu.rapportINDH")),u.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.rapportINDHTo)("eventSubmitToParent",e.rapportINDHFrom)("eventSubmitFromParent",e.eventSubmitFromParent),u.xp6(4),u.Oqu(u.lcZ(37,60,"admin.Retour")),u.xp6(3),u.Q6J("disabled",e.myForm.invalid),u.xp6(1),u.Oqu(u.lcZ(41,62,"admin.Enregistre")))},directives:[d.uh,h.Ye,v.d,d.xY,g._Y,g.JL,g.sg,Z.KE,Z.hX,x.Nt,g.Fj,g.JJ,g.u,g.Q7,b.k,d.H8,T.lW],pipes:[w.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),t}(),A=a(12996),y=a(85078),P=a(87064);function _(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit;u.xp6(2),u.hij("- ",i.substring(14,i.length-1),"")}}function O(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit;u.xp6(2),u.hij("- ",i.substring(14,i.length-1),"")}}function q(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit;u.xp6(2),u.hij("- ",i.substring(14,i.length-1),"")}}function M(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit;u.xp6(2),u.hij("- ",i.substring(14,i.length-1),"")}}function F(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit;u.xp6(2),u.hij("- ",i.substring(14,i.length-1),"")}}function S(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit;u.xp6(2),u.hij("- ",i.substring(14,i.length-1),"")}}function N(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit;u.xp6(2),u.hij("- ",i.substring(14,i.length-1),"")}}var k=function(){var t=function(){function t(e,i,o){n(this,t),this.dialogRef=e,this.data=i,this.url=o,this.title="",this.folder="examen"}return o(t,[{key:"ngOnInit",value:function(){this.o=this.data.model,this.title=this.data.title}},{key:"propertyToList",value:function(t){if(t){var e=t.split(";");return e.pop(),e}return[]}},{key:"download",value:function(t){window.open("".concat(this.url,"/").concat(this.folder,"/").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(d.so),u.Y36(d.WI),u.Y36("BASE_URL"))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-archive"]],decls:60,vars:35,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[1,"row"],[1,"col"],[2,"font-weight","bold"],["role","list"],["matRipple","","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[3,"vertical"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["matRipple","",2,"cursor","pointer",3,"click"],[2,"font-size",".9em"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"h1",1),u.TgZ(2,"mat-toolbar",2),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.qZA(),u._UZ(5,"mat-divider"),u.qZA(),u.TgZ(6,"div",3),u.TgZ(7,"div",4),u.TgZ(8,"div",5),u.TgZ(9,"div",6),u.TgZ(10,"p",7),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"mat-list",8),u.YNc(14,_,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(15,"mat-divider",10),u.TgZ(16,"div",6),u.TgZ(17,"p",7),u._uU(18),u.ALo(19,"translate"),u.qZA(),u.TgZ(20,"mat-list",8),u.YNc(21,O,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(22,"mat-divider",10),u.TgZ(23,"div",6),u.TgZ(24,"p",7),u._uU(25),u.ALo(26,"translate"),u.qZA(),u.TgZ(27,"mat-list",8),u.YNc(28,q,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(29,"mat-divider",10),u.TgZ(30,"div",6),u.TgZ(31,"p",7),u._uU(32),u.ALo(33,"translate"),u.qZA(),u.TgZ(34,"mat-list",8),u.YNc(35,M,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(36,"mat-divider",10),u.TgZ(37,"div",6),u.TgZ(38,"p",7),u._uU(39),u.ALo(40,"translate"),u.qZA(),u.TgZ(41,"mat-list",8),u.YNc(42,F,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(43,"mat-divider",10),u.TgZ(44,"div",6),u.TgZ(45,"p",7),u._uU(46),u.ALo(47,"translate"),u.qZA(),u.TgZ(48,"mat-list",8),u.YNc(49,S,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(50,"mat-divider",10),u.TgZ(51,"div",6),u.TgZ(52,"p",7),u._uU(53),u.ALo(54,"translate"),u.qZA(),u.TgZ(55,"mat-list",8),u.YNc(56,N,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(57,"div",11),u.TgZ(58,"button",12),u.NdJ("click",function(){return e.dialogRef.close()}),u._uU(59,"Retour"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(4),u.Oqu(e.title),u.xp6(7),u.Oqu(u.lcZ(12,21,"admin.epu.list.Rapportnational")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.rapportNational)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(3),u.Oqu(u.lcZ(19,23,"admin.epu.list.CompilationHCDHSOCIETECIVILE")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.compilationHCDH)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(3),u.Oqu(u.lcZ(26,25,"admin.epu.list.Discoursdupr\xe9sident")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.discours)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(3),u.Oqu(u.lcZ(33,27,"admin.epu.list.ObservationsfinalesADDITIFS")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.observationFinale)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(3),u.Oqu(u.lcZ(40,29,"admin.epu.list.PLANDEMISEENOEUVRE")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.miseOeuvrePiece)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(3),u.Oqu(u.lcZ(47,31,"admin.epu.list.Rapportmi-parcours")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.rapportMiParcours)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(3),u.Oqu(u.lcZ(54,33,"admin.epu.rapportINDH")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.rapportINDH)))},directives:[d.uh,h.Ye,v.d,d.xY,y.i$,r.sg,d.H8,T.lW,y.Tg,P.wG],pipes:[w.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),t}(),H=a(5609),I=a(59241),D=a(56238),J=a(94589),U=a(31496),Q=a(50545),E=a(34411),L=a(84222),R=a(20707),Y=a(3942),$=a(75163),B=a(3017),j=a(16056),z=a(47340),V=a(77307),G=a(87672),X=a(24311);function W(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"div",33),u.TgZ(1,"button",34),u.NdJ("click",function(){return u.CHM(n),u.oxw().add()}),u.TgZ(2,"mat-icon"),u._uU(3,"add"),u.qZA(),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.qZA()}2&t&&(u.xp6(4),u.hij(" ",u.lcZ(5,1,"admin.epu.list.Examen")," "))}function K(t,e){1&t&&u._UZ(0,"mat-spinner")}function tt(t,e){if(1&t&&(u.TgZ(0,"div",35),u.YNc(1,K,1,0,"mat-spinner",36),u.qZA()),2&t){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",n.isLoadingResults)}}function et(t,e){1&t&&(u.TgZ(0,"th",37),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.epu.list.libelle")))}function nt(t,e){if(1&t&&(u.TgZ(0,"td",38),u._uU(1),u.qZA()),2&t){var n=e.$implicit,i=u.oxw();u.xp6(1),u.Oqu("fr"===i.mytranslate.langSync?n.libelle:n.libelleAr)}}function it(t,e){1&t&&(u.TgZ(0,"th",39),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.epu.list.Rapportnational")))}function ot(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"td",38),u.TgZ(1,"button",40),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().showPieceJoin(t.rapportNational)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(i.rapportNational))("matTooltip",i.rapportNational)}}function at(t,e){1&t&&(u.TgZ(0,"th",39),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.epu.list.Discoursdupr\xe9sident")))}function rt(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"td",38),u.TgZ(1,"button",40),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().showPieceJoin(t.discours)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(i.discours))("matTooltip",i.discours)}}function st(t,e){1&t&&(u.TgZ(0,"th",39),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.epu.list.CompilationHCDHSOCIETECIVILE")))}function lt(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"td",38),u.TgZ(1,"button",40),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().showPieceJoin(t.compilationHCDH)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(i.compilationHCDH))("matTooltip",i.compilationHCDH)}}function ct(t,e){1&t&&(u.TgZ(0,"th",39),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.epu.list.ObservationsfinalesADDITIFS")))}function ut(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"td",38),u.TgZ(1,"button",40),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().showPieceJoin(t.observationFinale)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(i.observationFinale))("matTooltip",i.observationFinale)}}function pt(t,e){1&t&&(u.TgZ(0,"th",39),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.epu.list.PLANDEMISEENOEUVRE")))}function mt(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"td",38),u.TgZ(1,"button",41),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().showPieceJoin(t.miseOeuvrePiece)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(i.miseOeuvrePiece))("matTooltip",i.miseOeuvrePiece)}}function dt(t,e){1&t&&(u.TgZ(0,"th",39),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.epu.list.Rapportmi-parcours")))}function gt(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"td",38),u.TgZ(1,"button",40),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().showPieceJoin(t.rapportMiParcours)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(i.rapportMiParcours))("matTooltip",i.rapportMiParcours)}}function ft(t,e){1&t&&(u.TgZ(0,"th",39),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.epu.rapportINDH")))}function ht(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"td",38),u.TgZ(1,"button",41),u.NdJ("click",function(){var t=u.CHM(n).$implicit;return u.oxw().showPieceJoin(t.rapportINDH)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var i=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(i.rapportINDH))("matTooltip",i.rapportINDH)}}function vt(t,e){1&t&&u._UZ(0,"th",39)}function Zt(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"button",47),u.NdJ("click",function(){u.CHM(n);var t=u.oxw(2).$implicit;return u.oxw().edit(t)}),u.TgZ(1,"mat-icon"),u._uU(2,"create"),u.qZA(),u.qZA()}}function xt(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"button",48),u.NdJ("click",function(){u.CHM(n);var t=u.oxw(2).$implicit;return u.oxw().archive(t)}),u.TgZ(1,"mat-icon"),u._uU(2,"unarchive"),u.qZA(),u.qZA()}}function bt(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"button",49),u.NdJ("click",function(){u.CHM(n);var t=u.oxw(2).$implicit;return u.oxw().delete(t)}),u.TgZ(1,"mat-icon"),u._uU(2,"delete_sweep"),u.qZA(),u.qZA()}}function Tt(t,e){if(1&t&&(u.TgZ(0,"div",43),u.YNc(1,Zt,3,0,"button",44),u.YNc(2,xt,3,0,"button",45),u.YNc(3,bt,3,0,"button",46),u.qZA()),2&t){var n=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!n.session.isPointFocal&&!n.session.isSuperViseur),u.xp6(1),u.Q6J("ngIf",!n.session.isPointFocal&&!n.session.isSuperViseur),u.xp6(1),u.Q6J("ngIf",!n.session.isPointFocal&&!n.session.isSuperViseur)}}function wt(t,e){if(1&t&&(u.TgZ(0,"td",38),u.YNc(1,Tt,4,3,"div",42),u.qZA()),2&t){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",!n.session.isPublic)}}function Ct(t,e){1&t&&u._UZ(0,"tr",50)}function At(t,e){1&t&&u._UZ(0,"tr",51)}var yt,Pt,_t=function(){return[10,25,50,100,250]},Ot=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(yt=function(){function e(t,i,o,a,r,s,l,c){n(this,e),this.uow=t,this.dialog=i,this.mydialog=o,this.url=a,this.mytranslate=r,this.session=s,this.bottomSheet=l,this.excel=c,this.update=new u.vpe,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.text="",this.text2=this.text.substring(0,600),this.dataSource=[],this.displayedColumns=["libelle","rapportNational","rapportINDH","compilationHCDH","discours","observationFinale","rapportMiParcours","option"],this.countRec=new p.xQ,this.mecanismeState=new p.xQ,this.stateByMecanisme=new p.xQ,this.stateDetailByMecanisme=new p.xQ}return o(e,[{key:"ngOnInit",value:function(){var t=this;this.getMecanismeState(),this.getStateByMecanisme(),this.getStateDetailByMecanisme(),(0,m.T)(this.sort.sortChange,this.paginator.page,this.update).pipe((0,D.O)(null)).subscribe(function(e){!0===e?t.paginator.pageIndex=0:e=e,t.paginator.pageSize?e=e:t.paginator.pageSize=10;var n=t.paginator.pageIndex*t.paginator.pageSize;t.isLoadingResults=!0,t.getPage(n,t.paginator.pageSize,t.sort.active?t.sort.active:"id",t.sort.direction?t.sort.direction:"desc")}),this.uow.recommendations.mecanismeCount("examen").subscribe(function(e){return t.countRec.next(e)})}},{key:"disable",value:function(t){return!t||""===t}},{key:"getPage",value:function(t,e,n,i){var o=this;this.uow.examens.getList(t,e,n,i).subscribe(function(t){o.dataSource=t.list,o.resultsLength=t.count,o.isLoadingResults=!1})}},{key:"openDialog",value:function(t,e){return this.dialog.open(C,{width:"80vw",disableClose:!0,data:{model:t,title:e},direction:"fr"===this.mytranslate.langSync?"ltr":"rtl"}).afterClosed()}},{key:"add",value:function(){var t=this;this.openDialog(new c.X_,this.mytranslate.get("admin.epu.list.AjouterExamen")).subscribe(function(e){e&&t.update.next(!1)})}},{key:"edit",value:function(t){var e=this;this.openDialog(t,this.mytranslate.get("admin.epu.list.ModifierExamen")).subscribe(function(t){t&&e.update.next(!1)})}},{key:"archive",value:function(t){this.dialog.open(k,{width:"80vw",disableClose:!0,data:{model:t,title:t.libelle}})}},{key:"delete",value:function(e){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o,a,r,s,l,c=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.mydialog.openDialog("Examen").toPromise();case 2:if(n.t0=n.sent,"ok"!==n.t0){n.next=6;break}l=[],""!==e.rapportNational?(i=l).push.apply(i,t(this.uow.decoupe(e.rapportNational))):l=l,""!==e.compilationHCDH?(o=l).push.apply(o,t(this.uow.decoupe(e.compilationHCDH))):l=l,""!==e.observationFinale?(a=l).push.apply(a,t(this.uow.decoupe(e.observationFinale))):l=l,""!==e.rapportMiParcours?(r=l).push.apply(r,t(this.uow.decoupe(e.rapportMiParcours))):l=l,""!==e.discours?(s=l).push.apply(s,t(this.uow.decoupe(e.discours))):l=l,this.uow.files.deleteFiles(l,"examen").subscribe(function(t){c.uow.examens.delete(e.id).subscribe(function(){return c.update.next(!0)})});case 6:case"end":return n.stop()}},n,this)}))}},{key:"showPieceJoin",value:function(t){this.bottomSheet.open(A.x,{data:{fileName:t,folder:"examen"}})}},{key:"getMecanismeState",value:function(){var t=this;this.uow.axes.mecanismeState().subscribe(function(e){var n=[];n.push(t.mytranslate.get("R\xe9alis\xe9")),n.push(t.mytranslate.get("NonR\xe9alis\xe9")),n.push(t.mytranslate.get("EnCours")),n.push(t.mytranslate.get("Recommendation_continue"));var i=[],o=[];i.push(100*e.four/e.total),i.push(100*e.one/e.total),i.push(100*e.two/e.total),i.push(100*e.three/e.total),o.push(e.one,e.two,e.three,e.four),t.mecanismeState.next({chartLabels:n,chartData:i,chartColors:["#2b960b","#db0707","#f7801e","#2d71a1","#ffffff"],dataToShowInTable:o,title:t.mytranslate.get("admin.header.Etat de mise en \u0153uvre")})})}},{key:"getStateByMecanisme",value:function(){var t=this;this.uow.axes.stateByMecanisme().subscribe(function(e){var n=e.map(function(t){return t.name}),i=e.map(function(t){return+t.one.toFixed(0)});t.stateByMecanisme.next({chartLabels:n,chartData:i,chartColors:[],dataToShowInTable:[],title:t.mytranslate.get("admin.epu.list.Tauxderecommandationsparaxe")})})}},{key:"getStateDetailByMecanisme",value:function(){var t=this;this.uow.axes.stateDetailByMecanisme().subscribe(function(e){e=e.filter(function(t){return null!==t.name}),console.log(e);var n=e.map(function(t){return t.name}),i=[{data:e.map(function(t){return+(100*t.four/t.total).toFixed(0)}),label:t.mytranslate.get("R\xe9alis\xe9")},{data:e.map(function(t){return+(100*t.three/t.total).toFixed(0)}),label:t.mytranslate.get("Recommendation_continue")},{data:e.map(function(t){return+(100*t.two/t.total).toFixed(0)}),label:t.mytranslate.get("EnCours")},{data:e.map(function(t){return+(100*t.one/t.total).toFixed(0)}),label:t.mytranslate.get("NonR\xe9alis\xe9")}];console.log(i),t.stateDetailByMecanisme.next({barChartLabels:n,barChartData:i,title:t.mytranslate.get("admin.epu.list.EtatAvancementderecommandationsparaxe")})})}}]),e}(),yt.\u0275fac=function(t){return new(t||yt)(u.Y36(f.Z),u.Y36(d.uw),u.Y36(J.b),u.Y36("BASE_URL"),u.Y36(U.n),u.Y36(Q.m),u.Y36(E.ch),u.Y36(L.x))},yt.\u0275cmp=u.Xpm({type:yt,selectors:[["app-examen"]],viewQuery:function(t,e){var n;1&t&&(u.Gf(H.NW,7),u.Gf(I.YE,7)),2&t&&(u.iGM(n=u.CRH())&&(e.paginator=n.first),u.iGM(n=u.CRH())&&(e.sort=n.first))},decls:52,vars:21,consts:[[1,"host"],[3,"title"],["class","right",4,"ngIf"],["mecanisme","epu"],[1,"row","justify-content-center"],[1,"col-md-5"],[3,"obs"],[1,"col-md-2","p-0"],[3,"title","count","height"],[1,"col-md-12"],[1,"chart-size"],[3,"col","height","dataSubject"],[1,"example-container","mat-elevation-z8","mt-3"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],["matColumnDef","libelle"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rapportNational"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","discours"],["matColumnDef","compilationHCDH"],["matColumnDef","observationFinale"],["matColumnDef","miseOeuvrePiece"],["matColumnDef","rapportMiParcours"],["matColumnDef","rapportINDH"],["matColumnDef","option",2,"flex-direction","row-reverse"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],[1,"right"],["mat-raised-button","","color","primary",1,"mt-3",3,"click"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent",1,"center",3,"disabled","matTooltip","click"],["class","button-row",4,"ngIf"],[1,"button-row"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"app-title",1),u.ALo(2,"translate"),u.YNc(3,W,6,3,"div",2),u._UZ(4,"app-intros",3),u.TgZ(5,"div",4),u.TgZ(6,"div",5),u._UZ(7,"app-pie",6),u.qZA(),u.TgZ(8,"div",7),u._UZ(9,"app-count",8),u.ALo(10,"translate"),u.qZA(),u.TgZ(11,"div",5),u._UZ(12,"app-pie",6),u.qZA(),u.TgZ(13,"div",9),u.TgZ(14,"div",10),u._UZ(15,"app-bar",11),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"div",12),u.YNc(17,tt,2,1,"div",13),u.TgZ(18,"div",14),u.TgZ(19,"table",15,16),u.ynx(21,17),u.YNc(22,et,3,3,"th",18),u.YNc(23,nt,2,1,"td",19),u.BQk(),u.ynx(24,20),u.YNc(25,it,3,3,"th",21),u.YNc(26,ot,4,2,"td",19),u.BQk(),u.ynx(27,22),u.YNc(28,at,3,3,"th",21),u.YNc(29,rt,4,2,"td",19),u.BQk(),u.ynx(30,23),u.YNc(31,st,3,3,"th",21),u.YNc(32,lt,4,2,"td",19),u.BQk(),u.ynx(33,24),u.YNc(34,ct,3,3,"th",21),u.YNc(35,ut,4,2,"td",19),u.BQk(),u.ynx(36,25),u.YNc(37,pt,3,3,"th",21),u.YNc(38,mt,4,2,"td",19),u.BQk(),u.ynx(39,26),u.YNc(40,dt,3,3,"th",21),u.YNc(41,gt,4,2,"td",19),u.BQk(),u.ynx(42,27),u.YNc(43,ft,3,3,"th",21),u.YNc(44,ht,4,2,"td",19),u.BQk(),u.ynx(45,28),u.YNc(46,vt,1,0,"th",21),u.YNc(47,wt,2,1,"td",19),u.BQk(),u.YNc(48,Ct,1,0,"tr",29),u.YNc(49,At,1,0,"tr",30),u.qZA(),u.qZA(),u._UZ(50,"mat-paginator",31,32),u.qZA(),u.qZA()),2&t&&(u.xp6(1),u.s9C("title",u.lcZ(2,16,"admin.epu.list.Examenp\xe9riodiqueuniversal")),u.xp6(2),u.Q6J("ngIf",!e.session.isPointFocal&&!e.session.isPublic),u.xp6(4),u.Q6J("obs",e.mecanismeState),u.xp6(2),u.Q6J("title",u.lcZ(10,18,"admin.header.examenCount"))("count",e.countRec)("height","55vh"),u.xp6(3),u.Q6J("obs",e.stateByMecanisme),u.xp6(3),u.Q6J("col",12)("height","70vh")("dataSubject",e.stateDetailByMecanisme),u.xp6(2),u.Q6J("ngIf",e.isLoadingResults),u.xp6(2),u.Q6J("dataSource",e.dataSource),u.xp6(29),u.Q6J("matHeaderRowDef",e.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",e.displayedColumns),u.xp6(1),u.Q6J("length",e.resultsLength)("pageSizeOptions",u.DdM(20,_t)))},directives:[R.r,r.O5,Y.e,$.R,B.S,j.R,z.BZ,I.YE,z.w1,z.fO,z.Dz,z.as,z.nj,H.NW,T.lW,V.Hw,G.$g,z.ge,I.nU,z.ev,X.gM,z.XQ,z.Gk],pipes:[w.X$],styles:['section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}  h3{margin:0!important}.border-left[_ngcontent-%COMP%]{border-left:10px solid #a19b9e}.border-right[_ngcontent-%COMP%]{border-right:10px solid #a19b9e}.super-title[_ngcontent-%COMP%]{height:45px}.super-title[_ngcontent-%COMP%], .super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d17c36;height:35px}.super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0;padding:0 5px}.super-title2[_ngcontent-%COMP%]{height:45px;display:flex;align-items:center}.super-title2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:35px;display:flex;align-items:center}.super-title2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#a19b9e;margin:0;padding:0 5px;font-size:1.8em}.host[_ngcontent-%COMP%]{margin:1em!important}  .mat-progress-spinner circle{fill:#00000008!important}h3[_ngcontent-%COMP%]{margin:4px 0 10px;color:var(--primary);text-align:center}.axes[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:1px 1px 5px #ddd;padding:5px;margin-bottom:5px}.axes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8em}.axes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px;font-size:.9em}@font-face{font-family:Satisfy;font-style:normal;font-weight:400;font-display:swap;src:local("Satisfy Regular"),local("Satisfy-Regular"),url(https://fonts.gstatic.com/s/satisfy/v11/rP2Hp2yn6lkG50LoCZOIHQ.woff2) format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}.textAlign-left[_ngcontent-%COMP%]{text-align:left}.textAlign-right[_ngcontent-%COMP%], .textSouTitre[_ngcontent-%COMP%]{text-align:right}.textSouTitre[_ngcontent-%COMP%]{font-size:.9em;color:#00000070}.legend[_ngcontent-%COMP%]{list-style:none;height:10px;width:280px}.legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:10px}.legend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:1px solid #ccc;float:left;width:12px;height:12px;margin:2px}.legend[_ngcontent-%COMP%]   .superawesome[_ngcontent-%COMP%]{background-color:#1a9935}.legend[_ngcontent-%COMP%]   .awesome[_ngcontent-%COMP%], .legend[_ngcontent-%COMP%]   .superawesome[_ngcontent-%COMP%]{width:40px;height:22px;font-size:small;padding:2%}.legend[_ngcontent-%COMP%]   .awesome[_ngcontent-%COMP%]{background-color:#ca7834}.legend[_ngcontent-%COMP%]   .kindaawesome[_ngcontent-%COMP%]{background-color:#d80e0e;width:40px;height:22px;font-size:small;padding:2%}.legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:100}']}),yt)}],qt=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[s.Bz.forChild(Ot)],s.Bz]}),t}(),Mt=a(42693),Ft=a(57823),St=a(97866),Nt=a(15675),kt=a(23928),Ht=a(4967),It=((Pt=function t(){n(this,t)}).\u0275fac=function(t){return new(t||Pt)},Pt.\u0275mod=u.oAB({type:Pt}),Pt.\u0275inj=u.cJS({imports:[[w.aw,r.ez,qt,Mt.JF,Ft.R,g.u5,g.UX,St.i,Nt.f,kt.N,Ht.O]]}),Pt)}}])}();