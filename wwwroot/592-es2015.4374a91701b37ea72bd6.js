(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[592],{3017:function(t,e,i){"use strict";i.d(e,{S:function(){return a}});var n=i(55959),s=i(35366),r=i(31496),o=i(61116),c=i(60649);let a=(()=>{class t{constructor(t){this.mytranslate=t,this.year=(new Date).getFullYear(),this.count=new n.xQ,this.height="62vh",this.ifEpu=!1,this.title=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(r.n))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-count"]],inputs:{count:"count",height:"height",ifEpu:"ifEpu",title:"title"},decls:10,vars:9,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"prg1",2,"color","#00658e"],[1,"prg2",2,"color","gray"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"p",2),s._uU(3),s.ALo(4,"async"),s.qZA(),s.TgZ(5,"p",3),s._uU(6),s.ALo(7,"translate"),s.qZA(),s.TgZ(8,"p",3),s._uU(9),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Udp("height",e.height),s.xp6(3),s.Oqu(s.lcZ(4,5,e.count)),s.xp6(3),s.Oqu(s.lcZ(7,7,"admin.Recommandations")),s.xp6(3),s.hij(" ",e.title," "))},pipes:[o.Ov,c.X$],styles:[".prg1[_ngcontent-%COMP%]{font-size:2.5em}.prg1[_ngcontent-%COMP%], .prg2[_ngcontent-%COMP%]{margin:0;font-weight:700;text-align:center}.prg2[_ngcontent-%COMP%]{font-size:1.5em}"]}),t})()},4967:function(t,e,i){"use strict";i.d(e,{O:function(){return o}});var n=i(61116),s=i(60649),r=i(35366);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,s.aw]]}),t})()},3942:function(t,e,i){"use strict";i.d(e,{e:function(){return c}});var n=i(35366),s=i(31496),r=i(42693),o=i(61116);let c=(()=>{class t{constructor(t,e){this.mytranslate=t,this.http=e,this.text="",this.text2="",this.length=400,this.mecanisme=""}ngOnInit(){this.mytranslate.lang.subscribe(t=>{this.http.get(`assets/htmls/${"fr"===t?this.mecanisme+"_fr":this.mecanisme+"_ar"}.html`,{responseType:"text"}).subscribe(t=>{this.text=t,this.text2=this.text.substring(0,this.length)})})}moreInfo(){this.text2=this.text2.length===this.length?this.text:this.text.substring(0,this.length)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(s.n),n.Y36(r.eN))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-intros"]],inputs:{mecanisme:"mecanisme"},decls:6,vars:4,consts:[[2,"color","#737473","margin","20px 5px"],[2,"font-size","1.5em",3,"innerHTML"],[2,"color","#286293","cursor","pointer","font-size","1.5em",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"section"),n.TgZ(1,"h5",0),n._UZ(2,"span",1),n.TgZ(3,"b",2),n.NdJ("click",function(){return e.moreInfo()}),n._uU(4),n.ALo(5,"async"),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(2),n.Q6J("innerHTML",e.text2,n.oJD),n.xp6(2),n.hij(" ","fr"===n.lcZ(5,2,e.mytranslate.lang)?e.text2.length===e.length?"Lire la suite":"R\xe9duire":e.text2.length===e.length?"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064a\u062f":"\u062a\u0642\u0644\u064a\u0635"," "))},pipes:[o.Ov],styles:[""]}),t})()},46589:function(t,e,i){"use strict";i.d(e,{l:function(){return o}});var n=i(35366),s=i(50545),r=i(63337);let o=(()=>{class t{constructor(t,e){this.session=t,this.router=e}canActivate(t,e){return!(e.url.includes("update")&&!this.session.isAdmin&&!this.session.isProprietaire&&(this.router.navigate(["/admin"]),1))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(s.m),n.LFG(r.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},15675:function(t,e,i){"use strict";i.d(e,{f:function(){return c}});var n=i(42693),s=i(57823),r=i(61116),o=i(35366);let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.ez,s.R,n.JF]]}),t})()},68085:function(t,e,i){"use strict";i.d(e,{k:function(){return h}});var n=i(64762),s=i(55959),r=i(35366),o=i(23496),c=i(85503),a=i(84369),l=i(77307),u=i(61116),p=i(40994);function f(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"p",7),r._UZ(1,"img",8),r._uU(2),r.TgZ(3,"span"),r.TgZ(4,"mat-checkbox",9,10),r.NdJ("change",function(){const e=r.CHM(t).$implicit,i=r.MAs(5);return r.oxw().active(i.checked,e)}),r.qZA(),r.TgZ(6,"button",11),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().remove(e)}),r.TgZ(7,"mat-icon",12),r._uU(8,"delete_sweep"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("src",i.setIcon(t),r.LSH),r.xp6(1),r.hij(" - ",t.substring(14,t.length-1)," "),r.xp6(2),r.Q6J("checked","1"===t.substring(t.length-1,t.length))}}let h=(()=>{class t{constructor(t,e){this.filesService=t,this.snackBar=e,this.listOfNames=[],this.listToDelete=[],this.files=[],this.nameBtn="",this.folderToSaveInServer="folder",this.propertyOfParent=new s.xQ,this.eventSubmitToParent=new s.xQ,this.eventSubmitFromParent=new s.xQ}ngOnInit(){this.propertyOfParent.subscribe(t=>{if(!t)return;const e=t.split(";");e.pop(),this.listOfNames=e,this.listToDelete=[]}),this.eventSubmitFromParent.subscribe(t=>(0,n.mG)(this,void 0,void 0,function*(){yield this.submit()}))}upload(t){for(let e=0;e<t.length;e++){const i=t.item(e);this.listOfNames.push(this.setFileName(i)+"0"),this.sendPropertyOfParent(),this.files.push(i)}}setIcon(t){const e=t.lastIndexOf("."),i=t.substring(e+1);return"pdf"===i||"pdf;"===i?"assets/svg/pdf.svg":"assets/svg/word.svg"}active(t,e){this.listOfNames.forEach((i,n)=>{if(e.includes(i.substring(0,i.length-2))){let e=this.listOfNames[n];e=e.substring(0,e.length-1),this.listOfNames[n]=`${e}${t?"1":"0"}`}}),this.sendPropertyOfParent()}remove(t){const e=this.listOfNames.findIndex(e=>e===t);-1!==e&&(this.listOfNames.splice(e,1),this.sendPropertyOfParent()),this.listToDelete.push(t);const i=t.indexOf("_"),n=t.substring(i);-1!==this.files.findIndex(t=>t.name===n)&&this.files.splice(e,1)}openInput(t){t.click()}sendPropertyOfParent(){let t="";this.listOfNames.forEach(e=>{t+=`${e};`}),this.eventSubmitToParent.next(t)}submit(){return(0,n.mG)(this,void 0,void 0,function*(){if(this.files.length>0){const t=new FormData;this.files.forEach(e=>{const i=this.setFileName(e);t.append(i,e,i)}),yield this.filesService.uploadFiles(t,this.folderToSaveInServer).toPromise(),this.snackBar.notifyOk(200,"fichier(s) uploade avec succ\xe8s")}this.listToDelete.length>0&&(yield this.filesService.deleteFiles(this.listToDelete,this.folderToSaveInServer).toPromise(),this.snackBar.notifyOk(200,"fichier(s) Supprimer avec succ\xe8s"))})}setFileName(t){return`${t.lastModified}_${t.name}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(o.J),r.Y36(c.c))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-upload-select"]],inputs:{nameBtn:"nameBtn",folderToSaveInServer:"folderToSaveInServer",propertyOfParent:"propertyOfParent",eventSubmitToParent:"eventSubmitToParent",eventSubmitFromParent:"eventSubmitFromParent"},decls:12,vars:2,consts:[[1,"row"],[1,"col-md-12","mb-3"],[1,"myrow"],["hidden","","accept","application/pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document","type","file","multiple","false",2,"display","none",3,"change"],["file1",""],["mat-raised-button","","type","button","color","primary",3,"click"],["style","font-size: .7em;margin: 0;",4,"ngFor","ngForOf"],[2,"font-size",".7em","margin","0"],["alt","pdf/word",3,"src"],[1,"pl-2",3,"checked","change"],["c",""],["mat-icon-button","","color","warn","type","button",3,"click"],[2,"font-size","1.3em !important"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"input",3,4),r.NdJ("change",function(){r.CHM(t);const i=r.MAs(4);return e.upload(i.files)}),r.qZA(),r.TgZ(5,"button",5),r.NdJ("click",function(){r.CHM(t);const i=r.MAs(4);return e.openInput(i)}),r.TgZ(6,"mat-icon"),r._uU(7,"add"),r.qZA(),r._uU(8),r.qZA(),r._uU(9," \xa0\xa0 "),r.TgZ(10,"div",2),r.YNc(11,f,9,3,"p",6),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&t&&(r.xp6(8),r.hij(" ",e.nameBtn," "),r.xp6(3),r.Q6J("ngForOf",e.listOfNames))},directives:[a.lW,l.Hw,u.sg,p.oG],styles:["img[_ngcontent-%COMP%]{height:20px}"]}),t})()},38497:function(t,e,i){"use strict";i.d(e,{o:function(){return p}});var n=i(64762),s=i(55959),r=i(35366),o=i(23496),c=i(84369),a=i(77307),l=i(61116);function u(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"p",7),r._UZ(1,"img",8),r._uU(2),r.TgZ(3,"button",9),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().remove(e)}),r.TgZ(4,"mat-icon",10),r._uU(5,"delete_sweep"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("src",i.setIcon(t),r.LSH),r.xp6(1),r.hij(" - ",t.substring(14)," "),r.xp6(1),r.Q6J("disabled",i.disabled)}}let p=(()=>{class t{constructor(t){this.filesService=t,this.listOfNames=[],this.listToDelete=[],this.files=[],this.nameBtn="",this.disabled=!1,this.folderToSaveInServer="folder",this.propertyOfParent=new s.xQ,this.eventSubmitToParent=new s.xQ,this.eventSubmitFromParent=new s.xQ}ngOnInit(){this.propertyOfParent.subscribe(t=>{if(!t)return;const e=t.split(";");e.pop(),this.listOfNames=e,this.listToDelete=[]}),this.eventSubmitFromParent.subscribe(t=>(0,n.mG)(this,void 0,void 0,function*(){yield this.submit()}))}upload(t){for(let e=0;e<t.length;e++){const i=t.item(e);this.listOfNames.push(this.setFileName(i)),this.sendPropertyOfParent(),this.files.push(i)}}setIcon(t){const e=t.lastIndexOf("."),i=t.substring(e+1);return"pdf"===i||"pdf;"===i?"assets/svg/pdf.svg":"assets/svg/word.svg"}remove(t){const e=this.listOfNames.findIndex(e=>e===t);-1!==e&&(this.listOfNames.splice(e,1),this.sendPropertyOfParent()),this.listToDelete.push(t);const i=t.indexOf("_"),n=t.substring(i);-1!==this.files.findIndex(t=>t.name===n)&&this.files.splice(e,1)}openInput(t){t.click()}sendPropertyOfParent(){let t="";this.listOfNames.forEach(e=>{t+=`${e};`}),this.eventSubmitToParent.next(t)}submit(){return(0,n.mG)(this,void 0,void 0,function*(){const t=new FormData;this.files.forEach(e=>{const i=this.setFileName(e);t.append(i,e,i)}),t&&(yield this.filesService.uploadFiles(t,this.folderToSaveInServer).toPromise(),yield this.filesService.deleteFiles(this.listToDelete,this.folderToSaveInServer).toPromise())})}setFileName(t){return`${t.lastModified}_${t.name}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(o.J))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-upload"]],inputs:{nameBtn:"nameBtn",disabled:"disabled",folderToSaveInServer:"folderToSaveInServer",propertyOfParent:"propertyOfParent",eventSubmitToParent:"eventSubmitToParent",eventSubmitFromParent:"eventSubmitFromParent"},decls:12,vars:3,consts:[[1,"row"],[1,"col-md-12","mb-3"],[1,"myrow"],["hidden","","accept","application/pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document","type","file","multiple","false",2,"display","none",3,"change"],["file1",""],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],["style","font-size: .7em;margin: 0;",4,"ngFor","ngForOf"],[2,"font-size",".7em","margin","0"],["alt","pdf/word",3,"src"],["mat-icon-button","","color","warn","type","button",3,"disabled","click"],[2,"font-size","1.3em !important"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"input",3,4),r.NdJ("change",function(){r.CHM(t);const i=r.MAs(4);return e.upload(i.files)}),r.qZA(),r.TgZ(5,"button",5),r.NdJ("click",function(){r.CHM(t);const i=r.MAs(4);return e.openInput(i)}),r.TgZ(6,"mat-icon"),r._uU(7,"add"),r.qZA(),r._uU(8),r.qZA(),r._uU(9," \xa0\xa0 "),r.TgZ(10,"div",2),r.YNc(11,u,6,3,"p",6),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&t&&(r.xp6(5),r.Q6J("disabled",e.disabled),r.xp6(3),r.hij(" ",e.nameBtn," "),r.xp6(3),r.Q6J("ngForOf",e.listOfNames))},directives:[c.lW,a.Hw,l.sg],styles:["img[_ngcontent-%COMP%]{height:20px}"]}),t})()}}]);