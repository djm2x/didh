!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Romv:function(t,i,o){"use strict";o.r(i),o.d(i,"RapportModule",function(){return gt});var c=o("ofXK"),r=o("tyNb"),s=o("mrSG"),l=o("fXoL"),u=o("M9IT"),b=o("Dh3D"),m=o("2Vo4"),d=o("XNiG"),p=o("VRyK"),f=o("ukCm"),h=o("2ChS"),v=o("7q3A"),g=o("MutI"),S=o("FKr1");function T(e,t){if(1&e){var n=l.Ub();l.Tb(0,"a",2),l.ac("click",function(){l.sc(n);var e=l.ec().$implicit;return l.ec().openLink(e.pieceJointe)}),l.Tb(1,"span",3),l.Dc(2),l.Sb(),l.Tb(3,"span",3),l.Dc(4),l.Sb(),l.Sb()}if(2&e){var i=l.ec().$implicit;l.Bb(2),l.Ec(i.titre),l.Bb(2),l.Ec(i.pieceJointe)}}function P(e,t){if(1&e&&(l.Tb(0,"div"),l.Bc(1,T,5,2,"a",1),l.Sb()),2&e){var n=t.$implicit;l.Bb(1),l.kc("ngIf",""!==n.pieceJointe)}}var y,k=((y=function(){function e(t,i,a,o){n(this,e),this.bottomSheetRef=t,this.data=i,this.uow=a,this.url=o,this.o=new f.o,this.rapports=[]}return a(e,[{key:"ngOnInit",value:function(){this.o=this.data,this.rapports=this.o.rapports}},{key:"openLink",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),window.open("".concat(this.url,"/rapport/").concat(e));case 1:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||y)(l.Nb(h.d),l.Nb(h.a),l.Nb(v.a),l.Nb("BASE_URL"))},y.\u0275cmp=l.Hb({type:y,selectors:[["app-sheetbottom"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(l.Tb(0,"mat-nav-list"),l.Bc(1,P,2,1,"div",0),l.Sb()),2&e&&(l.Bb(1),l.kc("ngForOf",t.rapports))},directives:[g.d,c.l,c.m,g.b,S.k],styles:[""]}),y),D=o("0IaG"),w=o("/t3+"),B=o("f0Cb"),O=o("bTqV"),F=o("+0xr"),C=o("f6nW");function R(e,t){if(1&e&&(l.Tb(0,"th",16),l.Dc(1),l.Sb()),2&e){var n=l.ec(2);l.Bb(1),l.Ec(n.columnDefs[0].headName)}}function x(e,t){if(1&e&&(l.Tb(0,"td",17),l.Dc(1),l.Sb()),2&e){var n=t.$implicit,i=l.ec(2);l.Bb(1),l.Ec(n[i.columnDefs[0].columnDef])}}function I(e,t){if(1&e&&(l.Tb(0,"th",16),l.Dc(1),l.Sb()),2&e){var n=l.ec(2);l.Bb(1),l.Ec(n.columnDefs[1].headName)}}function N(e,t){if(1&e&&(l.Tb(0,"td",17),l.Dc(1),l.fc(2,"date"),l.Sb()),2&e){var n=t.$implicit,i=l.ec(2);l.Bb(1),l.Ec(l.hc(2,1,n[i.columnDefs[1].columnDef],"dd/MM/yyyy"))}}function M(e,t){if(1&e&&(l.Tb(0,"th",16),l.Dc(1),l.Sb()),2&e){var n=l.ec(2);l.Bb(1),l.Ec(n.columnDefs[2].headName)}}function E(e,t){if(1&e&&(l.Tb(0,"td",17),l.Dc(1),l.fc(2,"date"),l.Sb()),2&e){var n=t.$implicit,i=l.ec(2);l.Bb(1),l.Ec(l.hc(2,1,n[i.columnDefs[2].columnDef],"dd/MM/yyyy"))}}function _(e,t){if(1&e&&(l.Tb(0,"th",16),l.Dc(1),l.Sb()),2&e){var n=l.ec(2);l.Bb(1),l.Ec(n.columnDefs[3].headName)}}function L(e,t){if(1&e&&(l.Tb(0,"td",17),l.Dc(1),l.fc(2,"date"),l.Sb()),2&e){var n=t.$implicit,i=l.ec(2);l.Bb(1),l.Ec(l.hc(2,1,n[i.columnDefs[3].columnDef],"dd/MM/yyyy"))}}function $(e,t){if(1&e&&(l.Tb(0,"th",16),l.Dc(1),l.Sb()),2&e){var n=l.ec(2);l.Bb(1),l.Ec(n.columnDefs[4].headName)}}function q(e,t){if(1&e&&(l.Tb(0,"td",17),l.Dc(1),l.Sb()),2&e){var n=t.$implicit,i=l.ec(2);l.Bb(1),l.Ec(n[i.columnDefs[4].columnDef])}}function U(e,t){1&e&&l.Ob(0,"tr",18)}function j(e,t){1&e&&l.Ob(0,"tr",19)}function A(e,t){if(1&e&&(l.Tb(0,"section"),l.Tb(1,"h5"),l.Dc(2,"Rapports"),l.Sb(),l.Tb(3,"div",8),l.Tb(4,"table",9,10),l.Rb(6,11),l.Bc(7,R,2,1,"th",12),l.Bc(8,x,2,1,"td",13),l.Qb(),l.Rb(9,11),l.Bc(10,I,2,1,"th",12),l.Bc(11,N,3,4,"td",13),l.Qb(),l.Rb(12,11),l.Bc(13,M,2,1,"th",12),l.Bc(14,E,3,4,"td",13),l.Qb(),l.Rb(15,11),l.Bc(16,_,2,1,"th",12),l.Bc(17,L,3,4,"td",13),l.Qb(),l.Rb(18,11),l.Bc(19,$,2,1,"th",12),l.Bc(20,q,2,1,"td",13),l.Qb(),l.Bc(21,U,1,0,"tr",14),l.Bc(22,j,1,0,"tr",15),l.Sb(),l.Sb(),l.Sb()),2&e){var n=l.ec();l.Bb(4),l.kc("dataSource",n.dataSource),l.Bb(2),l.kc("matColumnDef",n.columnDefs[0].columnDef),l.Bb(3),l.kc("matColumnDef",n.columnDefs[1].columnDef),l.Bb(3),l.kc("matColumnDef",n.columnDefs[2].columnDef),l.Bb(3),l.kc("matColumnDef",n.columnDefs[3].columnDef),l.Bb(3),l.kc("matColumnDef",n.columnDefs[4].columnDef),l.Bb(3),l.kc("cdkHeaderRowDef",n.displayedColumns),l.Bb(1),l.kc("cdkRowDefColumns",n.displayedColumns)}}var H,J=((H=function(){function e(t,i){n(this,e),this.dialogRef=t,this.data=i,this.dataSource=[],this.columnDefs=[{columnDef:"titre",headName:"TITRE"},{columnDef:"dateDernierRapport",headName:"Date Rapport"},{columnDef:"dateObservation",headName:"Date des observations finales"},{columnDef:"dateProchaineRapport",headName:"Date Prochain Rapport"},{columnDef:"reference",headName:"R\xe9f\xe9rence des observations finales"}].map(function(e){return e.headName=""===e.headName?e.columnDef.toUpperCase():e.headName,e}),this.displayedColumns=this.columnDefs.map(function(e){return e.columnDef}),this.title=""}return a(e,[{key:"ngOnInit",value:function(){this.o=this.data.model,this.dataSource=this.o.rapports,this.title=this.data.title,console.log(this.o)}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"onOkClick",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||H)(l.Nb(D.g),l.Nb(D.a))},H.\u0275cmp=l.Hb({type:H,selectors:[["app-update"]],decls:19,vars:10,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements",3,"dataSource"],["table",""],[3,"matColumnDef"],["cdk-header-cell","",4,"matHeaderCellDef"],["cdk-cell","",4,"matCellDef"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-header-cell",""],["cdk-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Tb(1,"h1",1),l.Tb(2,"mat-toolbar",2),l.Tb(3,"span"),l.Dc(4),l.Sb(),l.Sb(),l.Ob(5,"mat-divider"),l.Sb(),l.Tb(6,"div",3),l.Tb(7,"div",4),l.Tb(8,"ul"),l.Tb(9,"li"),l.Dc(10),l.fc(11,"date"),l.Sb(),l.Tb(12,"li"),l.Dc(13),l.fc(14,"date"),l.Sb(),l.Sb(),l.Bc(15,A,23,8,"section",5),l.Sb(),l.Tb(16,"div",6),l.Tb(17,"button",7),l.ac("click",function(){return t.onNoClick()}),l.Dc(18,"Retour"),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Bb(4),l.Ec(t.o.nom),l.Bb(6),l.Fc("Date de signature: ",l.hc(11,4,t.o.dateSignature,"dd/MM/yyyy"),""),l.Bb(3),l.Fc("Date de ratification: ",l.hc(14,7,t.o.dateRatification,"dd/MM/yyyy"),""),l.Bb(2),l.kc("ngIf",0!==t.dataSource.length))},directives:[D.h,w.a,B.a,D.e,c.m,D.c,O.a,F.j,F.c,F.e,F.b,C.m,C.p,C.j,C.b,F.f,F.h],pipes:[c.e],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),H),Q=o("ZTdd");function V(e,t){if(1&e){var n=l.Ub();l.Tb(0,"mat-list-item",13),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().download(e.substring(0,e.length-1))}),l.Tb(1,"span",14),l.Dc(2),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit;l.Bb(2),l.Fc("- ",i.substring(14,i.length-1),"")}}function z(e,t){if(1&e){var n=l.Ub();l.Tb(0,"mat-list-item",13),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().download(e.substring(0,e.length-1))}),l.Tb(1,"span",14),l.Dc(2),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit;l.Bb(2),l.Fc("- ",i.substring(14,i.length-1),"")}}function G(e,t){if(1&e){var n=l.Ub();l.Tb(0,"mat-list-item",13),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().download(e.substring(0,e.length-1))}),l.Tb(1,"span",14),l.Dc(2),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit;l.Bb(2),l.Fc("- ",i.substring(14,i.length-1),"")}}function X(e,t){if(1&e){var n=l.Ub();l.Tb(0,"mat-list-item",13),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().download(e.substring(0,e.length-1))}),l.Tb(1,"span",14),l.Dc(2),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit;l.Bb(2),l.Fc("- ",i.substring(14,i.length-1),"")}}function K(e,t){if(1&e){var n=l.Ub();l.Tb(0,"mat-list-item",13),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().download(e.substring(0,e.length-1))}),l.Tb(1,"span",14),l.Dc(2),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit;l.Bb(2),l.Fc("- ",i.substring(14,i.length-1),"")}}function W(e,t){if(1&e){var n=l.Ub();l.Tb(0,"mat-list-item",13),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().download(e.substring(0,e.length-1))}),l.Tb(1,"span",14),l.Dc(2),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit;l.Bb(2),l.Fc("- ",i.substring(14,i.length-1),"")}}var Y,Z,ee=((Y=function(){function e(t,i,a){n(this,e),this.dialogRef=t,this.data=i,this.url=a,this.title="",this.folder="traite"}return a(e,[{key:"ngOnInit",value:function(){this.o=this.data.model,this.title=this.data.title}},{key:"propertyToList",value:function(e){if(e){var t=e.split(";");return t.pop(),t}return[]}},{key:"download",value:function(e){window.open("".concat(this.url,"/").concat(this.folder,"/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||Y)(l.Nb(D.g),l.Nb(D.a),l.Nb("BASE_URL"))},Y.\u0275cmp=l.Hb({type:Y,selectors:[["app-archive"]],decls:46,vars:11,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[1,"row"],[1,"col"],[2,"font-weight","bold"],["role","list"],["matRipple","","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[3,"vertical"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["matRipple","",2,"cursor","pointer",3,"click"],[2,"font-size",".9em"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Tb(1,"h1",1),l.Tb(2,"mat-toolbar",2),l.Tb(3,"span"),l.Dc(4),l.Sb(),l.Sb(),l.Ob(5,"mat-divider"),l.Sb(),l.Tb(6,"div",3),l.Tb(7,"div",4),l.Tb(8,"div",5),l.Tb(9,"div",6),l.Tb(10,"p",7),l.Dc(11,"Discours du pr\xe9sident"),l.Sb(),l.Tb(12,"mat-list",8),l.Bc(13,V,3,1,"mat-list-item",9),l.Sb(),l.Sb(),l.Tb(14,"div",6),l.Tb(15,"p",7),l.Dc(16,"Rapport National"),l.Sb(),l.Tb(17,"mat-list",8),l.Bc(18,z,3,1,"mat-list-item",9),l.Sb(),l.Sb(),l.Ob(19,"mat-divider",10),l.Tb(20,"div",6),l.Tb(21,"p",7),l.Dc(22,"Plan mise en \u0153uvre "),l.Sb(),l.Tb(23,"mat-list",8),l.Bc(24,G,3,1,"mat-list-item",9),l.Sb(),l.Sb(),l.Ob(25,"mat-divider",10),l.Tb(26,"div",6),l.Tb(27,"p",7),l.Dc(28,"Observations finales"),l.Sb(),l.Tb(29,"mat-list",8),l.Bc(30,X,3,1,"mat-list-item",9),l.Sb(),l.Sb(),l.Ob(31,"mat-divider",10),l.Tb(32,"div",6),l.Tb(33,"p",7),l.Dc(34,"Rapport analytique"),l.Sb(),l.Tb(35,"mat-list",8),l.Bc(36,K,3,1,"mat-list-item",9),l.Sb(),l.Sb(),l.Ob(37,"mat-divider",10),l.Tb(38,"div",6),l.Tb(39,"p",7),l.Dc(40,"Rapport parall\xe8le"),l.Sb(),l.Tb(41,"mat-list",8),l.Bc(42,W,3,1,"mat-list-item",9),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(43,"div",11),l.Tb(44,"button",12),l.ac("click",function(){return t.dialogRef.close()}),l.Dc(45,"Retour"),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Bb(4),l.Ec(t.title),l.Bb(9),l.kc("ngForOf",t.propertyToList(t.o.discours)),l.Bb(5),l.kc("ngForOf",t.propertyToList(t.o.conventionPiece)),l.Bb(1),l.kc("vertical",!0),l.Bb(5),l.kc("ngForOf",t.propertyToList(t.o.miseOeuvrePiece)),l.Bb(1),l.kc("vertical",!0),l.Bb(5),l.kc("ngForOf",t.propertyToList(t.o.observationPiece)),l.Bb(1),l.kc("vertical",!0),l.Bb(5),l.kc("ngForOf",t.propertyToList(t.o.analytiquePiece)),l.Bb(1),l.kc("vertical",!0),l.Bb(5),l.kc("ngForOf",t.propertyToList(t.o.rapportParallelePiece)))},directives:[D.h,w.a,B.a,D.e,g.a,c.l,D.c,O.a,g.b,S.t],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),Y),te=o("5F3i"),ne=o("J3i2"),ie=o("0hB7"),ae=o("/ysL"),oe=o("2HI4"),ce=o("+Ya6"),re=o("x3GN"),se=o("oz3B"),le=o("oTHA"),ue=o("JX91"),be=o("Wp6s"),me=o("5nPQ"),de=o("NFeN"),pe=o("sYmb"),fe=((Z=function(){function e(t,i){n(this,e),this.uow=t,this.bottomSheet=i,this.o=new f.l,this.folderToSaveInServer="situation-reserve",this.propertyUrlTo=new d.a,this.propertyUrlFrom=new d.a,this.eventSubmitFromParent=new d.a,this.update=new d.a}return a(e,[{key:"ngOnInit",value:function(){var e=this;Object(p.a)(this.update).pipe(Object(ue.a)(null)).subscribe(function(t){e.uow.situationReserves.getFirst().subscribe(function(t){e.o=t,setTimeout(function(){e.propertyUrlTo.next(e.o.url)},100)})}),this.propertyUrlFrom.subscribe(function(t){return e.o.url=t})}},{key:"submit",value:function(){var e=this;0===this.o.id?this.uow.situationReserves.post(this.o).subscribe(function(t){e.eventSubmitFromParent.next(!0),setTimeout(function(){return e.update.next(!0)},1e3)}):this.uow.situationReserves.put(this.o.id,this.o).subscribe(function(t){e.eventSubmitFromParent.next(!0),setTimeout(function(){return e.update.next(!0)},1e3)})}},{key:"showPieceJoin",value:function(){this.bottomSheet.open(Q.a,{data:{fileName:this.o.url,folder:this.folderToSaveInServer}})}}]),e}()).\u0275fac=function(e){return new(e||Z)(l.Nb(v.a),l.Nb(h.b))},Z.\u0275cmp=l.Hb({type:Z,selectors:[["app-situation-reserve"]],decls:20,vars:18,consts:[[1,"row",2,"margin-bottom","15px"],[1,"col-md-6"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],[1,"col-md-3"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"],["mat-raised-button","","cdkFocusInitial","","color","accent",3,"disabled","click"]],template:function(e,t){1&e&&(l.Tb(0,"mat-card"),l.Tb(1,"h4"),l.Dc(2),l.fc(3,"translate"),l.Sb(),l.Tb(4,"div",0),l.Tb(5,"div",1),l.Ob(6,"app-upload",2),l.fc(7,"translate"),l.Sb(),l.Tb(8,"div",3),l.Tb(9,"button",4),l.ac("click",function(){return t.submit()}),l.Tb(10,"mat-icon"),l.Dc(11,"save_alt"),l.Sb(),l.Dc(12),l.fc(13,"translate"),l.Sb(),l.Sb(),l.Tb(14,"div",3),l.Tb(15,"button",5),l.ac("click",function(){return t.showPieceJoin()}),l.Tb(16,"mat-icon"),l.Dc(17,"cloud_download"),l.Sb(),l.Dc(18),l.fc(19,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Bb(2),l.Ec(l.gc(3,10,"admin.organe.situation_des_r\xe9serves")),l.Bb(4),l.lc("nameBtn",l.gc(7,12,"Pi\xe8ce-jointe")),l.kc("folderToSaveInServer",t.folderToSaveInServer)("propertyOfParent",t.propertyUrlTo)("eventSubmitToParent",t.propertyUrlFrom)("eventSubmitFromParent",t.eventSubmitFromParent),l.Bb(3),l.kc("disabled",""===t.o.url&&0===t.o.id),l.Bb(3),l.Fc(" ",l.gc(13,14,"admin.Enregistre"),""),l.Bb(3),l.kc("disabled",""===t.o.url&&0===t.o.id),l.Bb(3),l.Fc(" ",l.gc(19,16,"admin.organe.Telecharger")," "))},directives:[be.a,me.a,O.a,de.a],pipes:[pe.c],styles:[""]}),Z),he=o("Xa2L"),ve=o("Qu3c"),ge=function(){return["/admin/rapport/update",0]};function Se(e,t){1&e&&(l.Tb(0,"button",26),l.Tb(1,"mat-icon"),l.Dc(2,"add"),l.Sb(),l.Dc(3),l.fc(4,"translate"),l.Sb()),2&e&&(l.kc("routerLink",l.mc(4,ge)),l.Bb(3),l.Fc(" ",l.gc(4,2,"admin.organe.Organesdetrait\xe9")," "))}function Te(e,t){1&e&&l.Ob(0,"mat-spinner")}function Pe(e,t){if(1&e&&(l.Tb(0,"div",27),l.Bc(1,Te,1,0,"mat-spinner",28),l.Sb()),2&e){var n=l.ec();l.Bb(1),l.kc("ngIf",n.isLoadingResults)}}function ye(e,t){1&e&&(l.Tb(0,"th",29),l.Dc(1),l.fc(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Fc("",l.gc(2,1,"admin.organe.list.Organesdetrait\xe9")," "))}function ke(e,t){if(1&e&&(l.Tb(0,"td",30),l.Dc(1),l.Sb()),2&e){var n=t.$implicit,i=l.ec();l.Bb(1),l.Ec("fr"===i.mytranslate.langSync?n.nom:n.nomAr)}}function De(e,t){1&e&&(l.Tb(0,"th",31),l.Dc(1),l.fc(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Ec(l.gc(2,1,"admin.organe.list.Rapportnational")))}function we(e,t){if(1&e){var n=l.Ub();l.Tb(0,"td",30),l.Tb(1,"button",32),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().showPieceJoin(e.conventionPiece)}),l.Tb(2,"mat-icon"),l.Dc(3,"cloud_download"),l.Sb(),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit,a=l.ec();l.Bb(1),l.kc("disabled",a.disable(i.conventionPiece))("matTooltip",i.conventionPiece)}}function Be(e,t){1&e&&(l.Tb(0,"th",31),l.Dc(1),l.fc(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Ec(l.gc(2,1,"admin.organe.list.Discoursdupr\xe9sident")))}function Oe(e,t){if(1&e){var n=l.Ub();l.Tb(0,"td",30),l.Tb(1,"button",32),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().showPieceJoin(e.discours)}),l.Tb(2,"mat-icon"),l.Dc(3,"cloud_download"),l.Sb(),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit,a=l.ec();l.Bb(1),l.kc("disabled",a.disable(i.discours))("matTooltip",i.discours)}}function Fe(e,t){1&e&&(l.Tb(0,"th",31),l.Dc(1),l.fc(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Ec(l.gc(2,1,"admin.organe.list.Compterenduanalytique")))}function Ce(e,t){if(1&e){var n=l.Ub();l.Tb(0,"button",32),l.ac("click",function(){l.sc(n);var e=l.ec().$implicit;return l.ec().showPieceJoin(e.analytiquePiece)}),l.Tb(1,"mat-icon"),l.Dc(2,"cloud_download"),l.Sb(),l.Sb()}if(2&e){var i=l.ec().$implicit,a=l.ec();l.kc("disabled",a.disable(i.analytiquePiece))("matTooltip",i.analytiquePiece)}}function Re(e,t){if(1&e&&(l.Tb(0,"td",30),l.Bc(1,Ce,3,2,"button",33),l.Sb()),2&e){var n=l.ec();l.Bb(1),l.kc("ngIf",!1===n.session.isPointFocal)}}function xe(e,t){if(1&e&&(l.Tb(0,"th",31),l.Dc(1),l.fc(2,"translate"),l.Sb()),2&e){var n=l.ec();l.Bb(1),l.Fc(" ",!1===n.session.isPointFocal?l.gc(2,1,"admin.organe.list.Observationsfinales"):"","")}}function Ie(e,t){if(1&e){var n=l.Ub();l.Tb(0,"button",32),l.ac("click",function(){l.sc(n);var e=l.ec().$implicit;return l.ec().showPieceJoin(e.observationPiece)}),l.Tb(1,"mat-icon"),l.Dc(2,"cloud_download"),l.Sb(),l.Sb()}if(2&e){var i=l.ec().$implicit,a=l.ec();l.kc("disabled",a.disable(i.observationPiece))("matTooltip",i.observationPiece)}}function Ne(e,t){if(1&e&&(l.Tb(0,"td",30),l.Bc(1,Ie,3,2,"button",33),l.Sb()),2&e){var n=l.ec();l.Bb(1),l.kc("ngIf",!1===n.session.isPointFocal)}}function Me(e,t){1&e&&(l.Tb(0,"th",31),l.Dc(1),l.fc(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Ec(l.gc(2,1,"admin.organe.list.Rapportparall\xe8le")))}function Ee(e,t){if(1&e){var n=l.Ub();l.Tb(0,"td",30),l.Tb(1,"button",32),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().showPieceJoin(e.rapportParallelePiece)}),l.Tb(2,"mat-icon"),l.Dc(3,"cloud_download"),l.Sb(),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit,a=l.ec();l.Bb(1),l.kc("disabled",a.disable(i.rapportParallelePiece))("matTooltip",i.rapportParallelePiece)}}function _e(e,t){1&e&&(l.Tb(0,"th",31),l.Dc(1),l.fc(2,"translate"),l.Sb()),2&e&&(l.Bb(1),l.Ec(l.gc(2,1,"admin.organe.list.PLANDEMISEENOEUVRE")))}function Le(e,t){if(1&e){var n=l.Ub();l.Tb(0,"td",30),l.Tb(1,"button",32),l.ac("click",function(){l.sc(n);var e=t.$implicit;return l.ec().showPieceJoin(e.miseOeuvrePiece)}),l.Tb(2,"mat-icon"),l.Dc(3,"cloud_download"),l.Sb(),l.Sb(),l.Sb()}if(2&e){var i=t.$implicit,a=l.ec();l.Bb(1),l.kc("disabled",a.disable(i.miseOeuvrePiece))("matTooltip",i.miseOeuvrePiece)}}function $e(e,t){1&e&&l.Ob(0,"th",31)}var qe=function(e){return["/admin/rapport/update",e]};function Ue(e,t){if(1&e&&(l.Tb(0,"button",39),l.Tb(1,"mat-icon"),l.Dc(2,"create"),l.Sb(),l.Sb()),2&e){var n=l.ec(2).$implicit;l.kc("routerLink",l.nc(1,qe,n.id))}}function je(e,t){if(1&e){var n=l.Ub();l.Tb(0,"button",40),l.ac("click",function(){l.sc(n);var e=l.ec(2).$implicit;return l.ec().archive(e)}),l.Tb(1,"mat-icon"),l.Dc(2,"unarchive"),l.Sb(),l.Sb()}}function Ae(e,t){if(1&e){var n=l.Ub();l.Tb(0,"button",41),l.ac("click",function(){l.sc(n);var e=l.ec(2).$implicit;return l.ec().delete(e)}),l.Tb(1,"mat-icon"),l.Dc(2,"delete_sweep"),l.Sb(),l.Sb()}}function He(e,t){if(1&e&&(l.Tb(0,"div",35),l.Bc(1,Ue,3,3,"button",36),l.Bc(2,je,3,0,"button",37),l.Bc(3,Ae,3,0,"button",38),l.Sb()),2&e){var n=l.ec(2);l.Bb(1),l.kc("ngIf",!n.session.isPointFocal&&!n.session.isSuperViseur),l.Bb(1),l.kc("ngIf",!n.session.isPointFocal&&!n.session.isSuperViseur),l.Bb(1),l.kc("ngIf",!n.session.isPointFocal&&!n.session.isSuperViseur)}}function Je(e,t){if(1&e&&(l.Tb(0,"td",30),l.Bc(1,He,4,3,"div",34),l.Sb()),2&e){var n=l.ec();l.Bb(1),l.kc("ngIf",!n.session.isPublic)}}function Qe(e,t){1&e&&l.Ob(0,"tr",42)}function Ve(e,t){1&e&&l.Ob(0,"tr",43)}var ze,Ge=function(){return[10,25,50,100,250]},Xe=((ze=function(){function t(e,i,a,o,c,r,s,u){n(this,t),this.uow=e,this.dialog=i,this.mydialog=a,this.mytranslate=o,this.bottomSheet=c,this.session=r,this.route=s,this.url=u,this.update=new l.o,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.dataSource=[],this.columnDefs=[{columnDef:"nom",headName:"Organes de Trait\xe9s"},{columnDef:"conventionPiece",headName:"Rapport national"},{columnDef:"discours",headName:"Discours du pr\xe9sident"},{columnDef:"analytiquePiece",headName:"Compte rendu analytique"},{columnDef:"observationPiece",headName:"Observations finales"},{columnDef:"rapportParallelePiece",headName:"Rapport  parall\xe8le"},{columnDef:"miseOeuvrePiece",headName:"PLAN DE MISE EN OEUVRE"},{columnDef:"option",headName:"..."}].map(function(e){return e.headName=""===e.headName?e.columnDef.toUpperCase():e.headName.toUpperCase(),e}),this.text="",this.text2=this.text.substring(0,600),this.displayedColumns=this.columnDefs.filter(function(e){return"miseOeuvrePiece"!==e.columnDef}).map(function(e){return e.columnDef}),this.progress=0,this.formData=new FormData,this.pieChartSubject=new m.a({table:"organe",type:"etat",title:"Etat d\u2019avancement des recommandations par organe"}),this.pieChartSubjectC=new m.a({table:"organe",type:"taux",title:this.mytranslate.getObs("admin.organe.list.Tauxderecommandationsparorgane")}),this.organePageSubject=new d.a,this.countRec=new d.a,this.dataOt=new d.a,this.dataPie=new d.a}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.getPage(0,10,"id","desc",this.session.isPublic?0:this.session.user.idOrganisme),Object(p.a)(this.sort.sortChange,this.paginator.page,this.update).subscribe(function(t){!0===t?e.paginator.pageIndex=0:t=t,e.paginator.pageSize?t=t:e.paginator.pageSize=10;var n=e.paginator.pageIndex*e.paginator.pageSize;e.isLoadingResults=!0,e.getPage(n,e.paginator.pageSize,e.sort.active?e.sort.active:"id",e.sort.direction?e.sort.direction:"desc",e.session.isPublic?0:e.session.user.idOrganisme)}),this.route.queryParams.subscribe(function(t){var n=t.data;n&&e.uow.rapports.getOne(n).subscribe(function(t){e.openDialog(t)})}),this.stateOrgane(),this.stateMecanisme(),this.stateOneOFMecanisme()}},{key:"stateOneOFMecanisme",value:function(){var e=this;this.uow.recommendations.stateMecanisme().subscribe(function(t){var n=[];n.push(e.mytranslate.get("admin.organe.list.Etatavancement")),n.push(e.mytranslate.get("admin.organe.list.R\xe9alis\xe9")),n.push(e.mytranslate.get("admin.organe.list.NonR\xe9alis\xe9"));var i=[],a=[];i.push(100*t.ot.p/t.ot.t),i.push(100*t.ot.r/t.ot.t),i.push(100*t.ot.n/t.ot.t),a.push(t.ot.p,t.ot.r,t.ot.n),e.countRec.next(t.ot.p+t.ot.r+t.ot.n),e.dataPie.next({chartLabels:n,chartData:i,chartColors:["#f7801e","#2b960b","#db0707","#ffffff"],dataToShowInTable:a,count:t.count,title:e.mytranslate.get("admin.home.OrganesdeTrait\xe9s")})})}},{key:"disable",value:function(e){return!e||""===e}},{key:"stateMecanisme",value:function(){var e=this;this.uow.recommendations.stateMecanisme().subscribe(function(t){t.ot.name=e.mytranslate.getObs("admin.home.OrganesdeTrait\xe9s"),t.ot.count=t.count,e.dataOt.next(t.ot)})}},{key:"stateOrgane",value:function(){var e=this;this.uow.recommendations.stateOrgane().subscribe(function(t){t=t.filter(function(e){return null!==e.name}),console.log(t);var n=t.map(function(e){return e.name}),i=[{data:[],label:e.mytranslate.get("admin.organe.list.Etatavancement")},{data:[],label:e.mytranslate.get("admin.organe.list.R\xe9alis\xe9")},{data:[],label:e.mytranslate.get("admin.organe.list.NonR\xe9alis\xe9")}];t.forEach(function(e){i[0].data.push((100*e.p/e.t).toFixed(0)),i[1].data.push((100*e.r/e.t).toFixed(0)),i[2].data.push((100*e.n/e.t).toFixed(0))}),e.organePageSubject.next({barChartLabels:n,barChartData:i,title:e.mytranslate.get("admin.organe.list.Miseen\u0153uvredesrecommandationsparOrganesdeTrait\xe9s")})})}},{key:"getPage",value:function(e,t,n,i,a){var o=this;this.uow.traites.getAll(e,t,n,i,a).subscribe(function(e){o.dataSource=e.list,o.resultsLength=e.count,o.isLoadingResults=!1})}},{key:"openDialog",value:function(e){return this.dialog.open(J,{width:"7100px",disableClose:!0,data:{model:e,title:"Rapport"}}).afterClosed()}},{key:"moreInfo",value:function(){this.text2=600===this.text2.length?this.text:this.text.substring(0,600)}},{key:"delete",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,a,o,c,r,s,l,u=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.mydialog.openDialog("rapport").toPromise();case 2:if(n.t0=n.sent,"ok"!==n.t0){n.next=6;break}l=[],""!==t.conventionPiece?(i=l).push.apply(i,e(this.uow.decoupe(t.conventionPiece))):l=l,""!==t.miseOeuvrePiece?(a=l).push.apply(a,e(this.uow.decoupe(t.miseOeuvrePiece))):l=l,""!==t.observationPiece?(o=l).push.apply(o,e(this.uow.decoupe(t.observationPiece))):l=l,""!==t.discours?(c=l).push.apply(c,e(this.uow.decoupe(t.discours))):l=l,""!==t.analytiquePiece?(r=l).push.apply(r,e(this.uow.decoupe(t.analytiquePiece))):l=l,""!==t.miseOeuvrePiece?(s=l).push.apply(s,e(this.uow.decoupe(t.miseOeuvrePiece))):l=l,this.uow.files.deleteFiles(l,"traite").subscribe(function(e){u.uow.traites.delete(t.id).subscribe(function(){return u.update.next(!0)})});case 6:case"end":return n.stop()}},n,this)}))}},{key:"archive",value:function(e){this.dialog.open(ee,{width:"80vw",disableClose:!0,data:{model:e,title:e.nom}})}},{key:"showPieceJoin2",value:function(e){console.log(e),this.bottomSheet.open(k,{data:e})}},{key:"showPieceJoin",value:function(e){this.bottomSheet.open(Q.a,{data:{fileName:e,folder:"traite"}})}}]),t}()).\u0275fac=function(e){return new(e||ze)(l.Nb(v.a),l.Nb(D.b),l.Nb(te.a),l.Nb(ne.a),l.Nb(h.b),l.Nb(ie.a),l.Nb(r.a),l.Nb("BASE_URL"))},ze.\u0275cmp=l.Hb({type:ze,selectors:[["app-list"]],viewQuery:function(e,t){var n;1&e&&(l.xc(u.a,!0),l.xc(b.a,!0)),2&e&&(l.pc(n=l.bc())&&(t.paginator=n.first),l.pc(n=l.bc())&&(t.sort=n.first))},decls:49,vars:24,consts:[[1,"host"],[3,"title"],[1,"right"],["class","mt-3","mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mecanisme","organe"],[1,"row","mb-4","justify-content-center"],[1,"col-md-5"],[3,"obs"],[1,"col-md-2","p-0"],[3,"count","height"],[1,"col-md-12"],[3,"dataSubject","height"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","option",2,"flex-direction","row-reverse"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],["mat-raised-button","","color","primary",1,"mt-3",3,"routerLink"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",1,"center",3,"disabled","matTooltip","click"],["class","center","mat-icon-button","","color","accent",3,"disabled","matTooltip","click",4,"ngIf"],["class","button-row",4,"ngIf"],[1,"button-row"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Ob(1,"app-title",1),l.fc(2,"translate"),l.Tb(3,"div",2),l.Bc(4,Se,5,5,"button",3),l.Sb(),l.Ob(5,"app-intros",4),l.Tb(6,"div",5),l.Tb(7,"div",6),l.Ob(8,"app-pie",7),l.Sb(),l.Tb(9,"div",8),l.Ob(10,"app-count",9),l.Sb(),l.Tb(11,"div",6),l.Ob(12,"app-pie-chart",7),l.Sb(),l.Tb(13,"div",10),l.Ob(14,"app-bar",11),l.Sb(),l.Sb(),l.Tb(15,"div",12),l.Bc(16,Pe,2,1,"div",13),l.Tb(17,"div",14),l.Tb(18,"table",15,16),l.Rb(20,17),l.Bc(21,ye,3,3,"th",18),l.Bc(22,ke,2,1,"td",19),l.Qb(),l.Rb(23,17),l.Bc(24,De,3,3,"th",20),l.Bc(25,we,4,2,"td",19),l.Qb(),l.Rb(26,17),l.Bc(27,Be,3,3,"th",20),l.Bc(28,Oe,4,2,"td",19),l.Qb(),l.Rb(29,17),l.Bc(30,Fe,3,3,"th",20),l.Bc(31,Re,2,1,"td",19),l.Qb(),l.Rb(32,17),l.Bc(33,xe,3,3,"th",20),l.Bc(34,Ne,2,1,"td",19),l.Qb(),l.Rb(35,17),l.Bc(36,Me,3,3,"th",20),l.Bc(37,Ee,4,2,"td",19),l.Qb(),l.Rb(38,17),l.Bc(39,_e,3,3,"th",20),l.Bc(40,Le,4,2,"td",19),l.Qb(),l.Rb(41,21),l.Bc(42,$e,1,0,"th",20),l.Bc(43,Je,2,1,"td",19),l.Qb(),l.Bc(44,Qe,1,0,"tr",22),l.Bc(45,Ve,1,0,"tr",23),l.Sb(),l.Sb(),l.Ob(46,"mat-paginator",24,25),l.Sb(),l.Ob(48,"app-situation-reserve"),l.Sb()),2&e&&(l.Bb(1),l.lc("title",l.gc(2,21,"admin.organe.Organesdetrait\xe9s")),l.Bb(3),l.kc("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur&&!t.session.isPublic),l.Bb(4),l.kc("obs",t.dataPie),l.Bb(2),l.kc("count",t.countRec)("height","62vh"),l.Bb(2),l.kc("obs",t.pieChartSubjectC),l.Bb(2),l.kc("dataSubject",t.organePageSubject)("height","70vh"),l.Bb(2),l.kc("ngIf",t.isLoadingResults),l.Bb(2),l.kc("dataSource",t.dataSource),l.Bb(2),l.kc("matColumnDef",t.columnDefs[0].columnDef),l.Bb(3),l.kc("matColumnDef",t.columnDefs[1].columnDef),l.Bb(3),l.kc("matColumnDef",t.columnDefs[2].columnDef),l.Bb(3),l.kc("matColumnDef",t.columnDefs[3].columnDef),l.Bb(3),l.kc("matColumnDef",t.columnDefs[4].columnDef),l.Bb(3),l.kc("matColumnDef",t.columnDefs[5].columnDef),l.Bb(3),l.kc("matColumnDef",t.columnDefs[6].columnDef),l.Bb(6),l.kc("matHeaderRowDef",t.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",t.displayedColumns),l.Bb(1),l.kc("length",t.resultsLength)("pageSizeOptions",l.mc(23,Ge)))},directives:[ae.a,c.m,oe.a,ce.a,re.a,se.a,le.a,F.j,b.a,F.c,F.e,F.b,F.g,F.i,u.a,fe,O.a,r.f,de.a,he.c,F.d,b.b,F.a,ve.a,F.f,F.h],pipes:[pe.c],styles:["section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}  h3{margin:0!important}.host[_ngcontent-%COMP%]{margin:1em!important}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.mat-cell[_ngcontent-%COMP%]:last-child,   .mat-header-cell:last-child{width:180px!important}"]}),ze),Ke=o("3Pt+"),We=o("0kbX"),Ye=o("wZkO"),Ze=o("kmnG"),et=o("qFsG"),tt=o("iadO"),nt=o("3IEU"),it=function(){return["/admin/rapport/list"]};function at(e,t){if(1&e){var n=l.Ub();l.Tb(0,"form",5),l.Tb(1,"div",6),l.Tb(2,"mat-form-field",7),l.Tb(3,"mat-label"),l.Dc(4),l.fc(5,"translate"),l.Sb(),l.Ob(6,"textarea",8),l.Sb(),l.Tb(7,"mat-form-field",7),l.Tb(8,"mat-label"),l.Dc(9),l.fc(10,"translate"),l.Sb(),l.Ob(11,"textarea",9),l.Sb(),l.Tb(12,"div",10),l.Tb(13,"mat-form-field",11),l.Tb(14,"mat-label"),l.Dc(15),l.fc(16,"translate"),l.Sb(),l.Ob(17,"input",12),l.Ob(18,"mat-datepicker-toggle",13),l.Ob(19,"mat-datepicker",null,14),l.Sb(),l.Tb(21,"mat-form-field",11),l.Tb(22,"mat-label"),l.Dc(23),l.fc(24,"translate"),l.Sb(),l.Ob(25,"input",15),l.Ob(26,"mat-datepicker-toggle",13),l.Ob(27,"mat-datepicker",null,16),l.Sb(),l.Sb(),l.Tb(29,"div",17),l.Ob(30,"app-upload-select",18),l.fc(31,"translate"),l.Ob(32,"app-upload-select",18),l.fc(33,"translate"),l.Ob(34,"app-upload-select",18),l.fc(35,"translate"),l.Ob(36,"app-upload-select",18),l.fc(37,"translate"),l.Ob(38,"app-upload-select",18),l.fc(39,"translate"),l.Ob(40,"app-upload-select",18),l.fc(41,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Tb(42,"div",19),l.Tb(43,"button",20),l.Dc(44),l.fc(45,"translate"),l.Sb(),l.Dc(46,"\xa0\xa0 "),l.Tb(47,"button",21),l.ac("click",function(){l.sc(n);var e=l.ec();return e.submit(e.myForm.value)}),l.Dc(48),l.fc(49,"translate"),l.Sb(),l.Sb()}if(2&e){var i=l.qc(20),a=l.qc(28),o=l.ec();l.kc("formGroup",o.myForm),l.Bb(4),l.Ec(l.gc(5,43,"admin.organe.update.ConventionProtocole")),l.Bb(5),l.Ec(l.gc(10,45,"admin.organe.update.ConventionProtocoleAr")),l.Bb(6),l.Ec(l.gc(16,47,"admin.organe.update.DateSignature")),l.Bb(2),l.kc("matDatepicker",i),l.Bb(1),l.kc("for",i),l.Bb(5),l.Ec(l.gc(24,49,"admin.organe.update.Datederatification")),l.Bb(2),l.kc("matDatepicker",a),l.Bb(1),l.kc("for",a),l.Bb(4),l.lc("nameBtn",l.gc(31,51,"admin.organe.list.Rapportnational")),l.kc("folderToSaveInServer",o.folderToSaveInServer)("propertyOfParent",o.conventionPieceTo)("eventSubmitToParent",o.conventionPieceFrom)("eventSubmitFromParent",o.eventSubmitFromParent),l.Bb(2),l.lc("nameBtn",l.gc(33,53,"admin.organe.list.Discoursdupr\xe9sident")),l.kc("folderToSaveInServer",o.folderToSaveInServer)("propertyOfParent",o.discoursTo)("eventSubmitToParent",o.discoursFrom)("eventSubmitFromParent",o.eventSubmitFromParent),l.Bb(2),l.lc("nameBtn",l.gc(35,55,"admin.organe.list.Compterenduanalytique")),l.kc("folderToSaveInServer",o.folderToSaveInServer)("propertyOfParent",o.analytiquePieceTo)("eventSubmitToParent",o.analytiquePieceFrom)("eventSubmitFromParent",o.eventSubmitFromParent),l.Bb(2),l.lc("nameBtn",l.gc(37,57,"admin.organe.list.Observationsfinales")),l.kc("folderToSaveInServer",o.folderToSaveInServer)("propertyOfParent",o.observationPieceTo)("eventSubmitToParent",o.observationPieceFrom)("eventSubmitFromParent",o.eventSubmitFromParent),l.Bb(2),l.lc("nameBtn",l.gc(39,59,"admin.organe.list.Rapportparall\xe8le")),l.kc("folderToSaveInServer",o.folderToSaveInServer)("propertyOfParent",o.rapportParallelePieceTo)("eventSubmitToParent",o.rapportParallelePieceFrom)("eventSubmitFromParent",o.eventSubmitFromParent),l.Bb(2),l.lc("nameBtn",l.gc(41,61,"admin.organe.list.PLANDEMISEENOEUVRE")),l.kc("folderToSaveInServer",o.folderToSaveInServer)("propertyOfParent",o.miseOeuvrePieceTo)("eventSubmitToParent",o.miseOeuvrePieceFrom)("eventSubmitFromParent",o.eventSubmitFromParent),l.Bb(3),l.kc("routerLink",l.mc(67,it)),l.Bb(1),l.Ec(l.gc(45,63,"admin.Retour")),l.Bb(3),l.kc("disabled",o.myForm.invalid),l.Bb(1),l.Ec(l.gc(49,65,"admin.Enregistre"))}}var ot,ct,rt,st,lt=((ot=function(){function e(t,i,a,o,c){n(this,e),this.route=t,this.snack=i,this.uow=a,this.fb=o,this.session=c,this.o=new f.o,this.id=0,this.folderToSaveInServer="traite",this.conventionPieceTo=new d.a,this.conventionPieceFrom=new d.a,this.discoursTo=new d.a,this.discoursFrom=new d.a,this.observationPieceTo=new d.a,this.observationPieceFrom=new d.a,this.miseOeuvrePieceTo=new d.a,this.miseOeuvrePieceFrom=new d.a,this.analytiquePieceTo=new d.a,this.analytiquePieceFrom=new d.a,this.rapportParallelePieceTo=new d.a,this.rapportParallelePieceFrom=new d.a,this.eventSubmitFromParent=new d.a}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.createForm(),this.id=+this.route.snapshot.paramMap.get("id"),0!==this.id&&this.uow.traites.getOne(this.id).subscribe(function(t){e.o=t,console.log(e.o),e.createForm(),setTimeout(function(){e.discoursTo.next(e.o.discours),e.rapportParallelePieceTo.next(e.o.rapportParallelePiece),e.conventionPieceTo.next(e.o.conventionPiece),e.observationPieceTo.next(e.o.observationPiece),e.miseOeuvrePieceTo.next(e.o.miseOeuvrePiece),e.analytiquePieceTo.next(e.o.analytiquePiece)},100)}),this.rapportParallelePieceFrom.subscribe(function(t){return e.myForm.get("rapportParallelePiece").setValue(t)}),this.conventionPieceFrom.subscribe(function(t){return e.myForm.get("conventionPiece").setValue(t)}),this.discoursFrom.subscribe(function(t){return e.myForm.get("discours").setValue(t)}),this.observationPieceFrom.subscribe(function(t){return e.myForm.get("observationPiece").setValue(t)}),this.miseOeuvrePieceFrom.subscribe(function(t){return e.myForm.get("miseOeuvrePiece").setValue(t)}),this.analytiquePieceFrom.subscribe(function(t){return e.myForm.get("analytiquePiece").setValue(t)})}},{key:"createForm",value:function(){this.myForm=this.fb.group({id:this.o.id,nom:[this.o.nom,Ke.s.required],nomAr:[this.o.nomAr,Ke.s.required],discours:[this.o.discours],dateSignature:[this.o.dateSignature,Ke.s.required],dateRatification:[this.o.dateRatification,Ke.s.required],conventionPiece:[this.o.conventionPiece],observationPiece:[this.o.observationPiece],miseOeuvrePiece:[this.o.miseOeuvrePiece],analytiquePiece:[this.o.analytiquePiece],rapportParallelePiece:[this.o.rapportParallelePiece]})}},{key:"submit",value:function(e){var t=this;e.dateRatification=this.valideDate(e.dateRatification),e.dateSignature=this.valideDate(e.dateSignature),e.idUser=this.session.user.id,0===this.id?this.uow.traites.post(e).subscribe(function(e){return Object(s.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.eventSubmitFromParent.next(!0),this.o=e;case 1:case"end":return t.stop()}},t,this)}))}):this.uow.traites.put(e.id,e).subscribe(function(e){return Object(s.a)(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.eventSubmitFromParent.next(!0),new Date;case 1:case"end":return e.stop()}},e,this)}))})}},{key:"reset",value:function(){this.o=new f.o,this.createForm()}},{key:"valideDate",value:function(e){var t=(e=new Date(e)).getHours()-e.getTimezoneOffset()/60,n=(e.getHours()-e.getTimezoneOffset())%60;return e.setHours(t),e.setMinutes(n),e}}]),e}()).\u0275fac=function(e){return new(e||ot)(l.Nb(r.a),l.Nb(We.a),l.Nb(v.a),l.Nb(Ke.d),l.Nb(ie.a))},ot.\u0275cmp=l.Hb({type:ot,selectors:[["app-update"]],decls:7,vars:7,consts:[[1,"host"],[3,"title"],[1,"example-stretched-tabs","mat-elevation-z4",2,"margin-top","15px"],[3,"label","disabled"],["matTabContent",""],[3,"formGroup"],[1,"myForm",2,"margin-top","15px","height","100%"],["appearance","fill",2,"width","100%"],["matInput","","rows","6","formControlName","nom","required",""],["matInput","","rows","6","formControlName","nomAr","required",""],[1,"inputs"],["appearance","fill"],["matInput","","formControlName","dateSignature",3,"matDatepicker"],["matSuffix","",3,"for"],["picker5",""],["matInput","","formControlName","dateRatification",3,"matDatepicker"],["picker0",""],[1,"row","justify-content-center",2,"margin-bottom","15px"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],[1,"actions"],["mat-button","","type","button",3,"routerLink"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Ob(1,"app-title",1),l.fc(2,"translate"),l.Tb(3,"mat-tab-group",2),l.Tb(4,"mat-tab",3),l.fc(5,"translate"),l.Bc(6,at,50,68,"ng-template",4),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Bb(1),l.lc("title",l.gc(2,3,"admin.organe.Organesdetrait\xe9")),l.Bb(3),l.lc("label",l.gc(5,5,"admin.organe.update.Trait\xe9")),l.kc("disabled",!1))},directives:[ae.a,Ye.c,Ye.a,Ye.b,Ke.t,Ke.n,Ke.h,Ze.c,Ze.f,et.b,Ke.c,Ke.m,Ke.g,Ke.r,tt.b,tt.d,Ze.g,tt.a,nt.a,O.a,r.f],pipes:[pe.c],styles:[".myForm[_ngcontent-%COMP%]{margin:0 15px}.myForm[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(20vw,1fr));grid-column-gap:6px;grid-row-gap:6px;align-items:center}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;margin:0 15px 15px 0}.host[_ngcontent-%COMP%]{margin:1em!important}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}.example-stretched-tabs[_ngcontent-%COMP%]{max-width:100%} .mat-tab-label.mat-tab-label-active.cdk-keyboard-focused:not(.mat-tab-disabled),  .mat-tab-label.mat-tab-label-active:not(.mat-tab-disabled){background-color:#dfdfdf;font-weight:700}  .mat-tab-body-content{height:calc(100vh - 210px)!important;overflow:auto}"]}),ot),ut=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:(ct=function(){function e(){n(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}(),ct.\u0275fac=function(e){return new(e||ct)},ct.\u0275cmp=l.Hb({type:ct,selectors:[["app-rapport"]],decls:1,vars:0,template:function(e,t){1&e&&l.Ob(0,"router-outlet")},directives:[r.i],styles:[""]}),ct),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Xe},{path:"update/:id",component:lt}],canActivate:[o("xjdI").a]}],bt=((rt=function e(){n(this,e)}).\u0275mod=l.Lb({type:rt}),rt.\u0275inj=l.Kb({factory:function(e){return new(e||rt)},imports:[[r.h.forChild(ut)],r.h]}),rt),mt=o("tk/3"),dt=o("2thQ"),pt=o("Dgsr"),ft=o("Fr4G"),ht=o("Ry++"),vt=o("gct3"),gt=((st=function e(){n(this,e)}).\u0275mod=l.Lb({type:st}),st.\u0275inj=l.Kb({factory:function(e){return new(e||st)},imports:[[c.c,bt,mt.c,dt.a,Ke.i,Ke.q,pt.a,ft.a,ht.a,pe.b,vt.a]]}),st)}}])}();