(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Romv:function(t,e,i){"use strict";i.r(e),i.d(e,"RapportModule",function(){return de});var n=i("ofXK"),o=i("tyNb"),a=i("mrSG"),c=i("fXoL"),s=i("M9IT"),r=i("Dh3D"),l=i("XNiG"),b=i("VRyK"),m=i("ukCm"),u=i("2ChS"),d=i("7q3A"),p=i("MutI"),f=i("FKr1");function h(t,e){if(1&t){const t=c.Ub();c.Tb(0,"a",2),c.ac("click",function(){c.sc(t);const e=c.ec().$implicit;return c.ec().openLink(e.pieceJointe)}),c.Tb(1,"span",3),c.Cc(2),c.Sb(),c.Tb(3,"span",3),c.Cc(4),c.Sb(),c.Sb()}if(2&t){const t=c.ec().$implicit;c.Bb(2),c.Dc(t.titre),c.Bb(2),c.Dc(t.pieceJointe)}}function g(t,e){if(1&t&&(c.Tb(0,"div"),c.Bc(1,h,5,2,"a",1),c.Sb()),2&t){const t=e.$implicit;c.Bb(1),c.kc("ngIf",""!==t.pieceJointe)}}let S=(()=>{class t{constructor(t,e,i,n){this.bottomSheetRef=t,this.data=e,this.uow=i,this.url=n,this.o=new m.o,this.rapports=[]}ngOnInit(){this.o=this.data,this.rapports=this.o.rapports}openLink(t){return Object(a.a)(this,void 0,void 0,function*(){console.log(t),window.open(`${this.url}/rapport/${t}`)})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(u.d),c.Nb(u.a),c.Nb(d.a),c.Nb("BASE_URL"))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-sheetbottom"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(c.Tb(0,"mat-nav-list"),c.Bc(1,g,2,1,"div",0),c.Sb()),2&t&&(c.Bb(1),c.kc("ngForOf",e.rapports))},directives:[p.d,n.l,n.m,p.b,f.k],styles:[""]}),t})();var v=i("0IaG"),T=i("/t3+"),P=i("f0Cb"),B=i("bTqV"),D=i("+0xr"),k=i("f6nW");function y(t,e){if(1&t&&(c.Tb(0,"th",16),c.Cc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Dc(t.columnDefs[0].headName)}}function w(t,e){if(1&t&&(c.Tb(0,"td",17),c.Cc(1),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Dc(t[i.columnDefs[0].columnDef])}}function C(t,e){if(1&t&&(c.Tb(0,"th",16),c.Cc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Dc(t.columnDefs[1].headName)}}function O(t,e){if(1&t&&(c.Tb(0,"td",17),c.Cc(1),c.fc(2,"date"),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Dc(c.hc(2,1,t[i.columnDefs[1].columnDef],"dd/MM/yyyy"))}}function F(t,e){if(1&t&&(c.Tb(0,"th",16),c.Cc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Dc(t.columnDefs[2].headName)}}function I(t,e){if(1&t&&(c.Tb(0,"td",17),c.Cc(1),c.fc(2,"date"),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Dc(c.hc(2,1,t[i.columnDefs[2].columnDef],"dd/MM/yyyy"))}}function N(t,e){if(1&t&&(c.Tb(0,"th",16),c.Cc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Dc(t.columnDefs[3].headName)}}function R(t,e){if(1&t&&(c.Tb(0,"td",17),c.Cc(1),c.fc(2,"date"),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Dc(c.hc(2,1,t[i.columnDefs[3].columnDef],"dd/MM/yyyy"))}}function x(t,e){if(1&t&&(c.Tb(0,"th",16),c.Cc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Dc(t.columnDefs[4].headName)}}function M(t,e){if(1&t&&(c.Tb(0,"td",17),c.Cc(1),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Dc(t[i.columnDefs[4].columnDef])}}function _(t,e){1&t&&c.Ob(0,"tr",18)}function $(t,e){1&t&&c.Ob(0,"tr",19)}function E(t,e){if(1&t&&(c.Tb(0,"section"),c.Tb(1,"h5"),c.Cc(2,"Rapports"),c.Sb(),c.Tb(3,"div",8),c.Tb(4,"table",9,10),c.Rb(6,11),c.Bc(7,y,2,1,"th",12),c.Bc(8,w,2,1,"td",13),c.Qb(),c.Rb(9,11),c.Bc(10,C,2,1,"th",12),c.Bc(11,O,3,4,"td",13),c.Qb(),c.Rb(12,11),c.Bc(13,F,2,1,"th",12),c.Bc(14,I,3,4,"td",13),c.Qb(),c.Rb(15,11),c.Bc(16,N,2,1,"th",12),c.Bc(17,R,3,4,"td",13),c.Qb(),c.Rb(18,11),c.Bc(19,x,2,1,"th",12),c.Bc(20,M,2,1,"td",13),c.Qb(),c.Bc(21,_,1,0,"tr",14),c.Bc(22,$,1,0,"tr",15),c.Sb(),c.Sb(),c.Sb()),2&t){const t=c.ec();c.Bb(4),c.kc("dataSource",t.dataSource),c.Bb(2),c.kc("matColumnDef",t.columnDefs[0].columnDef),c.Bb(3),c.kc("matColumnDef",t.columnDefs[1].columnDef),c.Bb(3),c.kc("matColumnDef",t.columnDefs[2].columnDef),c.Bb(3),c.kc("matColumnDef",t.columnDefs[3].columnDef),c.Bb(3),c.kc("matColumnDef",t.columnDefs[4].columnDef),c.Bb(3),c.kc("cdkHeaderRowDef",t.displayedColumns),c.Bb(1),c.kc("cdkRowDefColumns",t.displayedColumns)}}let L=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.dataSource=[],this.columnDefs=[{columnDef:"titre",headName:"TITRE"},{columnDef:"dateDernierRapport",headName:"Date Rapport"},{columnDef:"dateObservation",headName:"Date des observations finales"},{columnDef:"dateProchaineRapport",headName:"Date Prochain Rapport"},{columnDef:"reference",headName:"R\xe9f\xe9rence des observations finales"}].map(t=>(t.headName=""===t.headName?t.columnDef.toUpperCase():t.headName,t)),this.displayedColumns=this.columnDefs.map(t=>t.columnDef),this.title=""}ngOnInit(){this.o=this.data.model,this.dataSource=this.o.rapports,this.title=this.data.title,console.log(this.o)}onNoClick(){this.dialogRef.close()}onOkClick(t){}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(v.g),c.Nb(v.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-update"]],decls:19,vars:10,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements",3,"dataSource"],["table",""],[3,"matColumnDef"],["cdk-header-cell","",4,"matHeaderCellDef"],["cdk-cell","",4,"matCellDef"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-header-cell",""],["cdk-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"h1",1),c.Tb(2,"mat-toolbar",2),c.Tb(3,"span"),c.Cc(4),c.Sb(),c.Sb(),c.Ob(5,"mat-divider"),c.Sb(),c.Tb(6,"div",3),c.Tb(7,"div",4),c.Tb(8,"ul"),c.Tb(9,"li"),c.Cc(10),c.fc(11,"date"),c.Sb(),c.Tb(12,"li"),c.Cc(13),c.fc(14,"date"),c.Sb(),c.Sb(),c.Bc(15,E,23,8,"section",5),c.Sb(),c.Tb(16,"div",6),c.Tb(17,"button",7),c.ac("click",function(){return e.onNoClick()}),c.Cc(18,"Retour"),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(4),c.Dc(e.o.nom),c.Bb(6),c.Ec("Date de signature: ",c.hc(11,4,e.o.dateSignature,"dd/MM/yyyy"),""),c.Bb(3),c.Ec("Date de ratification: ",c.hc(14,7,e.o.dateRatification,"dd/MM/yyyy"),""),c.Bb(2),c.kc("ngIf",0!==e.dataSource.length))},directives:[v.h,T.a,P.a,v.e,n.m,v.c,B.a,D.j,D.c,D.e,D.b,k.m,k.p,k.j,k.b,D.f,D.h],pipes:[n.e],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})();var H=i("ZTdd"),U=i("sYmb");function q(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Cc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Ec("- ",t.substring(14,t.length-1),"")}}function j(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Cc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Ec("- ",t.substring(14,t.length-1),"")}}function J(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Cc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Ec("- ",t.substring(14,t.length-1),"")}}function Q(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Cc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Ec("- ",t.substring(14,t.length-1),"")}}function V(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Cc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Ec("- ",t.substring(14,t.length-1),"")}}function A(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Cc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Ec("- ",t.substring(14,t.length-1),"")}}function z(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Cc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Ec("- ",t.substring(14,t.length-1),"")}}function G(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Cc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Ec("- ",t.substring(14,t.length-1),"")}}let X=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.data=e,this.url=i,this.title="",this.folder="traite"}ngOnInit(){this.o=this.data.model,this.title=this.data.title}propertyToList(t){if(t){const e=t.split(";");return e.pop(),e}return[]}download(t){window.open(`${this.url}/${this.folder}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(v.g),c.Nb(v.a),c.Nb("BASE_URL"))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-archive"]],decls:60,vars:21,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[1,"row"],[1,"col"],[2,"font-weight","bold"],["role","list"],["matRipple","","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[3,"vertical"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["matRipple","",2,"cursor","pointer",3,"click"],[2,"font-size",".9em"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"h1",1),c.Tb(2,"mat-toolbar",2),c.Tb(3,"span"),c.Cc(4),c.Sb(),c.Sb(),c.Ob(5,"mat-divider"),c.Sb(),c.Tb(6,"div",3),c.Tb(7,"div",4),c.Tb(8,"div",5),c.Tb(9,"div",6),c.Tb(10,"p",7),c.Cc(11,"Discours du pr\xe9sident"),c.Sb(),c.Tb(12,"mat-list",8),c.Bc(13,q,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Tb(14,"div",6),c.Tb(15,"p",7),c.Cc(16,"Rapport National"),c.Sb(),c.Tb(17,"mat-list",8),c.Bc(18,j,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(19,"mat-divider",10),c.Tb(20,"div",6),c.Tb(21,"p",7),c.Cc(22,"Plan mise en \u0153uvre "),c.Sb(),c.Tb(23,"mat-list",8),c.Bc(24,J,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(25,"mat-divider",10),c.Tb(26,"div",6),c.Tb(27,"p",7),c.Cc(28,"Observations finales"),c.Sb(),c.Tb(29,"mat-list",8),c.Bc(30,Q,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(31,"mat-divider",10),c.Tb(32,"div",6),c.Tb(33,"p",7),c.Cc(34,"Rapport analytique"),c.Sb(),c.Tb(35,"mat-list",8),c.Bc(36,V,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(37,"mat-divider",10),c.Tb(38,"div",6),c.Tb(39,"p",7),c.Cc(40,"Rapport parall\xe8le"),c.Sb(),c.Tb(41,"mat-list",8),c.Bc(42,A,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(43,"mat-divider",10),c.Tb(44,"div",6),c.Tb(45,"p",7),c.Cc(46),c.fc(47,"translate"),c.Sb(),c.Tb(48,"mat-list",8),c.Bc(49,z,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(50,"mat-divider",10),c.Tb(51,"div",6),c.Tb(52,"p",7),c.Cc(53),c.fc(54,"translate"),c.Sb(),c.Tb(55,"mat-list",8),c.Bc(56,G,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(57,"div",11),c.Tb(58,"button",12),c.ac("click",function(){return e.dialogRef.close()}),c.Cc(59,"Retour"),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(4),c.Dc(e.title),c.Bb(9),c.kc("ngForOf",e.propertyToList(e.o.discours)),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.conventionPiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.miseOeuvrePiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.observationPiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.analytiquePiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.rapportParallelePiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(3),c.Dc(c.gc(47,17,"admin.organe.update.rapportINDH")),c.Bb(3),c.kc("ngForOf",e.propertyToList(e.o.rapportINDH)),c.Bb(1),c.kc("vertical",!0),c.Bb(3),c.Dc(c.gc(54,19,"admin.organe.update.avisPosition")),c.Bb(3),c.kc("ngForOf",e.propertyToList(e.o.avisPosition)))},directives:[v.h,T.a,P.a,v.e,p.a,n.l,v.c,B.a,p.b,f.t],pipes:[U.c],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),t})();var K=i("5F3i"),W=i("J3i2"),Y=i("0hB7"),Z=i("/ysL"),tt=i("2HI4"),et=i("+Ya6"),it=i("x3GN"),nt=i("oTHA"),ot=i("JX91"),at=i("M0ag"),ct=i("Wp6s"),st=i("NFeN"),rt=i("5nPQ");function lt(t,e){if(1&t&&(c.Tb(0,"div",5),c.Ob(1,"app-upload",6),c.fc(2,"translate"),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.lc("nameBtn",c.gc(2,5,"Pi\xe8ce-jointe")),c.kc("folderToSaveInServer",t.folderToSaveInServer)("propertyOfParent",t.propertyUrlTo)("eventSubmitToParent",t.propertyUrlFrom)("eventSubmitFromParent",t.eventSubmitFromParent)}}function bt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"div",3),c.Tb(1,"button",7),c.ac("click",function(){return c.sc(t),c.ec().submit()}),c.Tb(2,"mat-icon"),c.Cc(3,"save_alt"),c.Sb(),c.Cc(4),c.fc(5,"translate"),c.Sb(),c.Sb()}if(2&t){const t=c.ec();c.Bb(1),c.kc("disabled",""===t.o.url&&0===t.o.id),c.Bb(3),c.Ec(" ",c.gc(5,2,"admin.Enregistre"),"")}}let mt=(()=>{class t{constructor(t,e,i){this.uow=t,this.bottomSheet=e,this.session=i,this.o=new m.l,this.folderToSaveInServer="situation-reserve",this.propertyUrlTo=new l.a,this.propertyUrlFrom=new l.a,this.eventSubmitFromParent=new l.a,this.update=new l.a}ngOnInit(){Object(b.a)(this.update).pipe(Object(ot.a)(null)).subscribe(t=>{this.uow.situationReserves.getFirst().subscribe(t=>{this.o=t,setTimeout(()=>{this.propertyUrlTo.next(this.o.url)},100)})}),this.propertyUrlFrom.subscribe(t=>this.o.url=t)}submit(){0===this.o.id?this.uow.situationReserves.post(this.o).subscribe(t=>{this.eventSubmitFromParent.next(!0),setTimeout(()=>this.update.next(!0),1e3)}):this.uow.situationReserves.put(this.o.id,this.o).subscribe(t=>{this.eventSubmitFromParent.next(!0),setTimeout(()=>this.update.next(!0),1e3)})}showPieceJoin(t=""){this.bottomSheet.open(H.a,{data:{fileName:this.o.url,folder:this.folderToSaveInServer}})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(d.a),c.Nb(u.b),c.Nb(at.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-situation-reserve"]],decls:13,vars:9,consts:[[1,"row",2,"margin-bottom","15px"],["class","col-md-6",4,"ngIf"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],["mat-raised-button","","cdkFocusInitial","","color","accent",3,"disabled","click"],[1,"col-md-6"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(c.Tb(0,"mat-card"),c.Tb(1,"h4"),c.Cc(2),c.fc(3,"translate"),c.Sb(),c.Tb(4,"div",0),c.Bc(5,lt,3,7,"div",1),c.Bc(6,bt,6,4,"div",2),c.Tb(7,"div",3),c.Tb(8,"button",4),c.ac("click",function(){return e.showPieceJoin()}),c.Tb(9,"mat-icon"),c.Cc(10,"cloud_download"),c.Sb(),c.Cc(11),c.fc(12,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(2),c.Dc(c.gc(3,5,"admin.organe.situation_des_r\xe9serves")),c.Bb(3),c.kc("ngIf",!1===e.session.isSuperViseur),c.Bb(1),c.kc("ngIf",!1===e.session.isSuperViseur),c.Bb(2),c.kc("disabled",""===e.o.url&&0===e.o.id),c.Bb(3),c.Ec(" ",c.gc(12,7,"admin.organe.Telecharger")," "))},directives:[ct.a,n.m,B.a,st.a,rt.a],pipes:[U.c],styles:[""]}),t})();var ut=i("Xa2L"),dt=i("Qu3c");const pt=function(){return["/admin/rapport/update",0]};function ft(t,e){1&t&&(c.Tb(0,"button",27),c.Tb(1,"mat-icon"),c.Cc(2,"add"),c.Sb(),c.Cc(3),c.fc(4,"translate"),c.Sb()),2&t&&(c.kc("routerLink",c.mc(4,pt)),c.Bb(3),c.Ec(" ",c.gc(4,2,"admin.organe.Organesdetrait\xe9")," "))}function ht(t,e){1&t&&c.Ob(0,"mat-spinner")}function gt(t,e){if(1&t&&(c.Tb(0,"div",28),c.Bc(1,ht,1,0,"mat-spinner",29),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.kc("ngIf",t.isLoadingResults)}}function St(t,e){1&t&&(c.Tb(0,"th",30),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Ec("",c.gc(2,1,"admin.organe.list.Organesdetrait\xe9")," "))}function vt(t,e){if(1&t&&(c.Tb(0,"td",31),c.Cc(1),c.Sb()),2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.Dc("fr"===i.mytranslate.langSync?t.nom:t.nomAr)}}function Tt(t,e){1&t&&(c.Tb(0,"th",32),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Dc(c.gc(2,1,"admin.organe.list.Rapportnational")))}function Pt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",31),c.Tb(1,"button",33),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.conventionPiece)}),c.Tb(2,"mat-icon"),c.Cc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.conventionPiece))("matTooltip",t.conventionPiece)}}function Bt(t,e){1&t&&(c.Tb(0,"th",32),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Dc(c.gc(2,1,"admin.organe.list.Discoursdupr\xe9sident")))}function Dt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",31),c.Tb(1,"button",33),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.discours)}),c.Tb(2,"mat-icon"),c.Cc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.discours))("matTooltip",t.discours)}}function kt(t,e){1&t&&(c.Tb(0,"th",32),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Dc(c.gc(2,1,"admin.organe.list.Compterenduanalytique")))}function yt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",33),c.ac("click",function(){c.sc(t);const e=c.ec().$implicit;return c.ec().showPieceJoin(e.analytiquePiece)}),c.Tb(1,"mat-icon"),c.Cc(2,"cloud_download"),c.Sb(),c.Sb()}if(2&t){const t=c.ec().$implicit,e=c.ec();c.kc("disabled",e.disable(t.analytiquePiece))("matTooltip",t.analytiquePiece)}}function wt(t,e){if(1&t&&(c.Tb(0,"td",31),c.Bc(1,yt,3,2,"button",34),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.kc("ngIf",!1===t.session.isPointFocal)}}function Ct(t,e){if(1&t&&(c.Tb(0,"th",32),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.Ec(" ",!1===t.session.isPointFocal?c.gc(2,1,"admin.organe.list.Observationsfinales"):"","")}}function Ot(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",33),c.ac("click",function(){c.sc(t);const e=c.ec().$implicit;return c.ec().showPieceJoin(e.observationPiece)}),c.Tb(1,"mat-icon"),c.Cc(2,"cloud_download"),c.Sb(),c.Sb()}if(2&t){const t=c.ec().$implicit,e=c.ec();c.kc("disabled",e.disable(t.observationPiece))("matTooltip",t.observationPiece)}}function Ft(t,e){if(1&t&&(c.Tb(0,"td",31),c.Bc(1,Ot,3,2,"button",34),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.kc("ngIf",!1===t.session.isPointFocal)}}function It(t,e){1&t&&(c.Tb(0,"th",32),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Dc(c.gc(2,1,"admin.organe.list.Rapportparall\xe8le")))}function Nt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",31),c.Tb(1,"button",33),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.rapportParallelePiece)}),c.Tb(2,"mat-icon"),c.Cc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.rapportParallelePiece))("matTooltip",t.rapportParallelePiece)}}function Rt(t,e){1&t&&(c.Tb(0,"th",32),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Dc(c.gc(2,1,"admin.organe.list.PLANDEMISEENOEUVRE")))}function xt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",31),c.Tb(1,"button",33),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.miseOeuvrePiece)}),c.Tb(2,"mat-icon"),c.Cc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.miseOeuvrePiece))("matTooltip",t.miseOeuvrePiece)}}function Mt(t,e){1&t&&(c.Tb(0,"th",32),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Dc(c.gc(2,1,"admin.organe.rapportINDH")))}function _t(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",31),c.Tb(1,"button",33),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.rapportINDH)}),c.Tb(2,"mat-icon"),c.Cc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.rapportINDH))("matTooltip",t.rapportINDH)}}function $t(t,e){1&t&&(c.Tb(0,"th",32),c.Cc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Dc(c.gc(2,1,"admin.organe.avisPosition")))}function Et(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",31),c.Tb(1,"button",33),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.avisPosition)}),c.Tb(2,"mat-icon"),c.Cc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.avisPosition))("matTooltip",t.avisPosition)}}function Lt(t,e){1&t&&c.Ob(0,"th",32)}const Ht=function(t){return["/admin/rapport/update",t]};function Ut(t,e){if(1&t&&(c.Tb(0,"button",40),c.Tb(1,"mat-icon"),c.Cc(2,"create"),c.Sb(),c.Sb()),2&t){const t=c.ec(2).$implicit;c.kc("routerLink",c.nc(1,Ht,t.id))}}function qt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",41),c.ac("click",function(){c.sc(t);const e=c.ec(2).$implicit;return c.ec().archive(e)}),c.Tb(1,"mat-icon"),c.Cc(2,"unarchive"),c.Sb(),c.Sb()}}function jt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",42),c.ac("click",function(){c.sc(t);const e=c.ec(2).$implicit;return c.ec().delete(e)}),c.Tb(1,"mat-icon"),c.Cc(2,"delete_sweep"),c.Sb(),c.Sb()}}function Jt(t,e){if(1&t&&(c.Tb(0,"div",36),c.Bc(1,Ut,3,3,"button",37),c.Bc(2,qt,3,0,"button",38),c.Bc(3,jt,3,0,"button",39),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.kc("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur),c.Bb(1),c.kc("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur),c.Bb(1),c.kc("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur)}}function Qt(t,e){if(1&t&&(c.Tb(0,"td",31),c.Bc(1,Jt,4,3,"div",35),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.kc("ngIf",!t.session.isPublic)}}function Vt(t,e){1&t&&c.Ob(0,"tr",43)}function At(t,e){1&t&&c.Ob(0,"tr",44)}const zt=function(){return[10,25,50,100,250]};let Gt=(()=>{class t{constructor(t,e,i,n,o,a,s,r){this.uow=t,this.dialog=e,this.mydialog=i,this.mytranslate=n,this.bottomSheet=o,this.session=a,this.route=s,this.url=r,this.update=new c.o,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.dataSource=[],this.columnDefs=[{columnDef:"nom",headName:"Organes de Trait\xe9s"},{columnDef:"conventionPiece",headName:"Rapport national"},{columnDef:"discours",headName:"Discours du pr\xe9sident"},{columnDef:"analytiquePiece",headName:"Compte rendu analytique"},{columnDef:"observationPiece",headName:"Observations finales"},{columnDef:"rapportParallelePiece",headName:"Rapport  parall\xe8le"},{columnDef:"miseOeuvrePiece",headName:"PLAN DE MISE EN OEUVRE"},{columnDef:"rapportINDH",headName:"rapportINDH"},{columnDef:"avisPosition",headName:"avisPosition"},{columnDef:"option",headName:"..."}].map(t=>(t.headName=""===t.headName?t.columnDef.toUpperCase():t.headName.toUpperCase(),t)),this.text="",this.text2=this.text.substring(0,600),this.displayedColumns=this.columnDefs.filter(t=>"miseOeuvrePiece"!==t.columnDef).map(t=>t.columnDef),this.progress=0,this.countRec=new l.a,this.mecanismeState=new l.a,this.stateByMecanisme=new l.a,this.stateDetailByMecanisme=new l.a}ngOnInit(){this.getPage(0,10,"id","desc",this.session.isPublic?0:this.session.user.idOrganisme),Object(b.a)(this.sort.sortChange,this.paginator.page,this.update).subscribe(t=>{!0===t?this.paginator.pageIndex=0:t=t,this.paginator.pageSize?t=t:this.paginator.pageSize=10;const e=this.paginator.pageIndex*this.paginator.pageSize;this.isLoadingResults=!0,this.getPage(e,this.paginator.pageSize,this.sort.active?this.sort.active:"id",this.sort.direction?this.sort.direction:"desc",this.session.isPublic?0:this.session.user.idOrganisme)}),this.getMecanismeState(),this.getStateByMecanisme(),this.getStateDetailByMecanisme(),this.uow.recommendations.mecanismeCount("organe").subscribe(t=>this.countRec.next(t))}disable(t){return!t||""===t}getPage(t,e,i,n,o){this.uow.traites.getAll(t,e,i,n,o).subscribe(t=>{this.dataSource=t.list,this.resultsLength=t.count,this.isLoadingResults=!1})}openDialog(t){return this.dialog.open(L,{width:"7100px",disableClose:!0,data:{model:t,title:"Rapport"}}).afterClosed()}moreInfo(){this.text2=600===this.text2.length?this.text:this.text.substring(0,600)}delete(t){return Object(a.a)(this,void 0,void 0,function*(){if("ok"===(yield this.mydialog.openDialog("rapport").toPromise())){let e=[];""!==t.conventionPiece?e.push(...this.uow.decoupe(t.conventionPiece)):e=e,""!==t.miseOeuvrePiece?e.push(...this.uow.decoupe(t.miseOeuvrePiece)):e=e,""!==t.observationPiece?e.push(...this.uow.decoupe(t.observationPiece)):e=e,""!==t.discours?e.push(...this.uow.decoupe(t.discours)):e=e,""!==t.analytiquePiece?e.push(...this.uow.decoupe(t.analytiquePiece)):e=e,""!==t.miseOeuvrePiece?e.push(...this.uow.decoupe(t.miseOeuvrePiece)):e=e,this.uow.files.deleteFiles(e,"traite").subscribe(e=>{this.uow.traites.delete(t.id).subscribe(()=>this.update.next(!0))})}})}archive(t){this.dialog.open(X,{width:"80vw",disableClose:!0,data:{model:t,title:t.nom}})}showPieceJoin2(t){console.log(t),this.bottomSheet.open(S,{data:t})}showPieceJoin(t){this.bottomSheet.open(H.a,{data:{fileName:t,folder:"traite"}})}getMecanismeState(){this.uow.organes.mecanismeState().subscribe(t=>{const e=[];e.push(this.mytranslate.get("NonR\xe9alis\xe9")),e.push(this.mytranslate.get("EnCours")),e.push(this.mytranslate.get("Recommendation_continue")),e.push(this.mytranslate.get("R\xe9alis\xe9"));const i=[],n=[];i.push(100*t.one/t.total),i.push(100*t.two/t.total),i.push(100*t.three/t.total),i.push(100*t.four/t.total),n.push(t.one,t.two,t.three,t.four),this.mecanismeState.next({chartLabels:e,chartData:i,chartColors:["#db0707","#f7801e","#2d71a1","#2b960b","#ffffff"],dataToShowInTable:n,title:this.mytranslate.get("admin.header.Etat de mise en \u0153uvre")})})}getStateByMecanisme(){this.uow.organes.stateByMecanisme().subscribe(t=>{const e=t.map(t=>t.name),i=t.map(t=>+t.one.toFixed(0));this.stateByMecanisme.next({chartLabels:e,chartData:i,chartColors:[],dataToShowInTable:[],title:this.mytranslate.get("admin.organe.list.Tauxderecommandationsparorgane")})})}getStateDetailByMecanisme(){this.uow.organes.stateDetailByMecanisme().subscribe(t=>{const e=(t=t.filter(t=>null!==t.name)).map(t=>t.name),i=[{data:[],label:this.mytranslate.get("NonR\xe9alis\xe9")},{data:[],label:this.mytranslate.get("EnCours")},{data:[],label:this.mytranslate.get("Recommendation_continue")},{data:[],label:this.mytranslate.get("R\xe9alis\xe9")}];t.forEach(t=>{i[0].data.push(+(100*t.one/t.total).toFixed(0)),i[1].data.push(+(100*t.two/t.total).toFixed(0)),i[2].data.push(+(100*t.three/t.total).toFixed(0)),i[3].data.push(+(100*t.four/t.total).toFixed(0))}),this.stateDetailByMecanisme.next({barChartLabels:e,barChartData:i,title:this.mytranslate.get("admin.epu.list.EtatAvancementderecommandationsparaxe")})})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(d.a),c.Nb(v.b),c.Nb(K.a),c.Nb(W.a),c.Nb(u.b),c.Nb(Y.a),c.Nb(o.a),c.Nb("BASE_URL"))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-list"]],viewQuery:function(t,e){if(1&t&&(c.xc(s.a,!0),c.xc(r.a,!0)),2&t){let t;c.pc(t=c.bc())&&(e.paginator=t.first),c.pc(t=c.bc())&&(e.sort=t.first)}},decls:57,vars:30,consts:[[1,"host"],[3,"title"],[1,"right"],["class","mt-3","mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mecanisme","organe"],[1,"row","mb-4","justify-content-center"],[1,"col-md-5"],[3,"obs"],[1,"col-md-2","p-0"],[3,"title","count","height"],[1,"col-md-12"],[1,"chart-size"],[3,"col","height","dataSubject"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","option",2,"flex-direction","row-reverse"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],["mat-raised-button","","color","primary",1,"mt-3",3,"routerLink"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",1,"center",3,"disabled","matTooltip","click"],["class","center","mat-icon-button","","color","accent",3,"disabled","matTooltip","click",4,"ngIf"],["class","button-row",4,"ngIf"],[1,"button-row"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Ob(1,"app-title",1),c.fc(2,"translate"),c.Tb(3,"div",2),c.Bc(4,ft,5,5,"button",3),c.Sb(),c.Ob(5,"app-intros",4),c.Tb(6,"div",5),c.Tb(7,"div",6),c.Ob(8,"app-pie",7),c.Sb(),c.Tb(9,"div",8),c.Ob(10,"app-count",9),c.fc(11,"translate"),c.Sb(),c.Tb(12,"div",6),c.Ob(13,"app-pie",7),c.Sb(),c.Tb(14,"div",10),c.Tb(15,"div",11),c.Ob(16,"app-bar",12),c.Sb(),c.Sb(),c.Sb(),c.Tb(17,"div",13),c.Bc(18,gt,2,1,"div",14),c.Tb(19,"div",15),c.Tb(20,"table",16,17),c.Rb(22,18),c.Bc(23,St,3,3,"th",19),c.Bc(24,vt,2,1,"td",20),c.Qb(),c.Rb(25,18),c.Bc(26,Tt,3,3,"th",21),c.Bc(27,Pt,4,2,"td",20),c.Qb(),c.Rb(28,18),c.Bc(29,Bt,3,3,"th",21),c.Bc(30,Dt,4,2,"td",20),c.Qb(),c.Rb(31,18),c.Bc(32,kt,3,3,"th",21),c.Bc(33,wt,2,1,"td",20),c.Qb(),c.Rb(34,18),c.Bc(35,Ct,3,3,"th",21),c.Bc(36,Ft,2,1,"td",20),c.Qb(),c.Rb(37,18),c.Bc(38,It,3,3,"th",21),c.Bc(39,Nt,4,2,"td",20),c.Qb(),c.Rb(40,18),c.Bc(41,Rt,3,3,"th",21),c.Bc(42,xt,4,2,"td",20),c.Qb(),c.Rb(43,18),c.Bc(44,Mt,3,3,"th",21),c.Bc(45,_t,4,2,"td",20),c.Qb(),c.Rb(46,18),c.Bc(47,$t,3,3,"th",21),c.Bc(48,Et,4,2,"td",20),c.Qb(),c.Rb(49,22),c.Bc(50,Lt,1,0,"th",21),c.Bc(51,Qt,2,1,"td",20),c.Qb(),c.Bc(52,Vt,1,0,"tr",23),c.Bc(53,At,1,0,"tr",24),c.Sb(),c.Sb(),c.Ob(54,"mat-paginator",25,26),c.Sb(),c.Ob(56,"app-situation-reserve"),c.Sb()),2&t&&(c.Bb(1),c.lc("title",c.gc(2,25,"admin.organe.Organesdetrait\xe9s")),c.Bb(3),c.kc("ngIf",!e.session.isPointFocal&&!e.session.isSuperViseur&&!e.session.isPublic),c.Bb(4),c.kc("obs",e.mecanismeState),c.Bb(2),c.kc("title",c.gc(11,27,"admin.header.organeCount"))("count",e.countRec)("height","55vh"),c.Bb(3),c.kc("obs",e.stateByMecanisme),c.Bb(3),c.kc("col",12)("height","70vh")("dataSubject",e.stateDetailByMecanisme),c.Bb(2),c.kc("ngIf",e.isLoadingResults),c.Bb(2),c.kc("dataSource",e.dataSource),c.Bb(2),c.kc("matColumnDef",e.columnDefs[0].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[1].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[2].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[3].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[4].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[5].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[6].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[7].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[8].columnDef),c.Bb(6),c.kc("matHeaderRowDef",e.displayedColumns),c.Bb(1),c.kc("matRowDefColumns",e.displayedColumns),c.Bb(1),c.kc("length",e.resultsLength)("pageSizeOptions",c.mc(29,zt)))},directives:[Z.a,n.m,tt.a,et.a,it.a,nt.a,D.j,r.a,D.c,D.e,D.b,D.g,D.i,s.a,mt,B.a,o.f,st.a,ut.b,D.d,r.b,D.a,dt.a,D.f,D.h],pipes:[U.c],styles:["section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}  h3{margin:0!important}.host[_ngcontent-%COMP%]{margin:1em!important}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.mat-cell[_ngcontent-%COMP%]:last-child,   .mat-header-cell:last-child{width:180px!important}"]}),t})();var Xt=i("3Pt+"),Kt=i("0kbX"),Wt=i("wZkO"),Yt=i("kmnG"),Zt=i("qFsG"),te=i("iadO"),ee=i("3IEU");const ie=function(){return["/admin/rapport/list"]};function ne(t,e){if(1&t){const t=c.Ub();c.Tb(0,"form",5),c.Tb(1,"div",6),c.Tb(2,"mat-form-field",7),c.Tb(3,"mat-label"),c.Cc(4),c.fc(5,"translate"),c.Sb(),c.Ob(6,"textarea",8),c.Sb(),c.Tb(7,"mat-form-field",7),c.Tb(8,"mat-label"),c.Cc(9),c.fc(10,"translate"),c.Sb(),c.Ob(11,"textarea",9),c.Sb(),c.Tb(12,"div",10),c.Tb(13,"mat-form-field",11),c.Tb(14,"mat-label"),c.Cc(15),c.fc(16,"translate"),c.Sb(),c.Ob(17,"input",12),c.Ob(18,"mat-datepicker-toggle",13),c.Ob(19,"mat-datepicker",null,14),c.Sb(),c.Tb(21,"mat-form-field",11),c.Tb(22,"mat-label"),c.Cc(23),c.fc(24,"translate"),c.Sb(),c.Ob(25,"input",15),c.Ob(26,"mat-datepicker-toggle",13),c.Ob(27,"mat-datepicker",null,16),c.Sb(),c.Sb(),c.Tb(29,"div",17),c.Ob(30,"app-upload-select",18),c.fc(31,"translate"),c.Ob(32,"app-upload-select",18),c.fc(33,"translate"),c.Ob(34,"app-upload-select",18),c.fc(35,"translate"),c.Ob(36,"app-upload-select",18),c.fc(37,"translate"),c.Ob(38,"app-upload-select",18),c.fc(39,"translate"),c.Ob(40,"app-upload-select",18),c.fc(41,"translate"),c.Ob(42,"app-upload-select",18),c.fc(43,"translate"),c.Ob(44,"app-upload-select",18),c.fc(45,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Tb(46,"div",19),c.Tb(47,"button",20),c.Cc(48),c.fc(49,"translate"),c.Sb(),c.Cc(50,"\xa0\xa0 "),c.Tb(51,"button",21),c.ac("click",function(){c.sc(t);const e=c.ec();return e.submit(e.myForm.value)}),c.Cc(52),c.fc(53,"translate"),c.Sb(),c.Sb()}if(2&t){const t=c.qc(20),e=c.qc(28),i=c.ec();c.kc("formGroup",i.myForm),c.Bb(4),c.Dc(c.gc(5,53,"admin.organe.update.ConventionProtocole")),c.Bb(5),c.Dc(c.gc(10,55,"admin.organe.update.ConventionProtocoleAr")),c.Bb(6),c.Dc(c.gc(16,57,"admin.organe.update.DateSignature")),c.Bb(2),c.kc("matDatepicker",t),c.Bb(1),c.kc("for",t),c.Bb(5),c.Dc(c.gc(24,59,"admin.organe.update.Datederatification")),c.Bb(2),c.kc("matDatepicker",e),c.Bb(1),c.kc("for",e),c.Bb(4),c.lc("nameBtn",c.gc(31,61,"admin.organe.list.Rapportnational")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.conventionPieceTo)("eventSubmitToParent",i.conventionPieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(33,63,"admin.organe.list.Discoursdupr\xe9sident")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.discoursTo)("eventSubmitToParent",i.discoursFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(35,65,"admin.organe.list.Compterenduanalytique")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.analytiquePieceTo)("eventSubmitToParent",i.analytiquePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(37,67,"admin.organe.list.Observationsfinales")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.observationPieceTo)("eventSubmitToParent",i.observationPieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(39,69,"admin.organe.list.Rapportparall\xe8le")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.rapportParallelePieceTo)("eventSubmitToParent",i.rapportParallelePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(41,71,"admin.organe.list.PLANDEMISEENOEUVRE")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.miseOeuvrePieceTo)("eventSubmitToParent",i.miseOeuvrePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(43,73,"admin.organe.rapportINDH")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.rapportINDHTo)("eventSubmitToParent",i.rapportINDHFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(45,75,"admin.organe.avisPosition")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.avisPositionTo)("eventSubmitToParent",i.avisPositionFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(3),c.kc("routerLink",c.mc(81,ie)),c.Bb(1),c.Dc(c.gc(49,77,"admin.Retour")),c.Bb(3),c.kc("disabled",i.myForm.invalid),c.Bb(1),c.Dc(c.gc(53,79,"admin.Enregistre"))}}let oe=(()=>{class t{constructor(t,e,i,n,o){this.route=t,this.snack=e,this.uow=i,this.fb=n,this.session=o,this.o=new m.o,this.id=0,this.folderToSaveInServer="traite",this.conventionPieceTo=new l.a,this.conventionPieceFrom=new l.a,this.discoursTo=new l.a,this.discoursFrom=new l.a,this.observationPieceTo=new l.a,this.observationPieceFrom=new l.a,this.miseOeuvrePieceTo=new l.a,this.miseOeuvrePieceFrom=new l.a,this.analytiquePieceTo=new l.a,this.analytiquePieceFrom=new l.a,this.rapportParallelePieceTo=new l.a,this.rapportParallelePieceFrom=new l.a,this.rapportINDHTo=new l.a,this.rapportINDHFrom=new l.a,this.avisPositionTo=new l.a,this.avisPositionFrom=new l.a,this.eventSubmitFromParent=new l.a}ngOnInit(){this.createForm(),this.id=+this.route.snapshot.paramMap.get("id"),0!==this.id&&this.uow.traites.getOne(this.id).subscribe(t=>{this.o=t,console.log(this.o),this.createForm(),setTimeout(()=>{this.discoursTo.next(this.o.discours),this.rapportParallelePieceTo.next(this.o.rapportParallelePiece),this.conventionPieceTo.next(this.o.conventionPiece),this.observationPieceTo.next(this.o.observationPiece),this.miseOeuvrePieceTo.next(this.o.miseOeuvrePiece),this.analytiquePieceTo.next(this.o.analytiquePiece),this.rapportINDHTo.next(this.o.rapportINDH),this.avisPositionTo.next(this.o.avisPosition)},100)}),this.rapportParallelePieceFrom.subscribe(t=>this.myForm.get("rapportParallelePiece").setValue(t)),this.conventionPieceFrom.subscribe(t=>this.myForm.get("conventionPiece").setValue(t)),this.discoursFrom.subscribe(t=>this.myForm.get("discours").setValue(t)),this.observationPieceFrom.subscribe(t=>this.myForm.get("observationPiece").setValue(t)),this.miseOeuvrePieceFrom.subscribe(t=>this.myForm.get("miseOeuvrePiece").setValue(t)),this.analytiquePieceFrom.subscribe(t=>this.myForm.get("analytiquePiece").setValue(t)),this.rapportINDHFrom.subscribe(t=>this.myForm.get("rapportINDH").setValue(t)),this.avisPositionFrom.subscribe(t=>this.myForm.get("avisPosition").setValue(t))}createForm(){this.myForm=this.fb.group({id:this.o.id,nom:[this.o.nom,Xt.s.required],nomAr:[this.o.nomAr,Xt.s.required],discours:[this.o.discours],dateSignature:[this.o.dateSignature,Xt.s.required],dateRatification:[this.o.dateRatification,Xt.s.required],conventionPiece:[this.o.conventionPiece],observationPiece:[this.o.observationPiece],miseOeuvrePiece:[this.o.miseOeuvrePiece],analytiquePiece:[this.o.analytiquePiece],rapportParallelePiece:[this.o.rapportParallelePiece],rapportINDH:[this.o.rapportINDH],avisPosition:[this.o.avisPosition]})}submit(t){t.dateRatification=this.valideDate(t.dateRatification),t.dateSignature=this.valideDate(t.dateSignature),t.idUser=this.session.user.id,0===this.id?this.uow.traites.post(t).subscribe(t=>Object(a.a)(this,void 0,void 0,function*(){this.eventSubmitFromParent.next(!0),this.o=t})):this.uow.traites.put(t.id,t).subscribe(t=>Object(a.a)(this,void 0,void 0,function*(){this.eventSubmitFromParent.next(!0),new Date}))}reset(){this.o=new m.o,this.createForm()}valideDate(t){const e=(t=new Date(t)).getHours()-t.getTimezoneOffset()/60,i=(t.getHours()-t.getTimezoneOffset())%60;return t.setHours(e),t.setMinutes(i),t}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(o.a),c.Nb(Kt.a),c.Nb(d.a),c.Nb(Xt.d),c.Nb(Y.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-update"]],decls:7,vars:7,consts:[[1,"host"],[3,"title"],[1,"example-stretched-tabs","mat-elevation-z4",2,"margin-top","15px"],[3,"label","disabled"],["matTabContent",""],[3,"formGroup"],[1,"myForm",2,"margin-top","15px","height","100%"],["appearance","fill",2,"width","100%"],["matInput","","rows","6","formControlName","nom","required",""],["matInput","","rows","6","formControlName","nomAr","required",""],[1,"inputs"],["appearance","fill"],["matInput","","formControlName","dateSignature",3,"matDatepicker"],["matSuffix","",3,"for"],["picker5",""],["matInput","","formControlName","dateRatification",3,"matDatepicker"],["picker0",""],[1,"row","justify-content-center",2,"margin-bottom","15px"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],[1,"actions"],["mat-button","","type","button",3,"routerLink"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Ob(1,"app-title",1),c.fc(2,"translate"),c.Tb(3,"mat-tab-group",2),c.Tb(4,"mat-tab",3),c.fc(5,"translate"),c.Bc(6,ne,54,82,"ng-template",4),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(1),c.lc("title",c.gc(2,3,"admin.organe.Organesdetrait\xe9")),c.Bb(3),c.lc("label",c.gc(5,5,"admin.organe.update.Trait\xe9")),c.kc("disabled",!1))},directives:[Z.a,Wt.c,Wt.a,Wt.b,Xt.t,Xt.n,Xt.h,Yt.c,Yt.f,Zt.b,Xt.c,Xt.m,Xt.g,Xt.r,te.b,te.d,Yt.g,te.a,ee.a,B.a,o.f],pipes:[U.c],styles:[".myForm[_ngcontent-%COMP%]{margin:0 15px}.myForm[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(20vw,1fr));grid-column-gap:6px;grid-row-gap:6px;align-items:center}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;margin:0 15px 15px 0}.host[_ngcontent-%COMP%]{margin:1em!important}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}.example-stretched-tabs[_ngcontent-%COMP%]{max-width:100%} .mat-tab-label.mat-tab-label-active.cdk-keyboard-focused:not(.mat-tab-disabled),  .mat-tab-label.mat-tab-label-active:not(.mat-tab-disabled){background-color:#dfdfdf;font-weight:700}  .mat-tab-body-content{height:calc(100vh - 210px)!important;overflow:auto}"]}),t})();const ae=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Hb({type:t,selectors:[["app-rapport"]],decls:1,vars:0,template:function(t,e){1&t&&c.Ob(0,"router-outlet")},directives:[o.i],styles:[""]}),t})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Gt},{path:"update/:id",component:oe}],canActivate:[i("xjdI").a]}];let ce=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[o.h.forChild(ae)],o.h]}),t})();var se=i("tk/3"),re=i("2thQ"),le=i("Dgsr"),be=i("Fr4G"),me=i("Ry++"),ue=i("gct3");let de=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[n.c,ce,se.c,re.a,Xt.i,Xt.q,le.a,be.a,me.a,U.b,ue.a]]}),t})()}}]);