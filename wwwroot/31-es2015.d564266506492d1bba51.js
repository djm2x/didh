(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{Yj9t:function(t,e,a){"use strict";a.r(e),a.d(e,"AuthModule",function(){return E});var n=a("ofXK"),i=a("tyNb"),r=a("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-auth"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:[i.i],styles:[""]}),t})();var s=a("mrSG"),c=a("3Pt+"),l=a("ukCm"),m=a("7q3A"),u=a("M0ag"),b=a("J3i2"),d=a("Wp6s"),p=a("kmnG"),h=a("qFsG"),g=a("NFeN"),f=a("bTqV"),y=a("d3UM"),w=a("FKr1"),v=a("sYmb");function S(t,e){1&t&&(r.Tb(0,"mat-error"),r.Dc(1),r.fc(2,"translate"),r.Sb()),2&t&&(r.Bb(1),r.Ec(r.gc(2,1,"admin.auth.Emailestpasvalider")))}const T=function(){return["/admin"]},x=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:o,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(t,e,a,n,i){this.fb=t,this.uow=e,this.router=a,this.session=n,this.mytranslate=i,this.displayedColumns=["email","password","profil"],this.dataSource=[{email:"mourabit@angular.io",password:"123",profil:"Administrateur"},{email:"mehdi@angular.io",password:"123",profil:"Superviseur"},{email:"soufiane@angular.io",password:"123",profil:"Point focal"},{email:"ahmed@angular.io",password:"123",profil:"Propri\xe9taire"}],this.o=new l.p,this.hide=!0}ngOnInit(){return Object(s.a)(this,void 0,void 0,function*(){this.o.email="mourabit@angular.io",this.o.password="123",this.createForm()})}createForm(){this.myForm=this.fb.group({email:[this.o.email,[c.s.required,c.s.email]],password:[this.o.password,[c.s.required]]})}get email(){return this.myForm.get("email")}get password(){return this.myForm.get("password")}get emailError(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}get passwordError(){return this.password.hasError("required")?"You must enter a value":""}submit(t){const e=t.value;console.log(e),this.uow.users.login(e).subscribe(t=>{this.session.doSignIn(t.user,t.token,t.idRole),setTimeout(()=>this.router.navigate(["/admin"]),500)})}resetForm(){this.o=new l.p,this.createForm()}ngOnDestroy(){console.log("ngOnDestroy")}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(c.d),r.Nb(m.a),r.Nb(i.e),r.Nb(u.a),r.Nb(b.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-login"]],decls:45,vars:27,consts:[[1,"flex-container"],[1,"flex-item","mat-elevation-z8"],[3,"formGroup","ngSubmit"],[1,"logo"],["src","assets/logo-ddh.jpg","alt","marit logo","width","210"],[1,"systeme","auth-title"],[1,"example-container","mtb-2","text-center"],["appearance","fill"],[1,"mat-label"],["matInput","","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","color","warn","type","button",3,"routerLink"],[1,"row","justify-content-center"],[1,"d-flex"],[3,"selectionChange"],["value","fr"],["value","ar"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"mat-card",1),r.Tb(2,"form",2),r.ac("ngSubmit",function(){return e.submit(e.myForm)}),r.Tb(3,"mat-card-content"),r.Tb(4,"div",3),r.Ob(5,"img",4),r.Sb(),r.Tb(6,"p",5),r.Dc(7),r.fc(8,"translate"),r.Sb(),r.Tb(9,"div",6),r.Tb(10,"mat-form-field",7),r.Tb(11,"mat-label",8),r.Dc(12),r.fc(13,"translate"),r.Sb(),r.Ob(14,"input",9),r.Bc(15,S,3,3,"mat-error",10),r.Sb(),r.Tb(16,"mat-form-field",7),r.Tb(17,"mat-label"),r.Dc(18),r.fc(19,"translate"),r.Sb(),r.Ob(20,"input",11),r.Tb(21,"mat-icon",12),r.ac("click",function(){return e.hide=!e.hide}),r.Dc(22),r.Sb(),r.Sb(),r.Ob(23,"br"),r.Tb(24,"button",13),r.Dc(25),r.fc(26,"translate"),r.Sb(),r.Ob(27,"br"),r.Tb(28,"button",14),r.Tb(29,"mat-icon"),r.Dc(30,"home"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(31,"div",15),r.Ob(32,"mat-card-actions"),r.Sb(),r.Tb(33,"div",16),r.Tb(34,"mat-form-field"),r.Tb(35,"mat-label"),r.Dc(36),r.fc(37,"translate"),r.Sb(),r.Tb(38,"mat-select",17),r.ac("selectionChange",function(t){return e.mytranslate.changeLanguage(t.value)}),r.Tb(39,"mat-option",18),r.Dc(40),r.fc(41,"async"),r.Sb(),r.Tb(42,"mat-option",19),r.Dc(43),r.fc(44,"async"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Bb(2),r.kc("formGroup",e.myForm),r.Bb(5),r.Ec(r.gc(8,12,"admin.home.Syst\xe8medeSuividesrecommandations")),r.Bb(5),r.Ec(r.gc(13,14,"admin.auth.Email")),r.Bb(3),r.kc("ngIf",e.myForm.get("email").invalid),r.Bb(3),r.Ec(r.gc(19,16,"admin.auth.Motdepasse")),r.Bb(2),r.kc("type",e.hide?"password":"text"),r.Bb(2),r.Ec(e.hide?"visibility_off":"visibility"),r.Bb(3),r.Ec(r.gc(26,18,"admin.auth.Connexion")),r.Bb(3),r.kc("routerLink",r.mc(26,T)),r.Bb(8),r.Ec(r.gc(37,20,"admin.auth.Choisirunlangue")),r.Bb(4),r.Ec("fr"===r.gc(41,22,e.mytranslate.lang)?"Fran\xe7ais":"\u0641\u0631\u0646\u0633\u064a"),r.Bb(3),r.Ec("fr"===r.gc(44,24,e.mytranslate.lang)?"Arabe":"\u0639\u0631\u0628\u064a"))},directives:[d.a,c.t,c.n,c.h,d.c,p.c,p.f,h.b,c.c,c.m,c.g,n.m,g.a,p.g,f.a,i.f,d.b,y.a,w.o,p.b],pipes:[v.c,n.b],styles:[".flex-container[_ngcontent-%COMP%]{padding:0;margin:0;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column}.flex-item[_ngcontent-%COMP%]{background-color:#fff;height:auto;width:450px;min-width:200px;line-height:20px;font-weight:700;font-size:2em;text-align:center;margin:15px;display:inline-block;border-radius:0}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.img1[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:cover;height:100%}.mat-cell[_ngcontent-%COMP%]:last-child, .mat-header-cell[_ngcontent-%COMP%]:last-child{width:auto!important;padding-right:0!important}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.systeme[_ngcontent-%COMP%]{font-weight:700;margin:25px 0 50px;line-height:30px}"]}),t})(),data:{state:"login"}}]}];let O=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[i.h.forChild(x)],i.h]}),t})();var k=a("2thQ"),C=a("tk/3");let E=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[n.c,O,k.a,C.c,c.i,c.q,k.a,v.b]]}),t})()}}]);