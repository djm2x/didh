(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[813],{17813:function(t,e,a){"use strict";a.r(e),a.d(e,{AuthModule:function(){return I}});var i=a(61116),n=a(63337),o=a(35366);let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-auth"]],decls:1,vars:0,template:function(t,e){1&t&&o._UZ(0,"router-outlet")},directives:[n.lC],styles:[""]}),t})();var l=a(64762),s=a(31041),m=a(18314),u=a(529),c=a(92572),d=a(50545),p=a(31496),g=a(22797),h=a(13070),f=a(9550),Z=a(77307),w=a(84369),x=a(13841),y=a(87064),q=a(47340),A=a(60649);function _(t,e){1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"admin.auth.Emailestpasvalider")))}function v(t,e){1&t&&(o.TgZ(0,"th",29),o._uU(1," EMAIL "),o.qZA())}function b(t,e){if(1&t&&(o.TgZ(0,"td",30),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",t.email," ")}}function T(t,e){1&t&&(o.TgZ(0,"th",29),o._uU(1," MOTPASS "),o.qZA())}function C(t,e){if(1&t&&(o.TgZ(0,"td",30),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",t.password," ")}}function O(t,e){1&t&&(o.TgZ(0,"th",29),o._uU(1," PROFIL "),o.qZA())}function U(t,e){if(1&t&&(o.TgZ(0,"td",30),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",t.profil," ")}}function k(t,e){1&t&&o._UZ(0,"tr",31)}function D(t,e){1&t&&o._UZ(0,"tr",32)}function N(t,e){if(1&t&&(o.TgZ(0,"table",21),o.ynx(1,22),o.YNc(2,v,2,0,"th",23),o.YNc(3,b,2,1,"td",24),o.BQk(),o.ynx(4,25),o.YNc(5,T,2,0,"th",23),o.YNc(6,C,2,1,"td",24),o.BQk(),o.ynx(7,26),o.YNc(8,O,2,0,"th",23),o.YNc(9,U,2,1,"td",24),o.BQk(),o.YNc(10,k,1,0,"tr",27),o.YNc(11,D,1,0,"tr",28),o.qZA()),2&t){const t=o.oxw();o.Q6J("dataSource",t.dataSource),o.xp6(10),o.Q6J("matHeaderRowDef",t.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",t.displayedColumns)}}const Y=function(){return["/admin"]},J=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:r,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(t,e,a,i,n){this.fb=t,this.uow=e,this.router=a,this.session=i,this.mytranslate=n,this.isDev=!1===u.N.production,this.displayedColumns=["email","password","profil"],this.dataSource=[{email:"mourabit@angular.io",password:"123",profil:"Administrateur"},{email:"mehdi@angular.io",password:"123",profil:"Superviseur"},{email:"soufiane@angular.io",password:"123",profil:"Point focal"},{email:"ahmed@angular.io",password:"123",profil:"Propri\xe9taire"}],this.o=new m.n5,this.hide=!0}ngOnInit(){return(0,l.mG)(this,void 0,void 0,function*(){this.o.email=this.isDev?"mourabit@angular.io":"",this.o.password=this.isDev?"123":"",this.createForm()})}createForm(){this.myForm=this.fb.group({email:[this.o.email,[s.kI.required,s.kI.email]],password:[this.o.password,[s.kI.required]]})}get email(){return this.myForm.get("email")}get password(){return this.myForm.get("password")}get emailError(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}get passwordError(){return this.password.hasError("required")?"You must enter a value":""}submit(t){this.uow.users.login(t.value).subscribe(t=>{this.session.doSignIn(t.user,t.token,t.idRole),setTimeout(()=>this.router.navigate(["/admin"]),500)})}resetForm(){this.o=new m.n5,this.createForm()}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.qu),o.Y36(c.Z),o.Y36(n.F0),o.Y36(d.m),o.Y36(p.n))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:46,vars:28,consts:[[1,"flex-container"],[1,"flex-item","mat-elevation-z8"],[3,"formGroup","ngSubmit"],[1,"logo"],["src","assets/logo-ddh.jpg","alt","marit logo","width","210"],[1,"systeme","auth-title"],[1,"example-container","mtb-2","text-center"],["appearance","fill"],[1,"mat-label"],["matInput","","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","color","warn","type","button",3,"routerLink"],[1,"row","justify-content-center"],[1,"d-flex"],[3,"selectionChange"],["value","fr"],["value","ar"],["mat-table","","class","mat-elevation-z8","style","width: 450px !important;",3,"dataSource",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",2,"width","450px !important",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","password"],["matColumnDef","profil"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-card",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return e.submit(e.myForm)}),o.TgZ(3,"mat-card-content"),o.TgZ(4,"div",3),o._UZ(5,"img",4),o.qZA(),o.TgZ(6,"p",5),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"mat-form-field",7),o.TgZ(11,"mat-label",8),o._uU(12),o.ALo(13,"translate"),o.qZA(),o._UZ(14,"input",9),o.YNc(15,_,3,3,"mat-error",10),o.qZA(),o.TgZ(16,"mat-form-field",7),o.TgZ(17,"mat-label"),o._uU(18),o.ALo(19,"translate"),o.qZA(),o._UZ(20,"input",11),o.TgZ(21,"mat-icon",12),o.NdJ("click",function(){return e.hide=!e.hide}),o._uU(22),o.qZA(),o.qZA(),o._UZ(23,"br"),o.TgZ(24,"button",13),o._uU(25),o.ALo(26,"translate"),o.qZA(),o._UZ(27,"br"),o.TgZ(28,"button",14),o.TgZ(29,"mat-icon"),o._uU(30,"home"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(31,"div",15),o._UZ(32,"mat-card-actions"),o.qZA(),o.TgZ(33,"div",16),o.TgZ(34,"mat-form-field"),o.TgZ(35,"mat-label"),o._uU(36),o.ALo(37,"translate"),o.qZA(),o.TgZ(38,"mat-select",17),o.NdJ("selectionChange",function(t){return e.mytranslate.changeLanguage(t.value)}),o.TgZ(39,"mat-option",18),o._uU(40),o.ALo(41,"async"),o.qZA(),o.TgZ(42,"mat-option",19),o._uU(43),o.ALo(44,"async"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(45,N,12,3,"table",20),o.qZA()),2&t&&(o.xp6(2),o.Q6J("formGroup",e.myForm),o.xp6(5),o.Oqu(o.lcZ(8,13,"admin.home.Syst\xe8medeSuividesrecommandations")),o.xp6(5),o.Oqu(o.lcZ(13,15,"admin.auth.Email")),o.xp6(3),o.Q6J("ngIf",e.myForm.get("email").invalid),o.xp6(3),o.Oqu(o.lcZ(19,17,"admin.auth.Motdepasse")),o.xp6(2),o.Q6J("type",e.hide?"password":"text"),o.xp6(2),o.Oqu(e.hide?"visibility_off":"visibility"),o.xp6(3),o.Oqu(o.lcZ(26,19,"admin.auth.Connexion")),o.xp6(3),o.Q6J("routerLink",o.DdM(27,Y)),o.xp6(8),o.Oqu(o.lcZ(37,21,"admin.auth.Choisirunlangue")),o.xp6(4),o.Oqu("fr"===o.lcZ(41,23,e.mytranslate.lang)?"Fran\xe7ais":"\u0641\u0631\u0646\u0633\u064a"),o.xp6(3),o.Oqu("fr"===o.lcZ(44,25,e.mytranslate.lang)?"Arabe":"\u0639\u0631\u0628\u064a"),o.xp6(2),o.Q6J("ngIf",e.isDev))},directives:[g.a8,s._Y,s.JL,s.sg,g.dn,h.KE,h.hX,f.Nt,s.Fj,s.JJ,s.u,i.O5,Z.Hw,h.R9,w.lW,n.rH,g.hq,x.gD,y.ey,h.TO,q.BZ,q.w1,q.fO,q.Dz,q.as,q.nj,q.ge,q.ev,q.XQ,q.Gk],pipes:[A.X$,i.Ov],styles:[".flex-container[_ngcontent-%COMP%]{padding:0;margin:0;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column}.flex-item[_ngcontent-%COMP%]{background-color:#fff;height:auto;width:450px;min-width:200px;line-height:20px;font-weight:700;font-size:2em;text-align:center;margin:15px;display:inline-block;border-radius:0}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.img1[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:cover;height:100%}.mat-cell[_ngcontent-%COMP%]:last-child, .mat-header-cell[_ngcontent-%COMP%]:last-child{width:auto!important;padding-right:0!important}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.systeme[_ngcontent-%COMP%]{font-weight:700;margin:25px 0 50px;line-height:30px}"]}),t})(),data:{state:"login"}}]}];let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.Bz.forChild(J)],n.Bz]}),t})();var S=a(57823),F=a(42693);let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.ez,M,S.R,F.JF,s.u5,s.UX,S.R,A.aw]]}),t})()}}]);