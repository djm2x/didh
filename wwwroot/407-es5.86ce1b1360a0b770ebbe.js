!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[407],{70407:function(e,n,a){"use strict";a.r(n),a.d(n,{RapportModule:function(){return ve}});var r=a(61116),s=a(63337),c=a(64762),u=a(35366),l=a(5609),p=a(59241),m=a(55959),d=a(31906),f=a(18314),g=a(34411),h=a(92572),v=a(85078),Z=a(87064);function x(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"a",2),u.NdJ("click",function(){u.CHM(i);var t=u.oxw().$implicit;return u.oxw().openLink(t.pieceJointe)}),u.TgZ(1,"span",3),u._uU(2),u.qZA(),u.TgZ(3,"span",3),u._uU(4),u.qZA(),u.qZA()}if(2&t){var n=u.oxw().$implicit;u.xp6(2),u.Oqu(n.titre),u.xp6(2),u.Oqu(n.pieceJointe)}}function b(t,e){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,x,5,2,"a",1),u.qZA()),2&t){var i=e.$implicit;u.xp6(1),u.Q6J("ngIf",""!==i.pieceJointe)}}var T=function(){var t=function(){function t(e,n,o,a){i(this,t),this.bottomSheetRef=e,this.data=n,this.uow=o,this.url=a,this.o=new f.SD,this.rapports=[]}return o(t,[{key:"ngOnInit",value:function(){this.o=this.data,this.rapports=this.o.rapports}},{key:"openLink",value:function(t){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.open("".concat(this.url,"/rapport/").concat(t));case 1:case"end":return e.stop()}},e,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(g.oL),u.Y36(g.OG),u.Y36(h.Z),u.Y36("BASE_URL"))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-sheetbottom"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(u.TgZ(0,"mat-nav-list"),u.YNc(1,b,2,1,"div",0),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",e.rapports))},directives:[v.Hk,r.sg,r.O5,v.Tg,Z.X2],styles:[""]}),t}(),P=a(92935),w=a(37112),y=a(36278),q=a(84369),A=a(47340),_=a(25722);function S(t,e){if(1&t&&(u.TgZ(0,"th",16),u._uU(1),u.qZA()),2&t){var i=u.oxw(2);u.xp6(1),u.Oqu(i.columnDefs[0].headName)}}function N(t,e){if(1&t&&(u.TgZ(0,"td",17),u._uU(1),u.qZA()),2&t){var i=e.$implicit,n=u.oxw(2);u.xp6(1),u.Oqu(i[n.columnDefs[0].columnDef])}}function k(t,e){if(1&t&&(u.TgZ(0,"th",16),u._uU(1),u.qZA()),2&t){var i=u.oxw(2);u.xp6(1),u.Oqu(i.columnDefs[1].headName)}}function O(t,e){if(1&t&&(u.TgZ(0,"td",17),u._uU(1),u.ALo(2,"date"),u.qZA()),2&t){var i=e.$implicit,n=u.oxw(2);u.xp6(1),u.Oqu(u.xi3(2,1,i[n.columnDefs[1].columnDef],"dd/MM/yyyy"))}}function D(t,e){if(1&t&&(u.TgZ(0,"th",16),u._uU(1),u.qZA()),2&t){var i=u.oxw(2);u.xp6(1),u.Oqu(i.columnDefs[2].headName)}}function C(t,e){if(1&t&&(u.TgZ(0,"td",17),u._uU(1),u.ALo(2,"date"),u.qZA()),2&t){var i=e.$implicit,n=u.oxw(2);u.xp6(1),u.Oqu(u.xi3(2,1,i[n.columnDefs[2].columnDef],"dd/MM/yyyy"))}}function U(t,e){if(1&t&&(u.TgZ(0,"th",16),u._uU(1),u.qZA()),2&t){var i=u.oxw(2);u.xp6(1),u.Oqu(i.columnDefs[3].headName)}}function F(t,e){if(1&t&&(u.TgZ(0,"td",17),u._uU(1),u.ALo(2,"date"),u.qZA()),2&t){var i=e.$implicit,n=u.oxw(2);u.xp6(1),u.Oqu(u.xi3(2,1,i[n.columnDefs[3].columnDef],"dd/MM/yyyy"))}}function J(t,e){if(1&t&&(u.TgZ(0,"th",16),u._uU(1),u.qZA()),2&t){var i=u.oxw(2);u.xp6(1),u.Oqu(i.columnDefs[4].headName)}}function Q(t,e){if(1&t&&(u.TgZ(0,"td",17),u._uU(1),u.qZA()),2&t){var i=e.$implicit,n=u.oxw(2);u.xp6(1),u.Oqu(i[n.columnDefs[4].columnDef])}}function I(t,e){1&t&&u._UZ(0,"tr",18)}function M(t,e){1&t&&u._UZ(0,"tr",19)}function Y(t,e){if(1&t&&(u.TgZ(0,"section"),u.TgZ(1,"h5"),u._uU(2,"Rapports"),u.qZA(),u.TgZ(3,"div",8),u.TgZ(4,"table",9,10),u.ynx(6,11),u.YNc(7,S,2,1,"th",12),u.YNc(8,N,2,1,"td",13),u.BQk(),u.ynx(9,11),u.YNc(10,k,2,1,"th",12),u.YNc(11,O,3,4,"td",13),u.BQk(),u.ynx(12,11),u.YNc(13,D,2,1,"th",12),u.YNc(14,C,3,4,"td",13),u.BQk(),u.ynx(15,11),u.YNc(16,U,2,1,"th",12),u.YNc(17,F,3,4,"td",13),u.BQk(),u.ynx(18,11),u.YNc(19,J,2,1,"th",12),u.YNc(20,Q,2,1,"td",13),u.BQk(),u.YNc(21,I,1,0,"tr",14),u.YNc(22,M,1,0,"tr",15),u.qZA(),u.qZA(),u.qZA()),2&t){var i=u.oxw();u.xp6(4),u.Q6J("dataSource",i.dataSource),u.xp6(2),u.Q6J("matColumnDef",i.columnDefs[0].columnDef),u.xp6(3),u.Q6J("matColumnDef",i.columnDefs[1].columnDef),u.xp6(3),u.Q6J("matColumnDef",i.columnDefs[2].columnDef),u.xp6(3),u.Q6J("matColumnDef",i.columnDefs[3].columnDef),u.xp6(3),u.Q6J("matColumnDef",i.columnDefs[4].columnDef),u.xp6(3),u.Q6J("cdkHeaderRowDef",i.displayedColumns),u.xp6(1),u.Q6J("cdkRowDefColumns",i.displayedColumns)}}var R=function(){var t=function(){function t(e,n){i(this,t),this.dialogRef=e,this.data=n,this.dataSource=[],this.columnDefs=[{columnDef:"titre",headName:"TITRE"},{columnDef:"dateDernierRapport",headName:"Date Rapport"},{columnDef:"dateObservation",headName:"Date des observations finales"},{columnDef:"dateProchaineRapport",headName:"Date Prochain Rapport"},{columnDef:"reference",headName:"R\xe9f\xe9rence des observations finales"}].map(function(t){return t.headName=""===t.headName?t.columnDef.toUpperCase():t.headName,t}),this.displayedColumns=this.columnDefs.map(function(t){return t.columnDef}),this.title=""}return o(t,[{key:"ngOnInit",value:function(){this.o=this.data.model,this.dataSource=this.o.rapports,this.title=this.data.title}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"onOkClick",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(P.so),u.Y36(P.WI))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-update"]],decls:19,vars:10,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements",3,"dataSource"],["table",""],[3,"matColumnDef"],["cdk-header-cell","",4,"matHeaderCellDef"],["cdk-cell","",4,"matCellDef"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-header-cell",""],["cdk-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"h1",1),u.TgZ(2,"mat-toolbar",2),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.qZA(),u._UZ(5,"mat-divider"),u.qZA(),u.TgZ(6,"div",3),u.TgZ(7,"div",4),u.TgZ(8,"ul"),u.TgZ(9,"li"),u._uU(10),u.ALo(11,"date"),u.qZA(),u.TgZ(12,"li"),u._uU(13),u.ALo(14,"date"),u.qZA(),u.qZA(),u.YNc(15,Y,23,8,"section",5),u.qZA(),u.TgZ(16,"div",6),u.TgZ(17,"button",7),u.NdJ("click",function(){return e.onNoClick()}),u._uU(18,"Retour"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(4),u.Oqu(e.o.nom),u.xp6(6),u.hij("Date de signature: ",u.xi3(11,4,e.o.dateSignature,"dd/MM/yyyy"),""),u.xp6(3),u.hij("Date de ratification: ",u.xi3(14,7,e.o.dateRatification,"dd/MM/yyyy"),""),u.xp6(2),u.Q6J("ngIf",0!==e.dataSource.length))},directives:[P.uh,w.Ye,y.d,P.xY,r.O5,P.H8,q.lW,A.BZ,A.w1,A.fO,A.Dz,_.s$,_.Sq,_.Af,_.hD,A.XQ,A.Gk],pipes:[r.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t}(),L=a(12996),H=a(60649);function $(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.xp6(2),u.hij("- ",n.substring(14,n.length-1),"")}}function E(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.xp6(2),u.hij("- ",n.substring(14,n.length-1),"")}}function B(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.xp6(2),u.hij("- ",n.substring(14,n.length-1),"")}}function j(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.xp6(2),u.hij("- ",n.substring(14,n.length-1),"")}}function z(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.xp6(2),u.hij("- ",n.substring(14,n.length-1),"")}}function V(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.xp6(2),u.hij("- ",n.substring(14,n.length-1),"")}}function X(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.xp6(2),u.hij("- ",n.substring(14,n.length-1),"")}}function G(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"mat-list-item",13),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().download(t.substring(0,t.length-1))}),u.TgZ(1,"span",14),u._uU(2),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit;u.xp6(2),u.hij("- ",n.substring(14,n.length-1),"")}}var W=function(){var t=function(){function t(e,n,o){i(this,t),this.dialogRef=e,this.data=n,this.url=o,this.title="",this.folder="traite"}return o(t,[{key:"ngOnInit",value:function(){this.o=this.data.model,this.title=this.data.title}},{key:"propertyToList",value:function(t){if(t){var e=t.split(";");return e.pop(),e}return[]}},{key:"download",value:function(t){window.open("".concat(this.url,"/").concat(this.folder,"/").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(P.so),u.Y36(P.WI),u.Y36("BASE_URL"))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-archive"]],decls:60,vars:21,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[1,"row"],[1,"col"],[2,"font-weight","bold"],["role","list"],["matRipple","","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[3,"vertical"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["matRipple","",2,"cursor","pointer",3,"click"],[2,"font-size",".9em"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"h1",1),u.TgZ(2,"mat-toolbar",2),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.qZA(),u._UZ(5,"mat-divider"),u.qZA(),u.TgZ(6,"div",3),u.TgZ(7,"div",4),u.TgZ(8,"div",5),u.TgZ(9,"div",6),u.TgZ(10,"p",7),u._uU(11,"Discours du pr\xe9sident"),u.qZA(),u.TgZ(12,"mat-list",8),u.YNc(13,$,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u.TgZ(14,"div",6),u.TgZ(15,"p",7),u._uU(16,"Rapport National"),u.qZA(),u.TgZ(17,"mat-list",8),u.YNc(18,E,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(19,"mat-divider",10),u.TgZ(20,"div",6),u.TgZ(21,"p",7),u._uU(22,"Plan mise en \u0153uvre "),u.qZA(),u.TgZ(23,"mat-list",8),u.YNc(24,B,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(25,"mat-divider",10),u.TgZ(26,"div",6),u.TgZ(27,"p",7),u._uU(28,"Observations finales"),u.qZA(),u.TgZ(29,"mat-list",8),u.YNc(30,j,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(31,"mat-divider",10),u.TgZ(32,"div",6),u.TgZ(33,"p",7),u._uU(34,"Rapport analytique"),u.qZA(),u.TgZ(35,"mat-list",8),u.YNc(36,z,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(37,"mat-divider",10),u.TgZ(38,"div",6),u.TgZ(39,"p",7),u._uU(40,"Rapport parall\xe8le"),u.qZA(),u.TgZ(41,"mat-list",8),u.YNc(42,V,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(43,"mat-divider",10),u.TgZ(44,"div",6),u.TgZ(45,"p",7),u._uU(46),u.ALo(47,"translate"),u.qZA(),u.TgZ(48,"mat-list",8),u.YNc(49,X,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u._UZ(50,"mat-divider",10),u.TgZ(51,"div",6),u.TgZ(52,"p",7),u._uU(53),u.ALo(54,"translate"),u.qZA(),u.TgZ(55,"mat-list",8),u.YNc(56,G,3,1,"mat-list-item",9),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(57,"div",11),u.TgZ(58,"button",12),u.NdJ("click",function(){return e.dialogRef.close()}),u._uU(59,"Retour"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(4),u.Oqu(e.title),u.xp6(9),u.Q6J("ngForOf",e.propertyToList(e.o.discours)),u.xp6(5),u.Q6J("ngForOf",e.propertyToList(e.o.conventionPiece)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(5),u.Q6J("ngForOf",e.propertyToList(e.o.miseOeuvrePiece)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(5),u.Q6J("ngForOf",e.propertyToList(e.o.observationPiece)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(5),u.Q6J("ngForOf",e.propertyToList(e.o.analytiquePiece)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(5),u.Q6J("ngForOf",e.propertyToList(e.o.rapportParallelePiece)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(3),u.Oqu(u.lcZ(47,17,"admin.organe.update.rapportINDH")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.rapportINDH)),u.xp6(1),u.Q6J("vertical",!0),u.xp6(3),u.Oqu(u.lcZ(54,19,"admin.organe.update.avisPosition")),u.xp6(3),u.Q6J("ngForOf",e.propertyToList(e.o.avisPosition)))},directives:[P.uh,w.Ye,y.d,P.xY,v.i$,r.sg,P.H8,q.lW,v.Tg,Z.wG],pipes:[H.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),t}(),K=a(94589),tt=a(31496),et=a(50545),it=a(20707),nt=a(3942),ot=a(75163),at=a(3017),rt=a(16056),st=a(56238),ct=a(22797),ut=a(77307),lt=a(38497);function pt(t,e){if(1&t&&(u.TgZ(0,"div",5),u._UZ(1,"app-upload",6),u.ALo(2,"translate"),u.qZA()),2&t){var i=u.oxw();u.xp6(1),u.s9C("nameBtn",u.lcZ(2,5,"Pi\xe8ce-jointe")),u.Q6J("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.propertyUrlTo)("eventSubmitToParent",i.propertyUrlFrom)("eventSubmitFromParent",i.eventSubmitFromParent)}}function mt(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"div",3),u.TgZ(1,"button",7),u.NdJ("click",function(){return u.CHM(i),u.oxw().submit()}),u.TgZ(2,"mat-icon"),u._uU(3,"save_alt"),u.qZA(),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.qZA()}if(2&t){var n=u.oxw();u.xp6(1),u.Q6J("disabled",""===n.o.url&&0===n.o.id),u.xp6(3),u.hij(" ",u.lcZ(5,2,"admin.Enregistre"),"")}}var dt=function(){var t=function(){function t(e,n,o){i(this,t),this.uow=e,this.bottomSheet=n,this.session=o,this.o=new f.Xz,this.folderToSaveInServer="situation-reserve",this.propertyUrlTo=new m.xQ,this.propertyUrlFrom=new m.xQ,this.eventSubmitFromParent=new m.xQ,this.update=new m.xQ}return o(t,[{key:"ngOnInit",value:function(){var t=this;(0,d.T)(this.update).pipe((0,st.O)(null)).subscribe(function(e){t.uow.situationReserves.getFirst().subscribe(function(e){t.o=e,setTimeout(function(){t.propertyUrlTo.next(t.o.url)},100)})}),this.propertyUrlFrom.subscribe(function(e){return t.o.url=e})}},{key:"submit",value:function(){var t=this;0===this.o.id?this.uow.situationReserves.post(this.o).subscribe(function(e){t.eventSubmitFromParent.next(!0),setTimeout(function(){return t.update.next(!0)},1e3)}):this.uow.situationReserves.put(this.o.id,this.o).subscribe(function(e){t.eventSubmitFromParent.next(!0),setTimeout(function(){return t.update.next(!0)},1e3)})}},{key:"showPieceJoin",value:function(){this.bottomSheet.open(L.x,{data:{fileName:this.o.url,folder:this.folderToSaveInServer}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(h.Z),u.Y36(g.ch),u.Y36(et.m))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-situation-reserve"]],decls:13,vars:9,consts:[[1,"row",2,"margin-bottom","15px"],["class","col-md-6",4,"ngIf"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],["mat-raised-button","","cdkFocusInitial","","color","accent",3,"disabled","click"],[1,"col-md-6"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.TgZ(0,"mat-card"),u.TgZ(1,"h4"),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",0),u.YNc(5,pt,3,7,"div",1),u.YNc(6,mt,6,4,"div",2),u.TgZ(7,"div",3),u.TgZ(8,"button",4),u.NdJ("click",function(){return e.showPieceJoin()}),u.TgZ(9,"mat-icon"),u._uU(10,"cloud_download"),u.qZA(),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(2),u.Oqu(u.lcZ(3,5,"admin.organe.situation_des_r\xe9serves")),u.xp6(3),u.Q6J("ngIf",!1===e.session.isSuperViseur),u.xp6(1),u.Q6J("ngIf",!1===e.session.isSuperViseur),u.xp6(2),u.Q6J("disabled",""===e.o.url&&0===e.o.id),u.xp6(3),u.hij(" ",u.lcZ(12,7,"admin.organe.Telecharger")," "))},directives:[ct.a8,r.O5,q.lW,ut.Hw,lt.o],pipes:[H.X$],styles:[""]}),t}(),ft=a(87672),gt=a(24311),ht=function(){return["/admin/rapport/update",0]};function vt(t,e){1&t&&(u.TgZ(0,"button",35),u.TgZ(1,"mat-icon"),u._uU(2,"add"),u.qZA(),u._uU(3),u.ALo(4,"translate"),u.qZA()),2&t&&(u.Q6J("routerLink",u.DdM(4,ht)),u.xp6(3),u.hij(" ",u.lcZ(4,2,"admin.organe.Organesdetrait\xe9")," "))}function Zt(t,e){1&t&&u._UZ(0,"mat-spinner")}function xt(t,e){if(1&t&&(u.TgZ(0,"div",36),u.YNc(1,Zt,1,0,"mat-spinner",37),u.qZA()),2&t){var i=u.oxw();u.xp6(1),u.Q6J("ngIf",i.isLoadingResults)}}function bt(t,e){1&t&&(u.TgZ(0,"th",38),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.hij("",u.lcZ(2,1,"admin.organe.list.Organesdetrait\xe9")," "))}function Tt(t,e){if(1&t&&(u.TgZ(0,"td",39),u._uU(1),u.qZA()),2&t){var i=e.$implicit,n=u.oxw();u.xp6(1),u.Oqu("fr"===n.mytranslate.langSync?i.nom:i.nomAr)}}function Pt(t,e){1&t&&(u.TgZ(0,"th",40),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.organe.list.Rapportnational")))}function wt(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"td",39),u.TgZ(1,"button",41),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().showPieceJoin(t.conventionPiece)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(n.conventionPiece))("matTooltip",n.conventionPiece)}}function yt(t,e){1&t&&(u.TgZ(0,"th",40),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.organe.list.Discoursdupr\xe9sident")))}function qt(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"td",39),u.TgZ(1,"button",41),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().showPieceJoin(t.discours)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(n.discours))("matTooltip",n.discours)}}function At(t,e){1&t&&(u.TgZ(0,"th",40),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.organe.list.Compterenduanalytique")))}function _t(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"button",41),u.NdJ("click",function(){u.CHM(i);var t=u.oxw().$implicit;return u.oxw().showPieceJoin(t.analytiquePiece)}),u.TgZ(1,"mat-icon"),u._uU(2,"cloud_download"),u.qZA(),u.qZA()}if(2&t){var n=u.oxw().$implicit,o=u.oxw();u.Q6J("disabled",o.disable(n.analytiquePiece))("matTooltip",n.analytiquePiece)}}function St(t,e){if(1&t&&(u.TgZ(0,"td",39),u.YNc(1,_t,3,2,"button",42),u.qZA()),2&t){var i=u.oxw();u.xp6(1),u.Q6J("ngIf",!1===i.session.isPointFocal)}}function Nt(t,e){if(1&t&&(u.TgZ(0,"th",40),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t){var i=u.oxw();u.xp6(1),u.hij(" ",!1===i.session.isPointFocal?u.lcZ(2,1,"admin.organe.list.Observationsfinales"):"","")}}function kt(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"button",41),u.NdJ("click",function(){u.CHM(i);var t=u.oxw().$implicit;return u.oxw().showPieceJoin(t.observationPiece)}),u.TgZ(1,"mat-icon"),u._uU(2,"cloud_download"),u.qZA(),u.qZA()}if(2&t){var n=u.oxw().$implicit,o=u.oxw();u.Q6J("disabled",o.disable(n.observationPiece))("matTooltip",n.observationPiece)}}function Ot(t,e){if(1&t&&(u.TgZ(0,"td",39),u.YNc(1,kt,3,2,"button",42),u.qZA()),2&t){var i=u.oxw();u.xp6(1),u.Q6J("ngIf",!1===i.session.isPointFocal)}}function Dt(t,e){1&t&&(u.TgZ(0,"th",40),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.organe.list.Rapportparall\xe8le")))}function Ct(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"td",39),u.TgZ(1,"button",41),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().showPieceJoin(t.rapportParallelePiece)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(n.rapportParallelePiece))("matTooltip",n.rapportParallelePiece)}}function Ut(t,e){1&t&&(u.TgZ(0,"th",40),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.organe.list.PLANDEMISEENOEUVRE")))}function Ft(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"td",39),u.TgZ(1,"button",41),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().showPieceJoin(t.miseOeuvrePiece)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(n.miseOeuvrePiece))("matTooltip",n.miseOeuvrePiece)}}function Jt(t,e){1&t&&(u.TgZ(0,"th",40),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.organe.rapportINDH")))}function Qt(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"td",39),u.TgZ(1,"button",41),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().showPieceJoin(t.rapportINDH)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(n.rapportINDH))("matTooltip",n.rapportINDH)}}function It(t,e){1&t&&(u.TgZ(0,"th",40),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"admin.organe.avisPosition")))}function Mt(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"td",39),u.TgZ(1,"button",41),u.NdJ("click",function(){var t=u.CHM(i).$implicit;return u.oxw().showPieceJoin(t.avisPosition)}),u.TgZ(2,"mat-icon"),u._uU(3,"cloud_download"),u.qZA(),u.qZA(),u.qZA()}if(2&t){var n=e.$implicit,o=u.oxw();u.xp6(1),u.Q6J("disabled",o.disable(n.avisPosition))("matTooltip",n.avisPosition)}}function Yt(t,e){1&t&&u._UZ(0,"th",40)}var Rt=function(t){return["/admin/rapport/update",t]};function Lt(t,e){if(1&t&&(u.TgZ(0,"button",48),u.TgZ(1,"mat-icon"),u._uU(2,"create"),u.qZA(),u.qZA()),2&t){var i=u.oxw(2).$implicit;u.Q6J("routerLink",u.VKq(1,Rt,i.id))}}function Ht(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"button",49),u.NdJ("click",function(){u.CHM(i);var t=u.oxw(2).$implicit;return u.oxw().archive(t)}),u.TgZ(1,"mat-icon"),u._uU(2,"unarchive"),u.qZA(),u.qZA()}}function $t(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"button",50),u.NdJ("click",function(){u.CHM(i);var t=u.oxw(2).$implicit;return u.oxw().delete(t)}),u.TgZ(1,"mat-icon"),u._uU(2,"delete_sweep"),u.qZA(),u.qZA()}}function Et(t,e){if(1&t&&(u.TgZ(0,"div",44),u.YNc(1,Lt,3,3,"button",45),u.YNc(2,Ht,3,0,"button",46),u.YNc(3,$t,3,0,"button",47),u.qZA()),2&t){var i=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!i.session.isPointFocal&&!i.session.isSuperViseur),u.xp6(1),u.Q6J("ngIf",!i.session.isPointFocal&&!i.session.isSuperViseur),u.xp6(1),u.Q6J("ngIf",!i.session.isPointFocal&&!i.session.isSuperViseur)}}function Bt(t,e){if(1&t&&(u.TgZ(0,"td",39),u.YNc(1,Et,4,3,"div",43),u.qZA()),2&t){var i=u.oxw();u.xp6(1),u.Q6J("ngIf",!i.session.isPublic)}}function jt(t,e){1&t&&u._UZ(0,"tr",51)}function zt(t,e){1&t&&u._UZ(0,"tr",52)}var Vt=function(){return[10,25,50,100,250]},Xt=function(){var e=function(){function e(t,n,o,a,r,s,c,l){i(this,e),this.uow=t,this.dialog=n,this.mydialog=o,this.mytranslate=a,this.bottomSheet=r,this.session=s,this.route=c,this.url=l,this.update=new u.vpe,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.dataSource=[],this.columnDefs=[{columnDef:"nom",headName:"Organes de Trait\xe9s"},{columnDef:"conventionPiece",headName:"Rapport national"},{columnDef:"discours",headName:"Discours du pr\xe9sident"},{columnDef:"analytiquePiece",headName:"Compte rendu analytique"},{columnDef:"observationPiece",headName:"Observations finales"},{columnDef:"rapportParallelePiece",headName:"Rapport  parall\xe8le"},{columnDef:"rapportINDH",headName:"rapportINDH"},{columnDef:"avisPosition",headName:"avisPosition"},{columnDef:"option",headName:"..."}].map(function(t){return t.headName=""===t.headName?t.columnDef.toUpperCase():t.headName.toUpperCase(),t}),this.displayedColumns=["nom","conventionPiece","rapportINDH","rapportParallelePiece","discours","analytiquePiece","observationPiece","avisPosition","option"],this.text="",this.text2=this.text.substring(0,600),this.progress=0,this.countRec=new m.xQ,this.mecanismeState=new m.xQ,this.stateByMecanisme=new m.xQ,this.stateDetailByMecanisme=new m.xQ}return o(e,[{key:"ngOnInit",value:function(){var t=this;this.getPage(0,10,"id","desc",this.session.isPublic?0:this.session.user.idOrganisme),(0,d.T)(this.sort.sortChange,this.paginator.page,this.update).subscribe(function(e){!0===e?t.paginator.pageIndex=0:e=e,t.paginator.pageSize?e=e:t.paginator.pageSize=10;var i=t.paginator.pageIndex*t.paginator.pageSize;t.isLoadingResults=!0,t.getPage(i,t.paginator.pageSize,t.sort.active?t.sort.active:"id",t.sort.direction?t.sort.direction:"desc",t.session.isPublic?0:t.session.user.idOrganisme)}),this.getMecanismeState(),this.getStateByMecanisme(),this.getStateDetailByMecanisme(),this.uow.recommendations.mecanismeCount("organe").subscribe(function(e){return t.countRec.next(e)})}},{key:"disable",value:function(t){return!t||""===t}},{key:"getPage",value:function(t,e,i,n,o){var a=this;this.uow.traites.getAll(t,e,i,n,o).subscribe(function(t){a.dataSource=t.list,a.resultsLength=t.count,a.isLoadingResults=!1})}},{key:"openDialog",value:function(t){return this.dialog.open(R,{width:"7100px",disableClose:!0,data:{model:t,title:"Rapport"}}).afterClosed()}},{key:"moreInfo",value:function(){this.text2=600===this.text2.length?this.text:this.text.substring(0,600)}},{key:"delete",value:function(e){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var n,o,a,r,s,c,u,l=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.mydialog.openDialog("rapport").toPromise();case 2:if(i.t0=i.sent,"ok"!==i.t0){i.next=6;break}u=[],""!==e.conventionPiece?(n=u).push.apply(n,t(this.uow.decoupe(e.conventionPiece))):u=u,""!==e.miseOeuvrePiece?(o=u).push.apply(o,t(this.uow.decoupe(e.miseOeuvrePiece))):u=u,""!==e.observationPiece?(a=u).push.apply(a,t(this.uow.decoupe(e.observationPiece))):u=u,""!==e.discours?(r=u).push.apply(r,t(this.uow.decoupe(e.discours))):u=u,""!==e.analytiquePiece?(s=u).push.apply(s,t(this.uow.decoupe(e.analytiquePiece))):u=u,""!==e.miseOeuvrePiece?(c=u).push.apply(c,t(this.uow.decoupe(e.miseOeuvrePiece))):u=u,this.uow.files.deleteFiles(u,"traite").subscribe(function(t){l.uow.traites.delete(e.id).subscribe(function(){return l.update.next(!0)})});case 6:case"end":return i.stop()}},i,this)}))}},{key:"archive",value:function(t){this.dialog.open(W,{width:"80vw",disableClose:!0,data:{model:t,title:t.nom}})}},{key:"showPieceJoin2",value:function(t){this.bottomSheet.open(T,{data:t})}},{key:"showPieceJoin",value:function(t){this.bottomSheet.open(L.x,{data:{fileName:t,folder:"traite"}})}},{key:"getMecanismeState",value:function(){var t=this;this.uow.organes.mecanismeState().subscribe(function(e){var i=[];i.push(t.mytranslate.get("R\xe9alis\xe9")),i.push(t.mytranslate.get("NonR\xe9alis\xe9")),i.push(t.mytranslate.get("EnCours")),i.push(t.mytranslate.get("Recommendation_continue"));var n=[],o=[];n.push(100*e.four/e.total),n.push(100*e.one/e.total),n.push(100*e.two/e.total),n.push(100*e.three/e.total),o.push(e.one,e.two,e.three,e.four),t.mecanismeState.next({chartLabels:i,chartData:n,chartColors:["#2b960b","#db0707","#f7801e","#2d71a1","#ffffff"],dataToShowInTable:o,title:t.mytranslate.get("admin.header.Etat de mise en \u0153uvre")})})}},{key:"getStateByMecanisme",value:function(){var t=this;this.uow.organes.stateByMecanisme().subscribe(function(e){var i=e.map(function(t){return t.name}),n=e.map(function(t){return+t.one.toFixed(0)});t.stateByMecanisme.next({chartLabels:i,chartData:n,chartColors:[],dataToShowInTable:[],title:t.mytranslate.get("admin.organe.list.Tauxderecommandationsparorgane")})})}},{key:"getStateDetailByMecanisme",value:function(){var t=this;this.uow.organes.stateDetailByMecanisme().subscribe(function(e){var i=(e=e.filter(function(t){return null!==t.name})).map(function(t){return t.name}),n=[{data:[],label:t.mytranslate.get("NonR\xe9alis\xe9")},{data:[],label:t.mytranslate.get("EnCours")},{data:[],label:t.mytranslate.get("Recommendation_continue")},{data:[],label:t.mytranslate.get("R\xe9alis\xe9")}];e.forEach(function(t){n[0].data.push(+(100*t.one/t.total).toFixed(0)),n[1].data.push(+(100*t.two/t.total).toFixed(0)),n[2].data.push(+(100*t.three/t.total).toFixed(0)),n[3].data.push(+(100*t.four/t.total).toFixed(0))}),t.stateDetailByMecanisme.next({barChartLabels:i,barChartData:n,title:t.mytranslate.get("admin.epu.list.EtatAvancementderecommandationsparaxe")})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(h.Z),u.Y36(P.uw),u.Y36(K.b),u.Y36(tt.n),u.Y36(g.ch),u.Y36(et.m),u.Y36(s.gz),u.Y36("BASE_URL"))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(t,e){var i;(1&t&&(u.Gf(l.NW,7),u.Gf(p.YE,7)),2&t)&&(u.iGM(i=u.CRH())&&(e.paginator=i.first),u.iGM(i=u.CRH())&&(e.sort=i.first))},decls:57,vars:21,consts:[[1,"host"],[3,"title"],[1,"right"],["class","mt-3","mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mecanisme","organe"],[1,"row","mb-4","justify-content-center"],[1,"col-md-5"],[3,"obs"],[1,"col-md-2","p-0"],[3,"title","count","height"],[1,"col-md-12"],[1,"chart-size"],[3,"col","height","dataSubject"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],["matColumnDef","nom"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","conventionPiece"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","discours"],["matColumnDef","analytiquePiece"],["matColumnDef","observationPiece"],["matColumnDef","rapportParallelePiece"],["matColumnDef","miseOeuvrePiece"],["matColumnDef","rapportINDH"],["matColumnDef","avisPosition"],["matColumnDef","option",2,"flex-direction","row-reverse"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],["mat-raised-button","","color","primary",1,"mt-3",3,"routerLink"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",1,"center",3,"disabled","matTooltip","click"],["class","center","mat-icon-button","","color","accent",3,"disabled","matTooltip","click",4,"ngIf"],["class","button-row",4,"ngIf"],[1,"button-row"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"app-title",1),u.ALo(2,"translate"),u.TgZ(3,"div",2),u.YNc(4,vt,5,5,"button",3),u.qZA(),u._UZ(5,"app-intros",4),u.TgZ(6,"div",5),u.TgZ(7,"div",6),u._UZ(8,"app-pie",7),u.qZA(),u.TgZ(9,"div",8),u._UZ(10,"app-count",9),u.ALo(11,"translate"),u.qZA(),u.TgZ(12,"div",6),u._UZ(13,"app-pie",7),u.qZA(),u.TgZ(14,"div",10),u.TgZ(15,"div",11),u._UZ(16,"app-bar",12),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"div",13),u.YNc(18,xt,2,1,"div",14),u.TgZ(19,"div",15),u.TgZ(20,"table",16,17),u.ynx(22,18),u.YNc(23,bt,3,3,"th",19),u.YNc(24,Tt,2,1,"td",20),u.BQk(),u.ynx(25,21),u.YNc(26,Pt,3,3,"th",22),u.YNc(27,wt,4,2,"td",20),u.BQk(),u.ynx(28,23),u.YNc(29,yt,3,3,"th",22),u.YNc(30,qt,4,2,"td",20),u.BQk(),u.ynx(31,24),u.YNc(32,At,3,3,"th",22),u.YNc(33,St,2,1,"td",20),u.BQk(),u.ynx(34,25),u.YNc(35,Nt,3,3,"th",22),u.YNc(36,Ot,2,1,"td",20),u.BQk(),u.ynx(37,26),u.YNc(38,Dt,3,3,"th",22),u.YNc(39,Ct,4,2,"td",20),u.BQk(),u.ynx(40,27),u.YNc(41,Ut,3,3,"th",22),u.YNc(42,Ft,4,2,"td",20),u.BQk(),u.ynx(43,28),u.YNc(44,Jt,3,3,"th",22),u.YNc(45,Qt,4,2,"td",20),u.BQk(),u.ynx(46,29),u.YNc(47,It,3,3,"th",22),u.YNc(48,Mt,4,2,"td",20),u.BQk(),u.ynx(49,30),u.YNc(50,Yt,1,0,"th",22),u.YNc(51,Bt,2,1,"td",20),u.BQk(),u.YNc(52,jt,1,0,"tr",31),u.YNc(53,zt,1,0,"tr",32),u.qZA(),u.qZA(),u._UZ(54,"mat-paginator",33,34),u.qZA(),u._UZ(56,"app-situation-reserve"),u.qZA()),2&t&&(u.xp6(1),u.s9C("title",u.lcZ(2,16,"admin.organe.Organesdetrait\xe9s")),u.xp6(3),u.Q6J("ngIf",!e.session.isPointFocal&&!e.session.isSuperViseur&&!e.session.isPublic),u.xp6(4),u.Q6J("obs",e.mecanismeState),u.xp6(2),u.Q6J("title",u.lcZ(11,18,"admin.header.organeCount"))("count",e.countRec)("height","55vh"),u.xp6(3),u.Q6J("obs",e.stateByMecanisme),u.xp6(3),u.Q6J("col",12)("height","70vh")("dataSubject",e.stateDetailByMecanisme),u.xp6(2),u.Q6J("ngIf",e.isLoadingResults),u.xp6(2),u.Q6J("dataSource",e.dataSource),u.xp6(32),u.Q6J("matHeaderRowDef",e.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",e.displayedColumns),u.xp6(1),u.Q6J("length",e.resultsLength)("pageSizeOptions",u.DdM(20,Vt)))},directives:[it.r,r.O5,nt.e,ot.R,at.S,rt.R,A.BZ,p.YE,A.w1,A.fO,A.Dz,A.as,A.nj,l.NW,dt,q.lW,s.rH,ut.Hw,ft.$g,A.ge,p.nU,A.ev,gt.gM,A.XQ,A.Gk],pipes:[H.X$],styles:["section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}  h3{margin:0!important}.host[_ngcontent-%COMP%]{margin:1em!important}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.mat-cell[_ngcontent-%COMP%]:last-child,   .mat-header-cell:last-child{width:180px!important}"]}),e}(),Gt=a(31041),Wt=a(85503),Kt=a(57173),te=a(13070),ee=a(9550),ie=a(69024),ne=a(68085),oe=function(){return["/admin/rapport/list"]};function ae(t,e){if(1&t){var i=u.EpF();u.TgZ(0,"form",5),u.TgZ(1,"div",6),u.TgZ(2,"mat-form-field",7),u.TgZ(3,"mat-label"),u._uU(4),u.ALo(5,"translate"),u.qZA(),u._UZ(6,"textarea",8),u.qZA(),u.TgZ(7,"mat-form-field",7),u.TgZ(8,"mat-label"),u._uU(9),u.ALo(10,"translate"),u.qZA(),u._UZ(11,"textarea",9),u.qZA(),u.TgZ(12,"div",10),u.TgZ(13,"mat-form-field",11),u.TgZ(14,"mat-label"),u._uU(15),u.ALo(16,"translate"),u.qZA(),u._UZ(17,"input",12),u._UZ(18,"mat-datepicker-toggle",13),u._UZ(19,"mat-datepicker",null,14),u.qZA(),u.TgZ(21,"mat-form-field",11),u.TgZ(22,"mat-label"),u._uU(23),u.ALo(24,"translate"),u.qZA(),u._UZ(25,"input",15),u._UZ(26,"mat-datepicker-toggle",13),u._UZ(27,"mat-datepicker",null,16),u.qZA(),u.qZA(),u.TgZ(29,"div",17),u._UZ(30,"app-upload-select",18),u.ALo(31,"translate"),u._UZ(32,"app-upload-select",18),u.ALo(33,"translate"),u._UZ(34,"app-upload-select",18),u.ALo(35,"translate"),u._UZ(36,"app-upload-select",18),u.ALo(37,"translate"),u._UZ(38,"app-upload-select",18),u.ALo(39,"translate"),u._UZ(40,"app-upload-select",18),u.ALo(41,"translate"),u._UZ(42,"app-upload-select",18),u.ALo(43,"translate"),u._UZ(44,"app-upload-select",18),u.ALo(45,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(46,"div",19),u.TgZ(47,"button",20),u._uU(48),u.ALo(49,"translate"),u.qZA(),u._uU(50,"\xa0\xa0 "),u.TgZ(51,"button",21),u.NdJ("click",function(){u.CHM(i);var t=u.oxw();return t.submit(t.myForm.value)}),u._uU(52),u.ALo(53,"translate"),u.qZA(),u.qZA()}if(2&t){var n=u.MAs(20),o=u.MAs(28),a=u.oxw();u.Q6J("formGroup",a.myForm),u.xp6(4),u.Oqu(u.lcZ(5,53,"admin.organe.update.ConventionProtocole")),u.xp6(5),u.Oqu(u.lcZ(10,55,"admin.organe.update.ConventionProtocoleAr")),u.xp6(6),u.Oqu(u.lcZ(16,57,"admin.organe.update.DateSignature")),u.xp6(2),u.Q6J("matDatepicker",n),u.xp6(1),u.Q6J("for",n),u.xp6(5),u.Oqu(u.lcZ(24,59,"admin.organe.update.Datederatification")),u.xp6(2),u.Q6J("matDatepicker",o),u.xp6(1),u.Q6J("for",o),u.xp6(4),u.s9C("nameBtn",u.lcZ(31,61,"admin.organe.list.Rapportnational")),u.Q6J("folderToSaveInServer",a.folderToSaveInServer)("propertyOfParent",a.conventionPieceTo)("eventSubmitToParent",a.conventionPieceFrom)("eventSubmitFromParent",a.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(33,63,"admin.organe.list.Discoursdupr\xe9sident")),u.Q6J("folderToSaveInServer",a.folderToSaveInServer)("propertyOfParent",a.discoursTo)("eventSubmitToParent",a.discoursFrom)("eventSubmitFromParent",a.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(35,65,"admin.organe.list.Compterenduanalytique")),u.Q6J("folderToSaveInServer",a.folderToSaveInServer)("propertyOfParent",a.analytiquePieceTo)("eventSubmitToParent",a.analytiquePieceFrom)("eventSubmitFromParent",a.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(37,67,"admin.organe.list.Observationsfinales")),u.Q6J("folderToSaveInServer",a.folderToSaveInServer)("propertyOfParent",a.observationPieceTo)("eventSubmitToParent",a.observationPieceFrom)("eventSubmitFromParent",a.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(39,69,"admin.organe.list.Rapportparall\xe8le")),u.Q6J("folderToSaveInServer",a.folderToSaveInServer)("propertyOfParent",a.rapportParallelePieceTo)("eventSubmitToParent",a.rapportParallelePieceFrom)("eventSubmitFromParent",a.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(41,71,"admin.organe.list.PLANDEMISEENOEUVRE")),u.Q6J("folderToSaveInServer",a.folderToSaveInServer)("propertyOfParent",a.miseOeuvrePieceTo)("eventSubmitToParent",a.miseOeuvrePieceFrom)("eventSubmitFromParent",a.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(43,73,"admin.organe.rapportINDH")),u.Q6J("folderToSaveInServer",a.folderToSaveInServer)("propertyOfParent",a.rapportINDHTo)("eventSubmitToParent",a.rapportINDHFrom)("eventSubmitFromParent",a.eventSubmitFromParent),u.xp6(2),u.s9C("nameBtn",u.lcZ(45,75,"admin.organe.avisPosition")),u.Q6J("folderToSaveInServer",a.folderToSaveInServer)("propertyOfParent",a.avisPositionTo)("eventSubmitToParent",a.avisPositionFrom)("eventSubmitFromParent",a.eventSubmitFromParent),u.xp6(3),u.Q6J("routerLink",u.DdM(81,oe)),u.xp6(1),u.Oqu(u.lcZ(49,77,"admin.Retour")),u.xp6(3),u.Q6J("disabled",a.myForm.invalid),u.xp6(1),u.Oqu(u.lcZ(53,79,"admin.Enregistre"))}}var re,se,ce=function(){var t=function(){function t(e,n,o,a,r){i(this,t),this.route=e,this.snack=n,this.uow=o,this.fb=a,this.session=r,this.o=new f.SD,this.id=0,this.folderToSaveInServer="traite",this.conventionPieceTo=new m.xQ,this.conventionPieceFrom=new m.xQ,this.discoursTo=new m.xQ,this.discoursFrom=new m.xQ,this.observationPieceTo=new m.xQ,this.observationPieceFrom=new m.xQ,this.miseOeuvrePieceTo=new m.xQ,this.miseOeuvrePieceFrom=new m.xQ,this.analytiquePieceTo=new m.xQ,this.analytiquePieceFrom=new m.xQ,this.rapportParallelePieceTo=new m.xQ,this.rapportParallelePieceFrom=new m.xQ,this.rapportINDHTo=new m.xQ,this.rapportINDHFrom=new m.xQ,this.avisPositionTo=new m.xQ,this.avisPositionFrom=new m.xQ,this.eventSubmitFromParent=new m.xQ}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.createForm(),this.id=+this.route.snapshot.paramMap.get("id"),0!==this.id&&this.uow.traites.getOne(this.id).subscribe(function(e){t.o=e,t.createForm(),setTimeout(function(){t.discoursTo.next(t.o.discours),t.rapportParallelePieceTo.next(t.o.rapportParallelePiece),t.conventionPieceTo.next(t.o.conventionPiece),t.observationPieceTo.next(t.o.observationPiece),t.miseOeuvrePieceTo.next(t.o.miseOeuvrePiece),t.analytiquePieceTo.next(t.o.analytiquePiece),t.rapportINDHTo.next(t.o.rapportINDH),t.avisPositionTo.next(t.o.avisPosition)},100)}),this.rapportParallelePieceFrom.subscribe(function(e){return t.myForm.get("rapportParallelePiece").setValue(e)}),this.conventionPieceFrom.subscribe(function(e){return t.myForm.get("conventionPiece").setValue(e)}),this.discoursFrom.subscribe(function(e){return t.myForm.get("discours").setValue(e)}),this.observationPieceFrom.subscribe(function(e){return t.myForm.get("observationPiece").setValue(e)}),this.miseOeuvrePieceFrom.subscribe(function(e){return t.myForm.get("miseOeuvrePiece").setValue(e)}),this.analytiquePieceFrom.subscribe(function(e){return t.myForm.get("analytiquePiece").setValue(e)}),this.rapportINDHFrom.subscribe(function(e){return t.myForm.get("rapportINDH").setValue(e)}),this.avisPositionFrom.subscribe(function(e){return t.myForm.get("avisPosition").setValue(e)})}},{key:"createForm",value:function(){this.myForm=this.fb.group({id:this.o.id,nom:[this.o.nom,Gt.kI.required],nomAr:[this.o.nomAr,Gt.kI.required],discours:[this.o.discours],dateSignature:[this.o.dateSignature,Gt.kI.required],dateRatification:[this.o.dateRatification,Gt.kI.required],conventionPiece:[this.o.conventionPiece],observationPiece:[this.o.observationPiece],miseOeuvrePiece:[this.o.miseOeuvrePiece],analytiquePiece:[this.o.analytiquePiece],rapportParallelePiece:[this.o.rapportParallelePiece],rapportINDH:[this.o.rapportINDH],avisPosition:[this.o.avisPosition]})}},{key:"submit",value:function(t){var e=this;t.dateRatification=this.valideDate(t.dateRatification),t.dateSignature=this.valideDate(t.dateSignature),t.idUser=this.session.user.id,0===this.id?this.uow.traites.post(t).subscribe(function(t){return(0,c.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.eventSubmitFromParent.next(!0),this.o=t;case 1:case"end":return e.stop()}},e,this)}))}):this.uow.traites.put(t.id,t).subscribe(function(t){return(0,c.mG)(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.eventSubmitFromParent.next(!0),new Date;case 1:case"end":return t.stop()}},t,this)}))})}},{key:"reset",value:function(){this.o=new f.SD,this.createForm()}},{key:"valideDate",value:function(t){var e=(t=new Date(t)).getHours()-t.getTimezoneOffset()/60,i=(t.getHours()-t.getTimezoneOffset())%60;return t.setHours(e),t.setMinutes(i),t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(s.gz),u.Y36(Wt.c),u.Y36(h.Z),u.Y36(Gt.qu),u.Y36(et.m))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-update"]],decls:7,vars:7,consts:[[1,"host"],[3,"title"],[1,"example-stretched-tabs","mat-elevation-z4",2,"margin-top","15px"],[3,"label","disabled"],["matTabContent",""],[3,"formGroup"],[1,"myForm",2,"margin-top","15px","height","100%"],["appearance","fill",2,"width","100%"],["matInput","","rows","6","formControlName","nom","required",""],["matInput","","rows","6","formControlName","nomAr","required",""],[1,"inputs"],["appearance","fill"],["matInput","","formControlName","dateSignature",3,"matDatepicker"],["matSuffix","",3,"for"],["picker5",""],["matInput","","formControlName","dateRatification",3,"matDatepicker"],["picker0",""],[1,"row","justify-content-center",2,"margin-bottom","15px"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],[1,"actions"],["mat-button","","type","button",3,"routerLink"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"app-title",1),u.ALo(2,"translate"),u.TgZ(3,"mat-tab-group",2),u.TgZ(4,"mat-tab",3),u.ALo(5,"translate"),u.YNc(6,ae,54,82,"ng-template",4),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(1),u.s9C("title",u.lcZ(2,3,"admin.organe.Organesdetrait\xe9")),u.xp6(3),u.s9C("label",u.lcZ(5,5,"admin.organe.update.Trait\xe9")),u.Q6J("disabled",!1))},directives:[it.r,Kt.SP,Kt.uX,Kt.Vc,Gt._Y,Gt.JL,Gt.sg,te.KE,te.hX,ee.Nt,Gt.Fj,Gt.JJ,Gt.u,Gt.Q7,ie.hl,ie.nW,te.R9,ie.Mq,ne.k,q.lW,s.rH],pipes:[H.X$],styles:[".myForm[_ngcontent-%COMP%]{margin:0 15px}.myForm[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(20vw,1fr));grid-column-gap:6px;grid-row-gap:6px;align-items:center}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;margin:0 15px 15px 0}.host[_ngcontent-%COMP%]{margin:1em!important}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}.example-stretched-tabs[_ngcontent-%COMP%]{max-width:100%} .mat-tab-label.mat-tab-label-active.cdk-keyboard-focused:not(.mat-tab-disabled),  .mat-tab-label.mat-tab-label-active:not(.mat-tab-disabled){background-color:#dfdfdf;font-weight:700}  .mat-tab-body-content{height:calc(100vh - 210px)!important;overflow:auto}"]}),t}(),ue=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:(re=function(){function t(){i(this,t)}return o(t,[{key:"ngOnInit",value:function(){}}]),t}(),re.\u0275fac=function(t){return new(t||re)},re.\u0275cmp=u.Xpm({type:re,selectors:[["app-rapport"]],decls:1,vars:0,template:function(t,e){1&t&&u._UZ(0,"router-outlet")},directives:[s.lC],styles:[""]}),re),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Xt},{path:"update/:id",component:ce}],canActivate:[a(46589).l]}],le=function(){var t=function t(){i(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[s.Bz.forChild(ue)],s.Bz]}),t}(),pe=a(42693),me=a(57823),de=a(97866),fe=a(15675),ge=a(23928),he=a(4967),ve=((se=function t(){i(this,t)}).\u0275fac=function(t){return new(t||se)},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({imports:[[r.ez,le,pe.JF,me.R,Gt.u5,Gt.UX,de.i,fe.f,ge.N,H.aw,he.O]]}),se)}}])}();