(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Romv:function(t,e,i){"use strict";i.r(e),i.d(e,"RapportModule",function(){return ce});var n=i("ofXK"),a=i("tyNb"),o=i("mrSG"),c=i("fXoL"),s=i("M9IT"),r=i("Dh3D"),l=i("2Vo4"),b=i("XNiG"),m=i("VRyK"),u=i("ukCm"),d=i("2ChS"),p=i("7q3A"),h=i("MutI"),f=i("FKr1");function g(t,e){if(1&t){const t=c.Ub();c.Tb(0,"a",2),c.ac("click",function(){c.sc(t);const e=c.ec().$implicit;return c.ec().openLink(e.pieceJointe)}),c.Tb(1,"span",3),c.Dc(2),c.Sb(),c.Tb(3,"span",3),c.Dc(4),c.Sb(),c.Sb()}if(2&t){const t=c.ec().$implicit;c.Bb(2),c.Ec(t.titre),c.Bb(2),c.Ec(t.pieceJointe)}}function S(t,e){if(1&t&&(c.Tb(0,"div"),c.Bc(1,g,5,2,"a",1),c.Sb()),2&t){const t=e.$implicit;c.Bb(1),c.kc("ngIf",""!==t.pieceJointe)}}let v=(()=>{class t{constructor(t,e,i,n){this.bottomSheetRef=t,this.data=e,this.uow=i,this.url=n,this.o=new u.o,this.rapports=[]}ngOnInit(){this.o=this.data,this.rapports=this.o.rapports}openLink(t){return Object(o.a)(this,void 0,void 0,function*(){console.log(t),window.open(`${this.url}/rapport/${t}`)})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(d.d),c.Nb(d.a),c.Nb(p.a),c.Nb("BASE_URL"))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-sheetbottom"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(c.Tb(0,"mat-nav-list"),c.Bc(1,S,2,1,"div",0),c.Sb()),2&t&&(c.Bb(1),c.kc("ngForOf",e.rapports))},directives:[h.d,n.l,n.m,h.b,f.k],styles:[""]}),t})();var T=i("0IaG"),P=i("/t3+"),D=i("f0Cb"),B=i("bTqV"),O=i("+0xr"),w=i("f6nW");function k(t,e){if(1&t&&(c.Tb(0,"th",16),c.Dc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Ec(t.columnDefs[0].headName)}}function y(t,e){if(1&t&&(c.Tb(0,"td",17),c.Dc(1),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Ec(t[i.columnDefs[0].columnDef])}}function F(t,e){if(1&t&&(c.Tb(0,"th",16),c.Dc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Ec(t.columnDefs[1].headName)}}function C(t,e){if(1&t&&(c.Tb(0,"td",17),c.Dc(1),c.fc(2,"date"),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Ec(c.hc(2,1,t[i.columnDefs[1].columnDef],"dd/MM/yyyy"))}}function R(t,e){if(1&t&&(c.Tb(0,"th",16),c.Dc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Ec(t.columnDefs[2].headName)}}function x(t,e){if(1&t&&(c.Tb(0,"td",17),c.Dc(1),c.fc(2,"date"),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Ec(c.hc(2,1,t[i.columnDefs[2].columnDef],"dd/MM/yyyy"))}}function N(t,e){if(1&t&&(c.Tb(0,"th",16),c.Dc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Ec(t.columnDefs[3].headName)}}function I(t,e){if(1&t&&(c.Tb(0,"td",17),c.Dc(1),c.fc(2,"date"),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Ec(c.hc(2,1,t[i.columnDefs[3].columnDef],"dd/MM/yyyy"))}}function M(t,e){if(1&t&&(c.Tb(0,"th",16),c.Dc(1),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.Ec(t.columnDefs[4].headName)}}function E(t,e){if(1&t&&(c.Tb(0,"td",17),c.Dc(1),c.Sb()),2&t){const t=e.$implicit,i=c.ec(2);c.Bb(1),c.Ec(t[i.columnDefs[4].columnDef])}}function _(t,e){1&t&&c.Ob(0,"tr",18)}function $(t,e){1&t&&c.Ob(0,"tr",19)}function L(t,e){if(1&t&&(c.Tb(0,"section"),c.Tb(1,"h5"),c.Dc(2,"Rapports"),c.Sb(),c.Tb(3,"div",8),c.Tb(4,"table",9,10),c.Rb(6,11),c.Bc(7,k,2,1,"th",12),c.Bc(8,y,2,1,"td",13),c.Qb(),c.Rb(9,11),c.Bc(10,F,2,1,"th",12),c.Bc(11,C,3,4,"td",13),c.Qb(),c.Rb(12,11),c.Bc(13,R,2,1,"th",12),c.Bc(14,x,3,4,"td",13),c.Qb(),c.Rb(15,11),c.Bc(16,N,2,1,"th",12),c.Bc(17,I,3,4,"td",13),c.Qb(),c.Rb(18,11),c.Bc(19,M,2,1,"th",12),c.Bc(20,E,2,1,"td",13),c.Qb(),c.Bc(21,_,1,0,"tr",14),c.Bc(22,$,1,0,"tr",15),c.Sb(),c.Sb(),c.Sb()),2&t){const t=c.ec();c.Bb(4),c.kc("dataSource",t.dataSource),c.Bb(2),c.kc("matColumnDef",t.columnDefs[0].columnDef),c.Bb(3),c.kc("matColumnDef",t.columnDefs[1].columnDef),c.Bb(3),c.kc("matColumnDef",t.columnDefs[2].columnDef),c.Bb(3),c.kc("matColumnDef",t.columnDefs[3].columnDef),c.Bb(3),c.kc("matColumnDef",t.columnDefs[4].columnDef),c.Bb(3),c.kc("cdkHeaderRowDef",t.displayedColumns),c.Bb(1),c.kc("cdkRowDefColumns",t.displayedColumns)}}let q=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.dataSource=[],this.columnDefs=[{columnDef:"titre",headName:"TITRE"},{columnDef:"dateDernierRapport",headName:"Date Rapport"},{columnDef:"dateObservation",headName:"Date des observations finales"},{columnDef:"dateProchaineRapport",headName:"Date Prochain Rapport"},{columnDef:"reference",headName:"R\xe9f\xe9rence des observations finales"}].map(t=>(t.headName=""===t.headName?t.columnDef.toUpperCase():t.headName,t)),this.displayedColumns=this.columnDefs.map(t=>t.columnDef),this.title=""}ngOnInit(){this.o=this.data.model,this.dataSource=this.o.rapports,this.title=this.data.title,console.log(this.o)}onNoClick(){this.dialogRef.close()}onOkClick(t){}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(T.g),c.Nb(T.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-update"]],decls:19,vars:10,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements",3,"dataSource"],["table",""],[3,"matColumnDef"],["cdk-header-cell","",4,"matHeaderCellDef"],["cdk-cell","",4,"matCellDef"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-header-cell",""],["cdk-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"h1",1),c.Tb(2,"mat-toolbar",2),c.Tb(3,"span"),c.Dc(4),c.Sb(),c.Sb(),c.Ob(5,"mat-divider"),c.Sb(),c.Tb(6,"div",3),c.Tb(7,"div",4),c.Tb(8,"ul"),c.Tb(9,"li"),c.Dc(10),c.fc(11,"date"),c.Sb(),c.Tb(12,"li"),c.Dc(13),c.fc(14,"date"),c.Sb(),c.Sb(),c.Bc(15,L,23,8,"section",5),c.Sb(),c.Tb(16,"div",6),c.Tb(17,"button",7),c.ac("click",function(){return e.onNoClick()}),c.Dc(18,"Retour"),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(4),c.Ec(e.o.nom),c.Bb(6),c.Fc("Date de signature: ",c.hc(11,4,e.o.dateSignature,"dd/MM/yyyy"),""),c.Bb(3),c.Fc("Date de ratification: ",c.hc(14,7,e.o.dateRatification,"dd/MM/yyyy"),""),c.Bb(2),c.kc("ngIf",0!==e.dataSource.length))},directives:[T.h,P.a,D.a,T.e,n.m,T.c,B.a,O.j,O.c,O.e,O.b,w.m,w.p,w.j,w.b,O.f,O.h],pipes:[n.e],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})();var U=i("ZTdd");function j(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Dc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Fc("- ",t.substring(14,t.length-1),"")}}function H(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Dc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Fc("- ",t.substring(14,t.length-1),"")}}function J(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Dc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Fc("- ",t.substring(14,t.length-1),"")}}function Q(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Dc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Fc("- ",t.substring(14,t.length-1),"")}}function V(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Dc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Fc("- ",t.substring(14,t.length-1),"")}}function A(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-list-item",13),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().download(i.substring(0,i.length-1))}),c.Tb(1,"span",14),c.Dc(2),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit;c.Bb(2),c.Fc("- ",t.substring(14,t.length-1),"")}}let z=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.data=e,this.url=i,this.title="",this.folder="traite"}ngOnInit(){this.o=this.data.model,this.title=this.data.title}propertyToList(t){if(t){const e=t.split(";");return e.pop(),e}return[]}download(t){window.open(`${this.url}/${this.folder}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(T.g),c.Nb(T.a),c.Nb("BASE_URL"))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-archive"]],decls:46,vars:11,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[1,"row"],[1,"col"],[2,"font-weight","bold"],["role","list"],["matRipple","","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[3,"vertical"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["matRipple","",2,"cursor","pointer",3,"click"],[2,"font-size",".9em"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"h1",1),c.Tb(2,"mat-toolbar",2),c.Tb(3,"span"),c.Dc(4),c.Sb(),c.Sb(),c.Ob(5,"mat-divider"),c.Sb(),c.Tb(6,"div",3),c.Tb(7,"div",4),c.Tb(8,"div",5),c.Tb(9,"div",6),c.Tb(10,"p",7),c.Dc(11,"Discours du pr\xe9sident"),c.Sb(),c.Tb(12,"mat-list",8),c.Bc(13,j,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Tb(14,"div",6),c.Tb(15,"p",7),c.Dc(16,"Rapport National"),c.Sb(),c.Tb(17,"mat-list",8),c.Bc(18,H,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(19,"mat-divider",10),c.Tb(20,"div",6),c.Tb(21,"p",7),c.Dc(22,"Plan mise en \u0153uvre "),c.Sb(),c.Tb(23,"mat-list",8),c.Bc(24,J,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(25,"mat-divider",10),c.Tb(26,"div",6),c.Tb(27,"p",7),c.Dc(28,"Observations finales"),c.Sb(),c.Tb(29,"mat-list",8),c.Bc(30,Q,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(31,"mat-divider",10),c.Tb(32,"div",6),c.Tb(33,"p",7),c.Dc(34,"Rapport analytique"),c.Sb(),c.Tb(35,"mat-list",8),c.Bc(36,V,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Ob(37,"mat-divider",10),c.Tb(38,"div",6),c.Tb(39,"p",7),c.Dc(40,"Rapport parall\xe8le"),c.Sb(),c.Tb(41,"mat-list",8),c.Bc(42,A,3,1,"mat-list-item",9),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(43,"div",11),c.Tb(44,"button",12),c.ac("click",function(){return e.dialogRef.close()}),c.Dc(45,"Retour"),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(4),c.Ec(e.title),c.Bb(9),c.kc("ngForOf",e.propertyToList(e.o.discours)),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.conventionPiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.miseOeuvrePiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.observationPiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.analytiquePiece)),c.Bb(1),c.kc("vertical",!0),c.Bb(5),c.kc("ngForOf",e.propertyToList(e.o.rapportParallelePiece)))},directives:[T.h,P.a,D.a,T.e,h.a,n.l,T.c,B.a,h.b,f.t],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),t})();var G=i("5F3i"),X=i("J3i2"),K=i("0hB7"),W=i("/ysL"),Y=i("2HI4"),Z=i("+Ya6"),tt=i("x3GN"),et=i("oz3B"),it=i("oTHA"),nt=i("JX91"),at=i("Wp6s"),ot=i("5nPQ"),ct=i("NFeN"),st=i("sYmb");let rt=(()=>{class t{constructor(t,e){this.uow=t,this.bottomSheet=e,this.o=new u.l,this.folderToSaveInServer="situation-reserve",this.propertyUrlTo=new b.a,this.propertyUrlFrom=new b.a,this.eventSubmitFromParent=new b.a,this.update=new b.a}ngOnInit(){Object(m.a)(this.update).pipe(Object(nt.a)(null)).subscribe(t=>{this.uow.situationReserves.getFirst().subscribe(t=>{this.o=t,setTimeout(()=>{this.propertyUrlTo.next(this.o.url)},100)})}),this.propertyUrlFrom.subscribe(t=>this.o.url=t)}submit(){0===this.o.id?this.uow.situationReserves.post(this.o).subscribe(t=>{this.eventSubmitFromParent.next(!0),setTimeout(()=>this.update.next(!0),1e3)}):this.uow.situationReserves.put(this.o.id,this.o).subscribe(t=>{this.eventSubmitFromParent.next(!0),setTimeout(()=>this.update.next(!0),1e3)})}showPieceJoin(t=""){this.bottomSheet.open(U.a,{data:{fileName:this.o.url,folder:this.folderToSaveInServer}})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(p.a),c.Nb(d.b))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-situation-reserve"]],decls:20,vars:18,consts:[[1,"row",2,"margin-bottom","15px"],[1,"col-md-6"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],[1,"col-md-3"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"],["mat-raised-button","","cdkFocusInitial","","color","accent",3,"disabled","click"]],template:function(t,e){1&t&&(c.Tb(0,"mat-card"),c.Tb(1,"h4"),c.Dc(2),c.fc(3,"translate"),c.Sb(),c.Tb(4,"div",0),c.Tb(5,"div",1),c.Ob(6,"app-upload",2),c.fc(7,"translate"),c.Sb(),c.Tb(8,"div",3),c.Tb(9,"button",4),c.ac("click",function(){return e.submit()}),c.Tb(10,"mat-icon"),c.Dc(11,"save_alt"),c.Sb(),c.Dc(12),c.fc(13,"translate"),c.Sb(),c.Sb(),c.Tb(14,"div",3),c.Tb(15,"button",5),c.ac("click",function(){return e.showPieceJoin()}),c.Tb(16,"mat-icon"),c.Dc(17,"cloud_download"),c.Sb(),c.Dc(18),c.fc(19,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(2),c.Ec(c.gc(3,10,"admin.organe.situation_des_r\xe9serves")),c.Bb(4),c.lc("nameBtn",c.gc(7,12,"Pi\xe8ce-jointe")),c.kc("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.propertyUrlTo)("eventSubmitToParent",e.propertyUrlFrom)("eventSubmitFromParent",e.eventSubmitFromParent),c.Bb(3),c.kc("disabled",""===e.o.url&&0===e.o.id),c.Bb(3),c.Fc(" ",c.gc(13,14,"admin.Enregistre"),""),c.Bb(3),c.kc("disabled",""===e.o.url&&0===e.o.id),c.Bb(3),c.Fc(" ",c.gc(19,16,"admin.organe.Telecharger")," "))},directives:[at.a,ot.a,B.a,ct.a],pipes:[st.c],styles:[""]}),t})();var lt=i("Xa2L"),bt=i("Qu3c");const mt=function(){return["/admin/rapport/update",0]};function ut(t,e){1&t&&(c.Tb(0,"button",26),c.Tb(1,"mat-icon"),c.Dc(2,"add"),c.Sb(),c.Dc(3),c.fc(4,"translate"),c.Sb()),2&t&&(c.kc("routerLink",c.mc(4,mt)),c.Bb(3),c.Fc(" ",c.gc(4,2,"admin.organe.Organesdetrait\xe9")," "))}function dt(t,e){1&t&&c.Ob(0,"mat-spinner")}function pt(t,e){if(1&t&&(c.Tb(0,"div",27),c.Bc(1,dt,1,0,"mat-spinner",28),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.kc("ngIf",t.isLoadingResults)}}function ht(t,e){1&t&&(c.Tb(0,"th",29),c.Dc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Fc("",c.gc(2,1,"admin.organe.list.Organesdetrait\xe9")," "))}function ft(t,e){if(1&t&&(c.Tb(0,"td",30),c.Dc(1),c.Sb()),2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.Ec("fr"===i.mytranslate.langSync?t.nom:t.nomAr)}}function gt(t,e){1&t&&(c.Tb(0,"th",31),c.Dc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Ec(c.gc(2,1,"admin.organe.list.Rapportnational")))}function St(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",30),c.Tb(1,"button",32),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.conventionPiece)}),c.Tb(2,"mat-icon"),c.Dc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.conventionPiece))("matTooltip",t.conventionPiece)}}function vt(t,e){1&t&&(c.Tb(0,"th",31),c.Dc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Ec(c.gc(2,1,"admin.organe.list.Discoursdupr\xe9sident")))}function Tt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",30),c.Tb(1,"button",32),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.discours)}),c.Tb(2,"mat-icon"),c.Dc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.discours))("matTooltip",t.discours)}}function Pt(t,e){1&t&&(c.Tb(0,"th",31),c.Dc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Ec(c.gc(2,1,"admin.organe.list.Compterenduanalytique")))}function Dt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",32),c.ac("click",function(){c.sc(t);const e=c.ec().$implicit;return c.ec().showPieceJoin(e.analytiquePiece)}),c.Tb(1,"mat-icon"),c.Dc(2,"cloud_download"),c.Sb(),c.Sb()}if(2&t){const t=c.ec().$implicit,e=c.ec();c.kc("disabled",e.disable(t.analytiquePiece))("matTooltip",t.analytiquePiece)}}function Bt(t,e){if(1&t&&(c.Tb(0,"td",30),c.Bc(1,Dt,3,2,"button",33),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.kc("ngIf",!1===t.session.isPointFocal)}}function Ot(t,e){if(1&t&&(c.Tb(0,"th",31),c.Dc(1),c.fc(2,"translate"),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.Fc(" ",!1===t.session.isPointFocal?c.gc(2,1,"admin.organe.list.Observationsfinales"):"","")}}function wt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",32),c.ac("click",function(){c.sc(t);const e=c.ec().$implicit;return c.ec().showPieceJoin(e.observationPiece)}),c.Tb(1,"mat-icon"),c.Dc(2,"cloud_download"),c.Sb(),c.Sb()}if(2&t){const t=c.ec().$implicit,e=c.ec();c.kc("disabled",e.disable(t.observationPiece))("matTooltip",t.observationPiece)}}function kt(t,e){if(1&t&&(c.Tb(0,"td",30),c.Bc(1,wt,3,2,"button",33),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.kc("ngIf",!1===t.session.isPointFocal)}}function yt(t,e){1&t&&(c.Tb(0,"th",31),c.Dc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Ec(c.gc(2,1,"admin.organe.list.Rapportparall\xe8le")))}function Ft(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",30),c.Tb(1,"button",32),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.rapportParallelePiece)}),c.Tb(2,"mat-icon"),c.Dc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.rapportParallelePiece))("matTooltip",t.rapportParallelePiece)}}function Ct(t,e){1&t&&(c.Tb(0,"th",31),c.Dc(1),c.fc(2,"translate"),c.Sb()),2&t&&(c.Bb(1),c.Ec(c.gc(2,1,"admin.organe.list.PLANDEMISEENOEUVRE")))}function Rt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",30),c.Tb(1,"button",32),c.ac("click",function(){c.sc(t);const i=e.$implicit;return c.ec().showPieceJoin(i.miseOeuvrePiece)}),c.Tb(2,"mat-icon"),c.Dc(3,"cloud_download"),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.kc("disabled",i.disable(t.miseOeuvrePiece))("matTooltip",t.miseOeuvrePiece)}}function xt(t,e){1&t&&c.Ob(0,"th",31)}const Nt=function(t){return["/admin/rapport/update",t]};function It(t,e){if(1&t&&(c.Tb(0,"button",39),c.Tb(1,"mat-icon"),c.Dc(2,"create"),c.Sb(),c.Sb()),2&t){const t=c.ec(2).$implicit;c.kc("routerLink",c.nc(1,Nt,t.id))}}function Mt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",40),c.ac("click",function(){c.sc(t);const e=c.ec(2).$implicit;return c.ec().archive(e)}),c.Tb(1,"mat-icon"),c.Dc(2,"unarchive"),c.Sb(),c.Sb()}}function Et(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",41),c.ac("click",function(){c.sc(t);const e=c.ec(2).$implicit;return c.ec().delete(e)}),c.Tb(1,"mat-icon"),c.Dc(2,"delete_sweep"),c.Sb(),c.Sb()}}function _t(t,e){if(1&t&&(c.Tb(0,"div",35),c.Bc(1,It,3,3,"button",36),c.Bc(2,Mt,3,0,"button",37),c.Bc(3,Et,3,0,"button",38),c.Sb()),2&t){const t=c.ec(2);c.Bb(1),c.kc("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur),c.Bb(1),c.kc("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur),c.Bb(1),c.kc("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur)}}function $t(t,e){if(1&t&&(c.Tb(0,"td",30),c.Bc(1,_t,4,3,"div",34),c.Sb()),2&t){const t=c.ec();c.Bb(1),c.kc("ngIf",!t.session.isPublic)}}function Lt(t,e){1&t&&c.Ob(0,"tr",42)}function qt(t,e){1&t&&c.Ob(0,"tr",43)}const Ut=function(){return[10,25,50,100,250]};let jt=(()=>{class t{constructor(t,e,i,n,a,o,s,r){this.uow=t,this.dialog=e,this.mydialog=i,this.mytranslate=n,this.bottomSheet=a,this.session=o,this.route=s,this.url=r,this.update=new c.o,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.dataSource=[],this.columnDefs=[{columnDef:"nom",headName:"Organes de Trait\xe9s"},{columnDef:"conventionPiece",headName:"Rapport national"},{columnDef:"discours",headName:"Discours du pr\xe9sident"},{columnDef:"analytiquePiece",headName:"Compte rendu analytique"},{columnDef:"observationPiece",headName:"Observations finales"},{columnDef:"rapportParallelePiece",headName:"Rapport  parall\xe8le"},{columnDef:"miseOeuvrePiece",headName:"PLAN DE MISE EN OEUVRE"},{columnDef:"option",headName:"..."}].map(t=>(t.headName=""===t.headName?t.columnDef.toUpperCase():t.headName.toUpperCase(),t)),this.text="",this.text2=this.text.substring(0,600),this.displayedColumns=this.columnDefs.filter(t=>"miseOeuvrePiece"!==t.columnDef).map(t=>t.columnDef),this.progress=0,this.formData=new FormData,this.pieChartSubject=new l.a({table:"organe",type:"etat",title:"Etat d\u2019avancement des recommandations par organe"}),this.pieChartSubjectC=new l.a({table:"organe",type:"taux",title:this.mytranslate.getObs("admin.organe.list.Tauxderecommandationsparorgane")}),this.organePageSubject=new b.a,this.countRec=new b.a,this.dataOt=new b.a,this.dataPie=new b.a}ngOnInit(){this.getPage(0,10,"id","desc",this.session.isPublic?0:this.session.user.idOrganisme),Object(m.a)(this.sort.sortChange,this.paginator.page,this.update).subscribe(t=>{!0===t?this.paginator.pageIndex=0:t=t,this.paginator.pageSize?t=t:this.paginator.pageSize=10;const e=this.paginator.pageIndex*this.paginator.pageSize;this.isLoadingResults=!0,this.getPage(e,this.paginator.pageSize,this.sort.active?this.sort.active:"id",this.sort.direction?this.sort.direction:"desc",this.session.isPublic?0:this.session.user.idOrganisme)}),this.route.queryParams.subscribe(t=>{const e=t.data;e&&this.uow.rapports.getOne(e).subscribe(t=>{this.openDialog(t)})}),this.stateOrgane(),this.stateMecanisme(),this.stateOneOFMecanisme()}stateOneOFMecanisme(){this.uow.recommendations.stateMecanisme().subscribe(t=>{const e=[];e.push(this.mytranslate.get("admin.organe.list.Etatavancement")),e.push(this.mytranslate.get("admin.organe.list.R\xe9alis\xe9")),e.push(this.mytranslate.get("admin.organe.list.NonR\xe9alis\xe9"));const i=[],n=[];i.push(100*t.ot.p/t.ot.t),i.push(100*t.ot.r/t.ot.t),i.push(100*t.ot.n/t.ot.t),n.push(t.ot.p,t.ot.r,t.ot.n),this.countRec.next(t.ot.p+t.ot.r+t.ot.n),this.dataPie.next({chartLabels:e,chartData:i,chartColors:["#f7801e","#2b960b","#db0707","#ffffff"],dataToShowInTable:n,count:t.count,title:this.mytranslate.get("admin.home.OrganesdeTrait\xe9s")})})}disable(t){return!t||""===t}stateMecanisme(){this.uow.recommendations.stateMecanisme().subscribe(t=>{t.ot.name=this.mytranslate.getObs("admin.home.OrganesdeTrait\xe9s"),t.ot.count=t.count,this.dataOt.next(t.ot)})}stateOrgane(){this.uow.recommendations.stateOrgane().subscribe(t=>{t=t.filter(t=>null!==t.name),console.log(t);const e=t.map(t=>t.name),i=[{data:[],label:this.mytranslate.get("admin.organe.list.Etatavancement")},{data:[],label:this.mytranslate.get("admin.organe.list.R\xe9alis\xe9")},{data:[],label:this.mytranslate.get("admin.organe.list.NonR\xe9alis\xe9")}];t.forEach(t=>{i[0].data.push((100*t.p/t.t).toFixed(0)),i[1].data.push((100*t.r/t.t).toFixed(0)),i[2].data.push((100*t.n/t.t).toFixed(0))}),this.organePageSubject.next({barChartLabels:e,barChartData:i,title:this.mytranslate.get("admin.organe.list.Miseen\u0153uvredesrecommandationsparOrganesdeTrait\xe9s")})})}getPage(t,e,i,n,a){this.uow.traites.getAll(t,e,i,n,a).subscribe(t=>{this.dataSource=t.list,this.resultsLength=t.count,this.isLoadingResults=!1})}openDialog(t){return this.dialog.open(q,{width:"7100px",disableClose:!0,data:{model:t,title:"Rapport"}}).afterClosed()}moreInfo(){this.text2=600===this.text2.length?this.text:this.text.substring(0,600)}delete(t){return Object(o.a)(this,void 0,void 0,function*(){if("ok"===(yield this.mydialog.openDialog("rapport").toPromise())){let e=[];""!==t.conventionPiece?e.push(...this.uow.decoupe(t.conventionPiece)):e=e,""!==t.miseOeuvrePiece?e.push(...this.uow.decoupe(t.miseOeuvrePiece)):e=e,""!==t.observationPiece?e.push(...this.uow.decoupe(t.observationPiece)):e=e,""!==t.discours?e.push(...this.uow.decoupe(t.discours)):e=e,""!==t.analytiquePiece?e.push(...this.uow.decoupe(t.analytiquePiece)):e=e,""!==t.miseOeuvrePiece?e.push(...this.uow.decoupe(t.miseOeuvrePiece)):e=e,this.uow.files.deleteFiles(e,"traite").subscribe(e=>{this.uow.traites.delete(t.id).subscribe(()=>this.update.next(!0))})}})}archive(t){this.dialog.open(z,{width:"80vw",disableClose:!0,data:{model:t,title:t.nom}})}showPieceJoin2(t){console.log(t),this.bottomSheet.open(v,{data:t})}showPieceJoin(t){this.bottomSheet.open(U.a,{data:{fileName:t,folder:"traite"}})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(p.a),c.Nb(T.b),c.Nb(G.a),c.Nb(X.a),c.Nb(d.b),c.Nb(K.a),c.Nb(a.a),c.Nb("BASE_URL"))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-list"]],viewQuery:function(t,e){if(1&t&&(c.xc(s.a,!0),c.xc(r.a,!0)),2&t){let t;c.pc(t=c.bc())&&(e.paginator=t.first),c.pc(t=c.bc())&&(e.sort=t.first)}},decls:49,vars:24,consts:[[1,"host"],[3,"title"],[1,"right"],["class","mt-3","mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mecanisme","organe"],[1,"row","mb-4","justify-content-center"],[1,"col-md-5"],[3,"obs"],[1,"col-md-2","p-0"],[3,"count","height"],[1,"col-md-12"],[3,"dataSubject","height"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","option",2,"flex-direction","row-reverse"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],["mat-raised-button","","color","primary",1,"mt-3",3,"routerLink"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",1,"center",3,"disabled","matTooltip","click"],["class","center","mat-icon-button","","color","accent",3,"disabled","matTooltip","click",4,"ngIf"],["class","button-row",4,"ngIf"],[1,"button-row"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Ob(1,"app-title",1),c.fc(2,"translate"),c.Tb(3,"div",2),c.Bc(4,ut,5,5,"button",3),c.Sb(),c.Ob(5,"app-intros",4),c.Tb(6,"div",5),c.Tb(7,"div",6),c.Ob(8,"app-pie",7),c.Sb(),c.Tb(9,"div",8),c.Ob(10,"app-count",9),c.Sb(),c.Tb(11,"div",6),c.Ob(12,"app-pie-chart",7),c.Sb(),c.Tb(13,"div",10),c.Ob(14,"app-bar",11),c.Sb(),c.Sb(),c.Tb(15,"div",12),c.Bc(16,pt,2,1,"div",13),c.Tb(17,"div",14),c.Tb(18,"table",15,16),c.Rb(20,17),c.Bc(21,ht,3,3,"th",18),c.Bc(22,ft,2,1,"td",19),c.Qb(),c.Rb(23,17),c.Bc(24,gt,3,3,"th",20),c.Bc(25,St,4,2,"td",19),c.Qb(),c.Rb(26,17),c.Bc(27,vt,3,3,"th",20),c.Bc(28,Tt,4,2,"td",19),c.Qb(),c.Rb(29,17),c.Bc(30,Pt,3,3,"th",20),c.Bc(31,Bt,2,1,"td",19),c.Qb(),c.Rb(32,17),c.Bc(33,Ot,3,3,"th",20),c.Bc(34,kt,2,1,"td",19),c.Qb(),c.Rb(35,17),c.Bc(36,yt,3,3,"th",20),c.Bc(37,Ft,4,2,"td",19),c.Qb(),c.Rb(38,17),c.Bc(39,Ct,3,3,"th",20),c.Bc(40,Rt,4,2,"td",19),c.Qb(),c.Rb(41,21),c.Bc(42,xt,1,0,"th",20),c.Bc(43,$t,2,1,"td",19),c.Qb(),c.Bc(44,Lt,1,0,"tr",22),c.Bc(45,qt,1,0,"tr",23),c.Sb(),c.Sb(),c.Ob(46,"mat-paginator",24,25),c.Sb(),c.Ob(48,"app-situation-reserve"),c.Sb()),2&t&&(c.Bb(1),c.lc("title",c.gc(2,21,"admin.organe.Organesdetrait\xe9s")),c.Bb(3),c.kc("ngIf",!e.session.isPointFocal&&!e.session.isSuperViseur&&!e.session.isPublic),c.Bb(4),c.kc("obs",e.dataPie),c.Bb(2),c.kc("count",e.countRec)("height","62vh"),c.Bb(2),c.kc("obs",e.pieChartSubjectC),c.Bb(2),c.kc("dataSubject",e.organePageSubject)("height","70vh"),c.Bb(2),c.kc("ngIf",e.isLoadingResults),c.Bb(2),c.kc("dataSource",e.dataSource),c.Bb(2),c.kc("matColumnDef",e.columnDefs[0].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[1].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[2].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[3].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[4].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[5].columnDef),c.Bb(3),c.kc("matColumnDef",e.columnDefs[6].columnDef),c.Bb(6),c.kc("matHeaderRowDef",e.displayedColumns),c.Bb(1),c.kc("matRowDefColumns",e.displayedColumns),c.Bb(1),c.kc("length",e.resultsLength)("pageSizeOptions",c.mc(23,Ut)))},directives:[W.a,n.m,Y.a,Z.a,tt.a,et.a,it.a,O.j,r.a,O.c,O.e,O.b,O.g,O.i,s.a,rt,B.a,a.f,ct.a,lt.c,O.d,r.b,O.a,bt.a,O.f,O.h],pipes:[st.c],styles:["section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}  h3{margin:0!important}.host[_ngcontent-%COMP%]{margin:1em!important}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.mat-cell[_ngcontent-%COMP%]:last-child,   .mat-header-cell:last-child{width:180px!important}"]}),t})();var Ht=i("3Pt+"),Jt=i("0kbX"),Qt=i("wZkO"),Vt=i("kmnG"),At=i("qFsG"),zt=i("iadO"),Gt=i("3IEU");const Xt=function(){return["/admin/rapport/list"]};function Kt(t,e){if(1&t){const t=c.Ub();c.Tb(0,"form",5),c.Tb(1,"div",6),c.Tb(2,"mat-form-field",7),c.Tb(3,"mat-label"),c.Dc(4),c.fc(5,"translate"),c.Sb(),c.Ob(6,"textarea",8),c.Sb(),c.Tb(7,"mat-form-field",7),c.Tb(8,"mat-label"),c.Dc(9),c.fc(10,"translate"),c.Sb(),c.Ob(11,"textarea",9),c.Sb(),c.Tb(12,"div",10),c.Tb(13,"mat-form-field",11),c.Tb(14,"mat-label"),c.Dc(15),c.fc(16,"translate"),c.Sb(),c.Ob(17,"input",12),c.Ob(18,"mat-datepicker-toggle",13),c.Ob(19,"mat-datepicker",null,14),c.Sb(),c.Tb(21,"mat-form-field",11),c.Tb(22,"mat-label"),c.Dc(23),c.fc(24,"translate"),c.Sb(),c.Ob(25,"input",15),c.Ob(26,"mat-datepicker-toggle",13),c.Ob(27,"mat-datepicker",null,16),c.Sb(),c.Sb(),c.Tb(29,"div",17),c.Ob(30,"app-upload-select",18),c.fc(31,"translate"),c.Ob(32,"app-upload-select",18),c.fc(33,"translate"),c.Ob(34,"app-upload-select",18),c.fc(35,"translate"),c.Ob(36,"app-upload-select",18),c.fc(37,"translate"),c.Ob(38,"app-upload-select",18),c.fc(39,"translate"),c.Ob(40,"app-upload-select",18),c.fc(41,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Tb(42,"div",19),c.Tb(43,"button",20),c.Dc(44),c.fc(45,"translate"),c.Sb(),c.Dc(46,"\xa0\xa0 "),c.Tb(47,"button",21),c.ac("click",function(){c.sc(t);const e=c.ec();return e.submit(e.myForm.value)}),c.Dc(48),c.fc(49,"translate"),c.Sb(),c.Sb()}if(2&t){const t=c.qc(20),e=c.qc(28),i=c.ec();c.kc("formGroup",i.myForm),c.Bb(4),c.Ec(c.gc(5,43,"admin.organe.update.ConventionProtocole")),c.Bb(5),c.Ec(c.gc(10,45,"admin.organe.update.ConventionProtocoleAr")),c.Bb(6),c.Ec(c.gc(16,47,"admin.organe.update.DateSignature")),c.Bb(2),c.kc("matDatepicker",t),c.Bb(1),c.kc("for",t),c.Bb(5),c.Ec(c.gc(24,49,"admin.organe.update.Datederatification")),c.Bb(2),c.kc("matDatepicker",e),c.Bb(1),c.kc("for",e),c.Bb(4),c.lc("nameBtn",c.gc(31,51,"admin.organe.list.Rapportnational")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.conventionPieceTo)("eventSubmitToParent",i.conventionPieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(33,53,"admin.organe.list.Discoursdupr\xe9sident")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.discoursTo)("eventSubmitToParent",i.discoursFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(35,55,"admin.organe.list.Compterenduanalytique")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.analytiquePieceTo)("eventSubmitToParent",i.analytiquePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(37,57,"admin.organe.list.Observationsfinales")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.observationPieceTo)("eventSubmitToParent",i.observationPieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(39,59,"admin.organe.list.Rapportparall\xe8le")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.rapportParallelePieceTo)("eventSubmitToParent",i.rapportParallelePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(2),c.lc("nameBtn",c.gc(41,61,"admin.organe.list.PLANDEMISEENOEUVRE")),c.kc("folderToSaveInServer",i.folderToSaveInServer)("propertyOfParent",i.miseOeuvrePieceTo)("eventSubmitToParent",i.miseOeuvrePieceFrom)("eventSubmitFromParent",i.eventSubmitFromParent),c.Bb(3),c.kc("routerLink",c.mc(67,Xt)),c.Bb(1),c.Ec(c.gc(45,63,"admin.Retour")),c.Bb(3),c.kc("disabled",i.myForm.invalid),c.Bb(1),c.Ec(c.gc(49,65,"admin.Enregistre"))}}let Wt=(()=>{class t{constructor(t,e,i,n,a){this.route=t,this.snack=e,this.uow=i,this.fb=n,this.session=a,this.o=new u.o,this.id=0,this.folderToSaveInServer="traite",this.conventionPieceTo=new b.a,this.conventionPieceFrom=new b.a,this.discoursTo=new b.a,this.discoursFrom=new b.a,this.observationPieceTo=new b.a,this.observationPieceFrom=new b.a,this.miseOeuvrePieceTo=new b.a,this.miseOeuvrePieceFrom=new b.a,this.analytiquePieceTo=new b.a,this.analytiquePieceFrom=new b.a,this.rapportParallelePieceTo=new b.a,this.rapportParallelePieceFrom=new b.a,this.eventSubmitFromParent=new b.a}ngOnInit(){this.createForm(),this.id=+this.route.snapshot.paramMap.get("id"),0!==this.id&&this.uow.traites.getOne(this.id).subscribe(t=>{this.o=t,console.log(this.o),this.createForm(),setTimeout(()=>{this.discoursTo.next(this.o.discours),this.rapportParallelePieceTo.next(this.o.rapportParallelePiece),this.conventionPieceTo.next(this.o.conventionPiece),this.observationPieceTo.next(this.o.observationPiece),this.miseOeuvrePieceTo.next(this.o.miseOeuvrePiece),this.analytiquePieceTo.next(this.o.analytiquePiece)},100)}),this.rapportParallelePieceFrom.subscribe(t=>this.myForm.get("rapportParallelePiece").setValue(t)),this.conventionPieceFrom.subscribe(t=>this.myForm.get("conventionPiece").setValue(t)),this.discoursFrom.subscribe(t=>this.myForm.get("discours").setValue(t)),this.observationPieceFrom.subscribe(t=>this.myForm.get("observationPiece").setValue(t)),this.miseOeuvrePieceFrom.subscribe(t=>this.myForm.get("miseOeuvrePiece").setValue(t)),this.analytiquePieceFrom.subscribe(t=>this.myForm.get("analytiquePiece").setValue(t))}createForm(){this.myForm=this.fb.group({id:this.o.id,nom:[this.o.nom,Ht.s.required],nomAr:[this.o.nomAr,Ht.s.required],discours:[this.o.discours],dateSignature:[this.o.dateSignature,Ht.s.required],dateRatification:[this.o.dateRatification,Ht.s.required],conventionPiece:[this.o.conventionPiece],observationPiece:[this.o.observationPiece],miseOeuvrePiece:[this.o.miseOeuvrePiece],analytiquePiece:[this.o.analytiquePiece],rapportParallelePiece:[this.o.rapportParallelePiece]})}submit(t){t.dateRatification=this.valideDate(t.dateRatification),t.dateSignature=this.valideDate(t.dateSignature),t.idUser=this.session.user.id,0===this.id?this.uow.traites.post(t).subscribe(t=>Object(o.a)(this,void 0,void 0,function*(){this.eventSubmitFromParent.next(!0),this.o=t})):this.uow.traites.put(t.id,t).subscribe(t=>Object(o.a)(this,void 0,void 0,function*(){this.eventSubmitFromParent.next(!0),new Date}))}reset(){this.o=new u.o,this.createForm()}valideDate(t){const e=(t=new Date(t)).getHours()-t.getTimezoneOffset()/60,i=(t.getHours()-t.getTimezoneOffset())%60;return t.setHours(e),t.setMinutes(i),t}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(a.a),c.Nb(Jt.a),c.Nb(p.a),c.Nb(Ht.d),c.Nb(K.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-update"]],decls:7,vars:7,consts:[[1,"host"],[3,"title"],[1,"example-stretched-tabs","mat-elevation-z4",2,"margin-top","15px"],[3,"label","disabled"],["matTabContent",""],[3,"formGroup"],[1,"myForm",2,"margin-top","15px","height","100%"],["appearance","fill",2,"width","100%"],["matInput","","rows","6","formControlName","nom","required",""],["matInput","","rows","6","formControlName","nomAr","required",""],[1,"inputs"],["appearance","fill"],["matInput","","formControlName","dateSignature",3,"matDatepicker"],["matSuffix","",3,"for"],["picker5",""],["matInput","","formControlName","dateRatification",3,"matDatepicker"],["picker0",""],[1,"row","justify-content-center",2,"margin-bottom","15px"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],[1,"actions"],["mat-button","","type","button",3,"routerLink"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Ob(1,"app-title",1),c.fc(2,"translate"),c.Tb(3,"mat-tab-group",2),c.Tb(4,"mat-tab",3),c.fc(5,"translate"),c.Bc(6,Kt,50,68,"ng-template",4),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(1),c.lc("title",c.gc(2,3,"admin.organe.Organesdetrait\xe9")),c.Bb(3),c.lc("label",c.gc(5,5,"admin.organe.update.Trait\xe9")),c.kc("disabled",!1))},directives:[W.a,Qt.c,Qt.a,Qt.b,Ht.t,Ht.n,Ht.h,Vt.c,Vt.f,At.b,Ht.c,Ht.m,Ht.g,Ht.r,zt.b,zt.d,Vt.g,zt.a,Gt.a,B.a,a.f],pipes:[st.c],styles:[".myForm[_ngcontent-%COMP%]{margin:0 15px}.myForm[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(20vw,1fr));grid-column-gap:6px;grid-row-gap:6px;align-items:center}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;margin:0 15px 15px 0}.host[_ngcontent-%COMP%]{margin:1em!important}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}.example-stretched-tabs[_ngcontent-%COMP%]{max-width:100%} .mat-tab-label.mat-tab-label-active.cdk-keyboard-focused:not(.mat-tab-disabled),  .mat-tab-label.mat-tab-label-active:not(.mat-tab-disabled){background-color:#dfdfdf;font-weight:700}  .mat-tab-body-content{height:calc(100vh - 210px)!important;overflow:auto}"]}),t})();const Yt=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Hb({type:t,selectors:[["app-rapport"]],decls:1,vars:0,template:function(t,e){1&t&&c.Ob(0,"router-outlet")},directives:[a.i],styles:[""]}),t})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:jt},{path:"update/:id",component:Wt}],canActivate:[i("xjdI").a]}];let Zt=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[a.h.forChild(Yt)],a.h]}),t})();var te=i("tk/3"),ee=i("2thQ"),ie=i("Dgsr"),ne=i("Fr4G"),ae=i("Ry++"),oe=i("gct3");let ce=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[n.c,Zt,te.c,ee.a,Ht.i,Ht.q,ie.a,ne.a,ae.a,st.b,oe.a]]}),t})()}}]);