!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[88],{94589:function(e,i,a){"use strict";a.d(i,{b:function(){return u}});var o=a(92935),r=a(35366),s=a(37112),l=a(36278),c=a(84369),m=function(){var e=function(){function e(n,i){t(this,e),this.dialogRef=n,this.data=i,this.model=""}return n(e,[{key:"ngOnInit",value:function(){this.model=this.data.model}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"onOkClick",value:function(){this.dialogRef.close("ok")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.so),r.Y36(o.WI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-delete"]],decls:15,vars:1,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["mat-button","","color","primary","type","button","cdkFocusInitial","",3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r.TgZ(2,"mat-toolbar",2),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r._UZ(5,"mat-divider"),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"div",4),r.TgZ(8,"p"),r._uU(9,"Voulez-vous vraiment supprimer?"),r.qZA(),r.qZA(),r.TgZ(10,"div",5),r.TgZ(11,"button",6),r.NdJ("click",function(){return e.onNoClick()}),r._uU(12,"Annuler"),r.qZA(),r.TgZ(13,"button",7),r.NdJ("click",function(){return e.onOkClick()}),r._uU(14,"Ok"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.hij("Suppression ",e.model," "))},directives:[o.uh,s.Ye,l.d,o.xY,o.H8,c.lW,o.ZT],styles:[".dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}"]}),e}(),u=function(){var e=function(){function e(n){t(this,e),this.dialog=n}return n(e,[{key:"openDialog",value:function(t){return this.dialog.open(m,{width:"750px",disableClose:!0,data:{model:t}}).afterClosed()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.uw))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},20707:function(e,i,a){"use strict";a.d(i,{r:function(){return c}});var o=a(35366),r=a(31496),s=a(36278),l=a(61116),c=function(){var e=function(){function e(n){t(this,e),this.mytranslate=n,this.title=""}return n(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.n))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-title"]],inputs:{title:"title"},decls:7,vars:4,consts:[[1,"d-flex","w-100","mb-3"],[3,"className"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"section",1),o.ALo(2,"async"),o.TgZ(3,"div"),o.TgZ(4,"h3"),o._uU(5),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6,"mat-divider")),2&t&&(o.xp6(1),o.Q6J("className","fr"===o.lcZ(2,2,e.mytranslate.lang)?"super-title border-left":"super-title border-right"),o.xp6(4),o.Oqu(e.title))},directives:[s.d],pipes:[l.Ov],styles:["section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}.border-left[_ngcontent-%COMP%]{border-left:10px solid #d17c36}.border-right[_ngcontent-%COMP%]{border-right:10px solid #d17c36}.super-title[_ngcontent-%COMP%]{height:45px}.super-title[_ngcontent-%COMP%], .super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#a19b9e;height:35px}.super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0;padding:0 5px}"]}),e}()},97866:function(e,n,i){"use strict";i.d(n,{i:function(){return l}});var a=i(57823),o=i(61116),r=i(42693),s=i(35366),l=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,a.R,r.JF]]}),e}()},14709:function(e,i,a){"use strict";a.r(i),a.d(i,{RecommendationModule:function(){return vt}});var o=a(61116),r=a(35366),s=a(18314),l=a(55959),c=a(63337),m=a(92572),u=a(31041),d=a(50545),p=a(31496),f=a(20707),g=a(22797),h=a(13070),Z=a(9550),v=a(13841),A=a(87064),y=a(38497),x=a(31906),b=a(58378),q=a(44689),O=a(5609),T=a(59241),w=a(36278),C=a(79961),_=a(84369),k=a(77307),J=a(47340),U=a(87672),N=a(40994),L=a(60649);function F(t,e){if(1&t&&(r.TgZ(0,"mat-option",21),r._uU(1),r.qZA()),2&t){var n=e.$implicit;r.Q6J("value",n),r.xp6(1),r.hij("",n.label," ")}}function Q(t,e){1&t&&r._UZ(0,"mat-spinner")}function S(t,e){if(1&t&&(r.TgZ(0,"div",22),r.YNc(1,Q,1,0,"mat-spinner",23),r.qZA()),2&t){var n=r.oxw();r.xp6(1),r.Q6J("ngIf",n.isLoadingResults)}}function P(t,e){1&t&&r._UZ(0,"th",24)}function I(t,e){if(1&t){var n=r.EpF();r.TgZ(0,"td",25),r.TgZ(1,"mat-checkbox",26),r.NdJ("change",function(t){var e=r.CHM(n).$implicit,i=r.oxw();return t?i.check(e):null})("click",function(t){return t.stopPropagation()}),r.qZA(),r.qZA()}if(2&t){var i=e.$implicit,a=r.oxw();r.xp6(1),r.Q6J("checked",a.isSelected(i))("aria-label",a.checkboxLabel(i))("disabled",!a.isAdmin)}}function Y(t,e){1&t&&(r.TgZ(0,"th",27),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.recommandation.update.ORGANISMES")))}function M(t,e){if(1&t&&(r.TgZ(0,"td",25),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw();r.xp6(1),r.Oqu(n[i.columnDefs[1].columnDef])}}function D(t,e){1&t&&r._UZ(0,"th",27)}function R(t,e){1&t&&r._UZ(0,"td",25)}function E(t,e){1&t&&r._UZ(0,"tr",28)}function B(t,e){1&t&&r._UZ(0,"tr",29)}var $=function(){return[2,5,25,50,100,250]},V=function(){var e=function(){function e(n,i){t(this,e),this.uow=n,this.session=i,this.eventToParent=new r.vpe,this.selectedList=[],this.listFromParent=new r.vpe,this.update=new r.vpe,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.dataSource=[],this.columnDefs=[{columnDef:"select",headName:"select"},{columnDef:"label",headName:"ORGANISMES"},{columnDef:"adresse",headName:"ADRESSE"}],this.displayedColumns=this.columnDefs.map(function(t){return t.columnDef}),this.selection=new b.Ov(!0,[]),this.myAuto=new u.NI(""),this.idOrganisme=0}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.listFromParent.subscribe(function(e){t.selectedList=e,t.selectedList.forEach(function(e){t.selection.select(e)})}),this.getPage(0,10,"id","desc",this.idOrganisme),(0,x.T)(this.sort.sortChange,this.paginator.page,this.update).subscribe(function(e){!0===e?t.paginator.pageIndex=0:e=e,t.paginator.pageSize?e=e:t.paginator.pageSize=10;var n=t.paginator.pageIndex*t.paginator.pageSize;t.isLoadingResults=!0,t.getPage(n,t.paginator.pageSize,t.sort.active?t.sort.active:"id",t.sort.direction?t.sort.direction:"desc",t.idOrganisme)}),this.autoComplete()}},{key:"isAdmin",get:function(){return this.session.isAdmin}},{key:"autoComplete",value:function(){var t=this;this.filteredOptions=this.myAuto.valueChanges.pipe((0,q.w)(function(e){return e.length>1?t.uow.organismes.autocompletePost("label",e):[]}))}},{key:"selected",value:function(t){this.idOrganisme=t.option.value.id,this.update.next(!0)}},{key:"clear",value:function(){this.myAuto.setValue({label:""}),this.idOrganisme=0,this.update.next(!0)}},{key:"getPage",value:function(t,e,n,i,a){var o=this;this.uow.organismes.getAll(t,e,n,i,a,"*").subscribe(function(t){o.dataSource=t.list,o.resultsLength=t.count,o.isLoadingResults=!1})}},{key:"isSelected",value:function(t){return!!this.selectedList.find(function(e){return e.id===t.id})}},{key:"check",value:function(t){var e=this.selectedList.findIndex(function(e){return t.id===e.id});-1!==e?this.selectedList.splice(e,1):this.selectedList.push(t),this.eventToParent.next(this.selectedList)}},{key:"isAllSelected",value:function(){return this.selection.selected.length===this.paginator.pageSize}},{key:"masterToggle",value:function(){var t=this;this.isAllSelected()?this.selection.clear():this.dataSource.forEach(function(e){return t.selection.select(e)})}},{key:"checkboxLabel",value:function(t){return t?"".concat(this.selectedList.find(function(e){return e.id===t.id})?"deselect":"select"," row ").concat(t.id):(this.isAllSelected()?"select":"deselect")+" all"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(m.Z),r.Y36(d.m))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-organismes"]],viewQuery:function(t,e){var n;(1&t&&(r.Gf(O.NW,7),r.Gf(T.YE,7)),2&t)&&(r.iGM(n=r.CRH())&&(e.paginator=n.first),r.iGM(n=r.CRH())&&(e.sort=n.first))},inputs:{selectedList:"selectedList",listFromParent:"listFromParent"},outputs:{eventToParent:"eventToParent"},decls:32,vars:18,consts:[[1,"filter"],["appearance","fill",1,"col-md-6","mt-3"],["matInput","","placeholder","auto compl\xe9tion",3,"formControl","value","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",3,"click"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],["matColumnDef","select",2,"width","10px"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],[3,"value"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[3,"checked","aria-label","disabled","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(r._UZ(0,"mat-divider"),r.TgZ(1,"div",0),r.TgZ(2,"mat-form-field",1),r.TgZ(3,"mat-label"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r._UZ(6,"input",2),r.TgZ(7,"mat-autocomplete",3,4),r.NdJ("optionSelected",function(t){return e.selected(t)}),r.YNc(9,F,2,2,"mat-option",5),r.ALo(10,"async"),r.qZA(),r.TgZ(11,"button",6),r.NdJ("click",function(){return e.clear()}),r.TgZ(12,"mat-icon"),r._uU(13,"clear"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",7),r.YNc(15,S,2,1,"div",8),r.TgZ(16,"div",9),r.TgZ(17,"table",10,11),r.ynx(19,12),r.YNc(20,P,1,0,"th",13),r.YNc(21,I,2,3,"td",14),r.BQk(),r.ynx(22,15),r.YNc(23,Y,3,3,"th",16),r.YNc(24,M,2,1,"td",14),r.BQk(),r.ynx(25,15),r.YNc(26,D,1,0,"th",16),r.YNc(27,R,1,0,"td",14),r.BQk(),r.YNc(28,E,1,0,"tr",17),r.YNc(29,B,1,0,"tr",18),r.qZA(),r.qZA(),r._UZ(30,"mat-paginator",19,20),r.qZA()),2&t){var n=r.MAs(8);r.xp6(4),r.Oqu(r.lcZ(5,13,"admin.recommandation.update.Organisme")),r.xp6(2),r.Q6J("formControl",e.myAuto)("value",e.myAuto.value.label)("matAutocomplete",n),r.xp6(3),r.Q6J("ngForOf",r.lcZ(10,15,e.filteredOptions)),r.xp6(6),r.Q6J("ngIf",e.isLoadingResults),r.xp6(2),r.Q6J("dataSource",e.dataSource),r.xp6(5),r.Q6J("matColumnDef",e.columnDefs[1].columnDef),r.xp6(3),r.Q6J("matColumnDef",e.columnDefs[2].columnDef),r.xp6(3),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("length",e.resultsLength)("pageSizeOptions",r.DdM(17,$))}},directives:[w.d,h.KE,h.hX,Z.Nt,u.Fj,C.ZL,u.JJ,u.oH,C.XC,o.sg,_.lW,h.R9,k.Hw,o.O5,J.BZ,T.YE,J.w1,J.fO,J.Dz,J.as,J.nj,O.NW,A.ey,U.$g,J.ge,J.ev,N.oG,T.nU,J.XQ,J.Gk],pipes:[L.X$,o.Ov],styles:["h3{margin:0!important}.host[_ngcontent-%COMP%]{margin:1em!important}  mat-checkbox label{margin-top:7px}tr[_ngcontent-%COMP%]:hover{cursor:pointer}.filter[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;width:100%}"]}),e}();function z(t,e){if(1&t&&(r.TgZ(0,"mat-option",40),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw();r.Q6J("value",n.name),r.xp6(1),r.Oqu("fr"===i.mytranslate.langSync?n.name:n.nameAr)}}function X(t,e){if(1&t&&(r.TgZ(0,"mat-option",40),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw(2);r.Q6J("value",n.id),r.xp6(1),r.Oqu("fr"===i.mytranslate.langSync?n.label:n.labelAr)}}function j(t,e){if(1&t&&(r.TgZ(0,"mat-form-field",14),r.TgZ(1,"mat-label"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"mat-select",41),r.TgZ(5,"mat-option",16),r._uU(6,"..."),r.qZA(),r.YNc(7,X,2,2,"mat-option",17),r.ALo(8,"async"),r.qZA(),r.qZA()),2&t){var n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"admin.recommandation.update.Cycle")),r.xp6(2),r.Q6J("disabled",!n.isAdmin),r.xp6(3),r.Q6J("ngForOf",r.lcZ(8,5,n.cycles))}}function G(t,e){if(1&t&&(r.TgZ(0,"mat-option",40),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw(2);r.Q6J("value",n.id),r.xp6(1),r.Oqu("fr"===i.mytranslate.langSync?n.mandat:n.mandatAr)}}function H(t,e){if(1&t&&(r.TgZ(0,"mat-form-field",14),r.TgZ(1,"mat-label"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"mat-select",42),r.TgZ(5,"mat-option",16),r._uU(6,"..."),r.qZA(),r.YNc(7,G,2,2,"mat-option",17),r.ALo(8,"async"),r.qZA(),r.qZA()),2&t){var n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"admin.recommandation.update.Visite")),r.xp6(2),r.Q6J("disabled",!n.isAdmin),r.xp6(3),r.Q6J("ngForOf",r.lcZ(8,5,n.visites))}}function W(t,e){if(1&t&&(r.TgZ(0,"mat-option",40),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw(2);r.Q6J("value",n.id),r.xp6(1),r.Oqu("fr"===i.mytranslate.langSync?n.label:n.labelAr)}}function K(t,e){if(1&t&&(r.TgZ(0,"mat-form-field",14),r.TgZ(1,"mat-label"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"mat-select",43),r.TgZ(5,"mat-option",16),r._uU(6,"..."),r.qZA(),r.YNc(7,W,2,2,"mat-option",17),r.ALo(8,"async"),r.qZA(),r.qZA()),2&t){var n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,3,"admin.recommandation.update.Organe")),r.xp6(2),r.Q6J("disabled",!n.isAdmin),r.xp6(3),r.Q6J("ngForOf",r.lcZ(8,5,n.organes))}}function tt(t,e){if(1&t&&(r.TgZ(0,"mat-option",40),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw();r.Q6J("value",n.id),r.xp6(1),r.hij("","fr"===i.mytranslate.langSync?n.label:n.labelAr," ")}}function et(t,e){if(1&t&&(r.TgZ(0,"mat-option",40),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw(2);r.Q6J("value",n.id),r.xp6(1),r.hij(" ","fr"===i.mytranslate.langSync?n.label:n.labelAr," ")}}function nt(t,e){if(1&t&&(r.TgZ(0,"mat-optgroup",44),r.YNc(1,et,2,2,"mat-option",17),r.qZA()),2&t){var n=e.$implicit,i=r.oxw();r.Q6J("label","fr"===i.mytranslate.langSync?n.label:n.labelAr),r.xp6(1),r.Q6J("ngForOf",n.sousAxes)}}function it(t,e){if(1&t&&(r.TgZ(0,"mat-option",40),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw();r.Q6J("value",n.id),r.xp6(1),r.Oqu("fr"===i.mytranslate.langSync?n.nom:n.nomAr)}}function at(t,e){if(1&t&&(r.TgZ(0,"mat-option",40),r._uU(1),r.qZA()),2&t){var n=e.$implicit,i=r.oxw();r.Q6J("value",n.name),r.xp6(1),r.Oqu("fr"===i.mytranslate.langSync?n.name:n.nameAr)}}function ot(t,e){if(1&t&&(r.TgZ(0,"mat-form-field",33),r.TgZ(1,"mat-label"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r._UZ(4,"textarea",45),r.qZA()),2&t){var n=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,2,"admin.recommandation.update.Etatdavancement")),r.xp6(2),r.Q6J("readonly",!n.isAdmin)}}var rt,st=function(){return["/admin/recommendation/list"]},lt=function(){var e=function(){function e(n,i,a,o,c,m){t(this,e),this.route=n,this.router=i,this.uow=a,this.fb=o,this.session=c,this.mytranslate=m,this.eventToChild=new r.vpe,this.organismes=this.uow.organismes.get(),this.axes=this.uow.axes.get(),this.mecanismes=this.uow.mecanismes,this.etats=this.uow.etats,this.cycles=this.uow.cycles.get(),this.visites=this.uow.visites.get(),this.organes=this.uow.organes.get(),this.pays=this.uow.pays.get(),this.sousAxes=[],this.folderToSaveInServer="recommandation",this.pieceJointeTo=new l.xQ,this.pieceJointeFrom=new l.xQ,this.eventSubmitFromParent=new l.xQ,this.o=new s.BW,this.id=0,this.title="Nouveau utilisateur",this.listOrganisme=[]}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.createForm(),this.stringArray(),this.pieceJointeFrom.subscribe(function(e){return t.myForm.get("pieceJointe").setValue(e)}),setTimeout(function(){return t.pieceJointeTo.next(t.o.pieceJointe)},100),this.id=+this.route.snapshot.paramMap.get("id"),0!==this.id&&this.uow.recommendations.getOne(this.id).subscribe(function(e){t.o=e,t.handleEtatAvancementChiffre(t.o.etat),t.o.recomOrgs.forEach(function(e){t.listOrganisme.push({id:e.idOrganisme})}),t.eventToChild.emit(t.listOrganisme),t.createForm(),t.stringArray()})}},{key:"stringArray",value:function(){this.myForm.get("axes").setValue(this.check(this.o.axes)),this.myForm.get("sousAxes").setValue(this.check(this.o.sousAxes))}},{key:"check",value:function(t){return t&&""!==t?t.includes("[")?JSON.parse(t):[+t]:[]}},{key:"isAdmin",get:function(){return this.session.isAdmin}},{key:"showEtatDavancement",get:function(){return!(!this.myForm.get("etat").value.includes("cour")&&!this.myForm.get("etat").value.includes("continue"))}},{key:"createForm",value:function(){this.myForm=this.fb.group({id:this.o.id,codeRecommendation:[this.o.codeRecommendation],nom:[this.o.nom],codeRecommendationAr:[this.o.codeRecommendationAr],nomAr:[this.o.nomAr],mecanisme:[this.o.mecanisme],idVisite:[this.o.idVisite],idOrgane:[this.o.idOrgane],idCycle:[this.o.idCycle],axes:[this.o.axes],sousAxes:[this.o.sousAxes],etat:[this.o.etat],etatAvancement:[this.o.etatAvancement],etatAvancementChiffre:[this.o.etatAvancementChiffre],observation:[this.o.observation],complement:[this.o.complement],pieceJointe:[this.o.pieceJointe],idPays:[this.o.idPays],annee:[this.o.annee],anneeDisplay:[this.o.anneeDisplay],anneeDisplayAr:[this.o.anneeDisplayAr]})}},{key:"mecanisme",get:function(){return this.myForm.get("mecanisme")}},{key:"idVisite",get:function(){return this.myForm.get("idVisite")}},{key:"idCycle",get:function(){return this.myForm.get("idCycle")}},{key:"idOrgane",get:function(){return this.myForm.get("idOrgane")}},{key:"cycleActive",get:function(){return"Examen p\xe9riodique universal"===this.mecanisme.value}},{key:"visiteActive",get:function(){return"Proc\xe9dure sp\xe9ciale"===this.mecanisme.value}},{key:"organeActive",get:function(){return"Organes de trait\xe9s"===this.mecanisme.value}},{key:"submit",value:function(t){var e=this;t.axes=JSON.stringify(t.axes),t.sousAxes=JSON.stringify(t.sousAxes),0===this.id?this.uow.recommendations.post(t).subscribe(function(t){var n=[];e.listOrganisme.map(function(e){n.push({idOrganisme:e.id,idRecommendation:t.id,date:new Date})}),e.uow.recomOrgs.postRange(n).subscribe(function(t){e.router.navigateByUrl("/admin/recommendation/list"),e.eventSubmitFromParent.next(!0)})}):this.uow.recommendations.put(t.id,t).subscribe(function(t){var n=[];e.listOrganisme.map(function(t){n.push({idOrganisme:t.id,idRecommendation:e.o.id,date:new Date})}),e.uow.recomOrgs.putRange(e.o.recomOrgs,n).subscribe(function(t){e.router.navigateByUrl("/admin/recommendation/list"),e.eventSubmitFromParent.next(!0)})})}},{key:"axeChange",value:function(t){var e=this;this.uow.sousAxes.getByIdAxe(t).subscribe(function(t){e.sousAxes=t})}},{key:"etat",value:function(t){this.handleEtatAvancementChiffre(t)}},{key:"handleEtatAvancementChiffre",value:function(t){var e=this.myForm.get("etatAvancementChiffre").value;t.includes("R\xe9alis\xe9")?e=100:t.includes("Non")?e=0:t.includes("cours")?(e=e>5?e:5,this.myForm.get("etatAvancementChiffre").enable()):this.myForm.get("etatAvancementChiffre").enable(),this.myForm.get("etatAvancementChiffre").setValue(e)}},{key:"selectChange",value:function(t){this.idVisite.setValue(null),this.idCycle.setValue(null),this.idOrgane.setValue(null)}},{key:"updateListOrganisme",value:function(t){this.listOrganisme=t;var e=0,n=!0;this.listOrganisme=this.listOrganisme.filter(function(t){return t.id===e&&(n=!1),e=t.id,n})}},{key:"reset",value:function(){this.o=new s.BW,this.createForm()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(c.gz),r.Y36(c.F0),r.Y36(m.Z),r.Y36(u.qu),r.Y36(d.m),r.Y36(p.n))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-update"]],decls:119,vars:94,consts:[[1,"host"],[3,"title"],[1,""],[3,"formGroup"],[2,"margin-top","15px"],[1,"input"],["appearance","fill",2,"width","20%"],["matInput","","formControlName","codeRecommendation","required","",3,"readonly"],[2,"margin","0 1%"],["appearance","fill",2,"width","78%"],["matInput","","formControlName","nom","required","",3,"readonly"],["matInput","","formControlName","codeRecommendationAr","required","",3,"readonly"],["matInput","","formControlName","nomAr","required","",3,"readonly"],[1,"inputs2"],["appearance","fill"],["formControlName","mecanisme",3,"disabled","selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",4,"ngIf"],["formControlName","axes","multiple",""],["formControlName","sousAxes","multiple",""],["value",""],[3,"label",4,"ngFor","ngForOf"],["appearance","fill",2,"width","48%"],["formControlName","idPays",3,"disabled"],["appearance","fill",2,"width","10%"],["type","number","min","0","matInput","","formControlName","annee",3,"readonly"],["appearance","fill",2,"width","18%"],["type","text","matInput","","formControlName","anneeDisplay",3,"readonly"],["type","text","matInput","","formControlName","anneeDisplayAr",3,"readonly"],["formControlName","etat",3,"disabled","selectionChange"],["matInput","","formControlName","etatAvancementChiffre","type","number","min","0","max","100","required",""],["appearance","fill","style","width: 100%;",4,"ngIf"],["appearance","fill",2,"width","100%"],["matInput","","rows","0","formControlName","complement",3,"readonly"],[3,"disabled","nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],[3,"listFromParent","eventToParent"],[1,"actions"],["mat-button","","type","button",3,"routerLink"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"],[3,"value"],["formControlName","idCycle",3,"disabled"],["formControlName","idVisite",3,"disabled"],["formControlName","idOrgane",3,"disabled"],[3,"label"],["matInput","","rows","0","formControlName","etatAvancement",3,"readonly"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-title",1),r.ALo(2,"translate"),r.TgZ(3,"div",2),r.TgZ(4,"form",3),r.TgZ(5,"mat-card",4),r.TgZ(6,"div",5),r.TgZ(7,"mat-form-field",6),r.TgZ(8,"mat-label"),r._uU(9),r.ALo(10,"translate"),r.qZA(),r._UZ(11,"input",7),r.qZA(),r._UZ(12,"span",8),r.TgZ(13,"mat-form-field",9),r.TgZ(14,"mat-label"),r._uU(15),r.ALo(16,"translate"),r.qZA(),r._UZ(17,"input",10),r.qZA(),r.qZA(),r.TgZ(18,"div",5),r.TgZ(19,"mat-form-field",6),r.TgZ(20,"mat-label"),r._uU(21),r.ALo(22,"translate"),r.qZA(),r._UZ(23,"input",11),r.qZA(),r._UZ(24,"span",8),r.TgZ(25,"mat-form-field",9),r.TgZ(26,"mat-label"),r._uU(27),r.ALo(28,"translate"),r.qZA(),r._UZ(29,"input",12),r.qZA(),r.qZA(),r.TgZ(30,"div",13),r.TgZ(31,"mat-form-field",14),r.TgZ(32,"mat-label"),r._uU(33),r.ALo(34,"translate"),r.qZA(),r.TgZ(35,"mat-select",15),r.NdJ("selectionChange",function(t){return e.selectChange(t.value)}),r.TgZ(36,"mat-option",16),r._uU(37,"..."),r.qZA(),r.YNc(38,z,2,2,"mat-option",17),r.ALo(39,"async"),r.qZA(),r.qZA(),r.YNc(40,j,9,7,"mat-form-field",18),r.YNc(41,H,9,7,"mat-form-field",18),r.YNc(42,K,9,7,"mat-form-field",18),r.qZA(),r.TgZ(43,"div",13),r.TgZ(44,"mat-form-field",14),r.TgZ(45,"mat-label"),r._uU(46),r.ALo(47,"translate"),r.qZA(),r.TgZ(48,"mat-select",19),r.YNc(49,tt,2,2,"mat-option",17),r.ALo(50,"async"),r.qZA(),r.qZA(),r.TgZ(51,"mat-form-field",14),r.TgZ(52,"mat-label"),r._uU(53),r.ALo(54,"translate"),r.qZA(),r.TgZ(55,"mat-select",20),r.TgZ(56,"mat-option",21),r._uU(57,"-- ... --"),r.qZA(),r.YNc(58,nt,2,2,"mat-optgroup",22),r.ALo(59,"async"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(60,"mat-form-field",23),r.TgZ(61,"mat-label"),r._uU(62),r.ALo(63,"translate"),r.qZA(),r.TgZ(64,"mat-select",24),r.TgZ(65,"mat-option",16),r._uU(66,"..."),r.qZA(),r.YNc(67,it,2,2,"mat-option",17),r.ALo(68,"async"),r.qZA(),r.qZA(),r._UZ(69,"span",8),r.TgZ(70,"mat-form-field",25),r.TgZ(71,"mat-label"),r._uU(72),r.ALo(73,"translate"),r.qZA(),r._UZ(74,"input",26),r.qZA(),r._UZ(75,"span",8),r.TgZ(76,"mat-form-field",27),r.TgZ(77,"mat-label"),r._uU(78),r.ALo(79,"translate"),r.qZA(),r._UZ(80,"input",28),r.qZA(),r._UZ(81,"span",8),r.TgZ(82,"mat-form-field",27),r.TgZ(83,"mat-label"),r._uU(84),r.ALo(85,"translate"),r.qZA(),r._UZ(86,"input",29),r.qZA(),r.TgZ(87,"mat-form-field",9),r.TgZ(88,"mat-label"),r._uU(89),r.ALo(90,"translate"),r.qZA(),r.TgZ(91,"mat-select",30),r.NdJ("selectionChange",function(t){return e.etat(t.value)}),r.TgZ(92,"mat-option",21),r._uU(93,"..."),r.qZA(),r.YNc(94,at,2,2,"mat-option",17),r.ALo(95,"async"),r.qZA(),r.qZA(),r._UZ(96,"span",8),r.TgZ(97,"mat-form-field",6),r.TgZ(98,"mat-label"),r._uU(99),r.ALo(100,"translate"),r.qZA(),r._UZ(101,"input",31),r.qZA(),r.YNc(102,ot,5,4,"mat-form-field",32),r.TgZ(103,"mat-form-field",33),r.TgZ(104,"mat-label"),r._uU(105),r.ALo(106,"translate"),r.qZA(),r._UZ(107,"textarea",34),r.qZA(),r._UZ(108,"app-upload",35),r.ALo(109,"translate"),r.qZA(),r.qZA(),r.TgZ(110,"app-organismes",36),r.NdJ("eventToParent",function(t){return e.updateListOrganisme(t)}),r.qZA(),r.TgZ(111,"div",37),r.TgZ(112,"button",38),r._uU(113),r.ALo(114,"translate"),r.qZA(),r._uU(115,"\xa0\xa0 "),r.TgZ(116,"button",39),r.NdJ("click",function(){return e.submit(e.myForm.value)}),r._uU(117),r.ALo(118,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.s9C("title",r.lcZ(2,47,"admin.recommandation.list.Recommandation")),r.xp6(3),r.Q6J("formGroup",e.myForm),r.xp6(5),r.Oqu(r.lcZ(10,49,"admin.recommandation.list.code")),r.xp6(2),r.Q6J("readonly",!e.isAdmin),r.xp6(4),r.Oqu(r.lcZ(16,51,"admin.recommandation.list.nom")),r.xp6(2),r.Q6J("readonly",!e.isAdmin),r.xp6(4),r.Oqu(r.lcZ(22,53,"admin.recommandation.list.codeAr")),r.xp6(2),r.Q6J("readonly",!e.isAdmin),r.xp6(4),r.Oqu(r.lcZ(28,55,"admin.recommandation.list.nomAr")),r.xp6(2),r.Q6J("readonly",!e.isAdmin),r.xp6(4),r.Oqu(r.lcZ(34,57,"admin.recommandation.list.mecanisme")),r.xp6(2),r.Q6J("disabled",!e.isAdmin),r.xp6(3),r.Q6J("ngForOf",r.lcZ(39,59,e.mecanismes)),r.xp6(2),r.Q6J("ngIf",e.cycleActive),r.xp6(1),r.Q6J("ngIf",e.visiteActive),r.xp6(1),r.Q6J("ngIf",e.organeActive),r.xp6(4),r.Oqu(r.lcZ(47,61,"admin.recommandation.list.Axe")),r.xp6(3),r.Q6J("ngForOf",r.lcZ(50,63,e.axes)),r.xp6(4),r.Oqu(r.lcZ(54,65,"admin.recommandation.list.Sousaxe")),r.xp6(5),r.Q6J("ngForOf",r.lcZ(59,67,e.axes)),r.xp6(4),r.Oqu(r.lcZ(63,69,"admin.recommandation.update.Pays")),r.xp6(2),r.Q6J("disabled",!e.isAdmin),r.xp6(3),r.Q6J("ngForOf",r.lcZ(68,71,e.pays)),r.xp6(5),r.Oqu(r.lcZ(73,73,"admin.recommandation.update.Annee")),r.xp6(2),r.Q6J("readonly",!e.isAdmin),r.xp6(4),r.Oqu(r.lcZ(79,75,"admin.recommandation.update.AnneeDisplay")),r.xp6(2),r.Q6J("readonly",!e.isAdmin),r.xp6(4),r.Oqu(r.lcZ(85,77,"admin.recommandation.update.AnneeDisplayAr")),r.xp6(2),r.Q6J("readonly",!e.isAdmin),r.xp6(3),r.Oqu(r.lcZ(90,79,"admin.recommandation.list.Etatdemisenoeuvre")),r.xp6(2),r.Q6J("disabled",!e.isAdmin),r.xp6(3),r.Q6J("ngForOf",r.lcZ(95,81,e.etats)),r.xp6(5),r.Oqu(r.lcZ(100,83,"admin.recommandation.update.Etaten")),r.xp6(3),r.Q6J("ngIf",e.showEtatDavancement),r.xp6(3),r.Oqu(r.lcZ(106,85,"admin.recommandation.list.complement")),r.xp6(2),r.Q6J("readonly",!e.isAdmin),r.xp6(1),r.s9C("nameBtn",r.lcZ(109,87,"admin.recommandation.list.OBSERVATIONS")),r.Q6J("disabled",!e.isAdmin)("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.pieceJointeTo)("eventSubmitToParent",e.pieceJointeFrom)("eventSubmitFromParent",e.eventSubmitFromParent),r.xp6(2),r.Q6J("listFromParent",e.eventToChild),r.xp6(2),r.Q6J("routerLink",r.DdM(93,st)),r.xp6(1),r.Oqu(r.lcZ(114,89,"admin.Retour")),r.xp6(3),r.Q6J("disabled",e.myForm.invalid||!e.isAdmin),r.xp6(1),r.Oqu(r.lcZ(118,91,"admin.Enregistre")))},directives:[f.r,u._Y,u.JL,u.sg,g.a8,h.KE,h.hX,Z.Nt,u.Fj,u.JJ,u.u,u.Q7,v.gD,A.ey,o.sg,o.O5,u.qQ,u.wV,u.Fd,y.o,V,_.lW,c.rH,A.Nv],pipes:[L.X$,o.Ov],styles:["mat-card[_ngcontent-%COMP%]{margin:0 15px}mat-card[_ngcontent-%COMP%]   .inputs2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(25vw,1fr));grid-column-gap:6px;grid-row-gap:6px;align-items:center}.actions[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex}.actions[_ngcontent-%COMP%]{flex-direction:row-reverse;margin:30px 0}.host[_ngcontent-%COMP%]{margin:1em!important}"]}),e}(),ct=a(46475),mt=function(){var e=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-recommendation"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:[c.lC],styles:[""]}),e}(),ut=a(46589),dt=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:mt,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:ct.n},{path:"update/:id",component:lt}],canActivate:[ut.l]}],pt=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[c.Bz.forChild(dt)],c.Bz]}),e}(),ft=a(42693),gt=a(57823),ht=a(97866),Zt=a(15675),vt=((rt=function e(){t(this,e)}).\u0275fac=function(t){return new(t||rt)},rt.\u0275mod=r.oAB({type:rt}),rt.\u0275inj=r.cJS({imports:[[L.aw,o.ez,pt,ft.JF,gt.R,u.u5,u.UX,ht.i,Zt.f]]}),rt)},12996:function(e,i,a){"use strict";a.d(i,{x:function(){return p}});var o=a(64762),r=a(34411),s=a(35366),l=a(85078),c=a(61116),m=a(87064);function u(t,e){if(1&t){var n=s.EpF();s.TgZ(0,"a",2),s.NdJ("click",function(){s.CHM(n);var t=s.oxw().$implicit;return s.oxw().openLink(t)}),s.TgZ(1,"span",3),s._uU(2),s.qZA(),s.qZA()}if(2&t){var i=s.oxw().$implicit;s.xp6(2),s.hij("- ",i.substring(14,i.length-1),"")}}function d(t,e){if(1&t&&(s.TgZ(0,"div"),s.YNc(1,u,3,1,"a",1),s.qZA()),2&t){var n=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",i.show(n))}}var p=function(){var e=function(){function e(n,i,a){t(this,e),this.bottomSheetRef=n,this.data=i,this.url=a,this.list=[],this.folder=""}return n(e,[{key:"ngOnInit",value:function(){if(this.data.fileName){var t=this.data.fileName.split(";");t.pop(),this.folder=this.data.folder,this.list=t}}},{key:"openLink",value:function(t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=+t.substring(t.length-1,t.length),t=isNaN(n)?t:t.substring(0,t.length-1),window.open("".concat(this.url,"/").concat(this.folder,"/").concat(t));case 2:case"end":return e.stop()}},e,this)}))}},{key:"show",value:function(t){if(""===t)return!1;var e=+t.substring(t.length-1,t.length);return!!isNaN(e)||1===e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.oL),s.Y36(r.OG),s.Y36("BASE_URL"))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-download-sheet"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(s.TgZ(0,"mat-nav-list"),s.YNc(1,d,2,1,"div",0),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",e.list))},directives:[l.Hk,c.sg,c.O5,l.Tg,m.X2],styles:[""]}),e}()}}])}();