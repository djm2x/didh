(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[728],{40728:function(t,e,i){"use strict";i.r(e),i.d(e,{ExamenModule:function(){return Ft}});var n=i(61116),o=i(63337),a=i(64762),s=i(18314),r=i(35366),l=i(55959),c=i(31906),p=i(92935),u=i(31041),m=i(92572),d=i(37112),g=i(36278),h=i(13070),f=i(9550),Z=i(68085),x=i(84369),b=i(60649);let T=(()=>{class t{constructor(t,e,i,n){this.dialogRef=t,this.data=e,this.fb=i,this.uow=n,this.title="",this.folderToSaveInServer="examen",this.rapportMiParcoursTo=new l.xQ,this.rapportMiParcoursFrom=new l.xQ,this.discoursTo=new l.xQ,this.discoursFrom=new l.xQ,this.compilationHCDHTo=new l.xQ,this.compilationHCDHFrom=new l.xQ,this.observationFinaleTo=new l.xQ,this.observationFinaleFrom=new l.xQ,this.rapportNationalTo=new l.xQ,this.rapportNationalFrom=new l.xQ,this.miseOeuvrePieceTo=new l.xQ,this.miseOeuvrePieceFrom=new l.xQ,this.rapportINDHTo=new l.xQ,this.rapportINDHFrom=new l.xQ,this.eventSubmitFromParent=new l.xQ}ngOnInit(){this.o=this.data.model,this.title=this.data.title,this.createForm(),this.rapportNationalFrom.subscribe(t=>this.myForm.get("rapportNational").setValue(t)),this.compilationHCDHFrom.subscribe(t=>this.myForm.get("compilationHCDH").setValue(t)),this.observationFinaleFrom.subscribe(t=>this.myForm.get("observationFinale").setValue(t)),this.discoursFrom.subscribe(t=>this.myForm.get("discours").setValue(t)),this.rapportMiParcoursFrom.subscribe(t=>this.myForm.get("rapportMiParcours").setValue(t)),this.miseOeuvrePieceFrom.subscribe(t=>this.myForm.get("miseOeuvrePiece").setValue(t)),this.rapportINDHFrom.subscribe(t=>this.myForm.get("rapportINDH").setValue(t)),setTimeout(()=>{this.miseOeuvrePieceTo.next(this.o.miseOeuvrePiece),this.rapportNationalTo.next(this.o.rapportNational),this.compilationHCDHTo.next(this.o.compilationHCDH),this.observationFinaleTo.next(this.o.observationFinale),this.rapportMiParcoursTo.next(this.o.rapportMiParcours),this.discoursTo.next(this.o.discours),this.rapportINDHTo.next(this.o.rapportINDH)},100)}createForm(){this.myForm=this.fb.group({id:this.o.id,libelle:[this.o.libelle,u.kI.required],libelleAr:[this.o.libelleAr,u.kI.required],rapportNational:[this.o.rapportNational],discours:[this.o.discours],compilationHCDH:[this.o.compilationHCDH],observationFinale:[this.o.observationFinale],rapportMiParcours:[this.o.rapportMiParcours],miseOeuvrePiece:[this.o.miseOeuvrePiece],rapportINDH:[this.o.rapportINDH]})}onNoClick(){this.dialogRef.close()}onOkClick(t){this.submit(t)}submit(t){0===this.o.id?this.uow.examens.post(t).subscribe(t=>(0,a.mG)(this,void 0,void 0,function*(){this.eventSubmitFromParent.next(!0),this.dialogRef.close(!0)})):this.uow.examens.put(t.id,t).subscribe(t=>(0,a.mG)(this,void 0,void 0,function*(){this.eventSubmitFromParent.next(!0),this.dialogRef.close(!0)}))}openInput(t){t.click()}resetForm(){this.o=new s.X_,this.createForm()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(p.so),r.Y36(p.WI),r.Y36(u.qu),r.Y36(m.Z))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-update"]],decls:42,vars:64,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","libelle","required",""],["matInput","","formControlName","libelleAr","required",""],[1,"row","justify-content-center",2,"margin-bottom","15px"],[3,"nameBtn","folderToSaveInServer","propertyOfParent","eventSubmitToParent","eventSubmitFromParent"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r.TgZ(2,"mat-toolbar",2),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r._UZ(5,"mat-divider"),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"div",4),r.TgZ(8,"form",5),r.TgZ(9,"mat-form-field",6),r.TgZ(10,"mat-label"),r._uU(11),r.ALo(12,"translate"),r.qZA(),r._UZ(13,"input",7),r.qZA(),r.TgZ(14,"mat-form-field",6),r.TgZ(15,"mat-label"),r._uU(16),r.ALo(17,"translate"),r.qZA(),r._UZ(18,"input",8),r.qZA(),r.TgZ(19,"div",9),r._UZ(20,"app-upload-select",10),r.ALo(21,"translate"),r._UZ(22,"app-upload-select",10),r.ALo(23,"translate"),r._UZ(24,"app-upload-select",10),r.ALo(25,"translate"),r._UZ(26,"app-upload-select",10),r.ALo(27,"translate"),r._UZ(28,"app-upload-select",10),r.ALo(29,"translate"),r._UZ(30,"app-upload-select",10),r.ALo(31,"translate"),r._UZ(32,"app-upload-select",10),r.ALo(33,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(34,"div",11),r.TgZ(35,"button",12),r.NdJ("click",function(){return e.onNoClick()}),r._uU(36),r.ALo(37,"translate"),r.qZA(),r._uU(38,"\xa0\xa0 "),r.TgZ(39,"button",13),r.NdJ("click",function(){return e.onOkClick(e.myForm.value)}),r._uU(40),r.ALo(41,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Oqu(e.title),r.xp6(4),r.Q6J("formGroup",e.myForm),r.xp6(3),r.Oqu(r.lcZ(12,42,"admin.epu.list.libelle")),r.xp6(5),r.Oqu(r.lcZ(17,44,"admin.epu.list.libelleAr")),r.xp6(4),r.s9C("nameBtn",r.lcZ(21,46,"admin.epu.list.Rapportnational")),r.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.rapportNationalTo)("eventSubmitToParent",e.rapportNationalFrom)("eventSubmitFromParent",e.eventSubmitFromParent),r.xp6(2),r.s9C("nameBtn",r.lcZ(23,48,"admin.epu.list.CompilationHCDHSOCIETECIVILE")),r.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.compilationHCDHTo)("eventSubmitToParent",e.compilationHCDHFrom)("eventSubmitFromParent",e.eventSubmitFromParent),r.xp6(2),r.s9C("nameBtn",r.lcZ(25,50,"admin.epu.list.Discoursdupr\xe9sident")),r.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.discoursTo)("eventSubmitToParent",e.discoursFrom)("eventSubmitFromParent",e.eventSubmitFromParent),r.xp6(2),r.s9C("nameBtn",r.lcZ(27,52,"admin.epu.list.ObservationsfinalesADDITIFS")),r.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.observationFinaleTo)("eventSubmitToParent",e.observationFinaleFrom)("eventSubmitFromParent",e.eventSubmitFromParent),r.xp6(2),r.s9C("nameBtn",r.lcZ(29,54,"admin.epu.list.PLANDEMISEENOEUVRE")),r.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.miseOeuvrePieceTo)("eventSubmitToParent",e.miseOeuvrePieceFrom)("eventSubmitFromParent",e.eventSubmitFromParent),r.xp6(2),r.s9C("nameBtn",r.lcZ(31,56,"admin.epu.list.Rapportmi-parcours")),r.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.rapportMiParcoursTo)("eventSubmitToParent",e.rapportMiParcoursFrom)("eventSubmitFromParent",e.eventSubmitFromParent),r.xp6(2),r.s9C("nameBtn",r.lcZ(33,58,"admin.epu.rapportINDH")),r.Q6J("folderToSaveInServer",e.folderToSaveInServer)("propertyOfParent",e.rapportINDHTo)("eventSubmitToParent",e.rapportINDHFrom)("eventSubmitFromParent",e.eventSubmitFromParent),r.xp6(4),r.Oqu(r.lcZ(37,60,"admin.Retour")),r.xp6(3),r.Q6J("disabled",e.myForm.invalid),r.xp6(1),r.Oqu(r.lcZ(41,62,"admin.Enregistre")))},directives:[p.uh,d.Ye,g.d,p.xY,u._Y,u.JL,u.sg,h.KE,h.hX,f.Nt,u.Fj,u.JJ,u.u,u.Q7,Z.k,p.H8,x.lW],pipes:[b.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),t})();var v=i(12996),w=i(85078),C=i(87064);function A(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-list-item",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().download(e.substring(0,e.length-1))}),r.TgZ(1,"span",14),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.hij("- ",t.substring(14,t.length-1),"")}}function P(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-list-item",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().download(e.substring(0,e.length-1))}),r.TgZ(1,"span",14),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.hij("- ",t.substring(14,t.length-1),"")}}function _(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-list-item",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().download(e.substring(0,e.length-1))}),r.TgZ(1,"span",14),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.hij("- ",t.substring(14,t.length-1),"")}}function O(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-list-item",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().download(e.substring(0,e.length-1))}),r.TgZ(1,"span",14),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.hij("- ",t.substring(14,t.length-1),"")}}function q(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-list-item",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().download(e.substring(0,e.length-1))}),r.TgZ(1,"span",14),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.hij("- ",t.substring(14,t.length-1),"")}}function M(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-list-item",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().download(e.substring(0,e.length-1))}),r.TgZ(1,"span",14),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.hij("- ",t.substring(14,t.length-1),"")}}function y(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-list-item",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().download(e.substring(0,e.length-1))}),r.TgZ(1,"span",14),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.hij("- ",t.substring(14,t.length-1),"")}}let F=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.data=e,this.url=i,this.title="",this.folder="examen"}ngOnInit(){this.o=this.data.model,this.title=this.data.title}propertyToList(t){if(t){const e=t.split(";");return e.pop(),e}return[]}download(t){window.open(`${this.url}/${this.folder}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(p.so),r.Y36(p.WI),r.Y36("BASE_URL"))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-archive"]],decls:60,vars:35,consts:[[1,"dialog"],["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"content"],["mat-dialog-content",""],[1,"row"],[1,"col"],[2,"font-weight","bold"],["role","list"],["matRipple","","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[3,"vertical"],["mat-dialog-actions","",1,"actions"],["mat-button","","type","button",3,"click"],["matRipple","",2,"cursor","pointer",3,"click"],[2,"font-size",".9em"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r.TgZ(2,"mat-toolbar",2),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r._UZ(5,"mat-divider"),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"div",4),r.TgZ(8,"div",5),r.TgZ(9,"div",6),r.TgZ(10,"p",7),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"mat-list",8),r.YNc(14,A,3,1,"mat-list-item",9),r.qZA(),r.qZA(),r._UZ(15,"mat-divider",10),r.TgZ(16,"div",6),r.TgZ(17,"p",7),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"mat-list",8),r.YNc(21,P,3,1,"mat-list-item",9),r.qZA(),r.qZA(),r._UZ(22,"mat-divider",10),r.TgZ(23,"div",6),r.TgZ(24,"p",7),r._uU(25),r.ALo(26,"translate"),r.qZA(),r.TgZ(27,"mat-list",8),r.YNc(28,_,3,1,"mat-list-item",9),r.qZA(),r.qZA(),r._UZ(29,"mat-divider",10),r.TgZ(30,"div",6),r.TgZ(31,"p",7),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.TgZ(34,"mat-list",8),r.YNc(35,O,3,1,"mat-list-item",9),r.qZA(),r.qZA(),r._UZ(36,"mat-divider",10),r.TgZ(37,"div",6),r.TgZ(38,"p",7),r._uU(39),r.ALo(40,"translate"),r.qZA(),r.TgZ(41,"mat-list",8),r.YNc(42,q,3,1,"mat-list-item",9),r.qZA(),r.qZA(),r._UZ(43,"mat-divider",10),r.TgZ(44,"div",6),r.TgZ(45,"p",7),r._uU(46),r.ALo(47,"translate"),r.qZA(),r.TgZ(48,"mat-list",8),r.YNc(49,M,3,1,"mat-list-item",9),r.qZA(),r.qZA(),r._UZ(50,"mat-divider",10),r.TgZ(51,"div",6),r.TgZ(52,"p",7),r._uU(53),r.ALo(54,"translate"),r.qZA(),r.TgZ(55,"mat-list",8),r.YNc(56,y,3,1,"mat-list-item",9),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(57,"div",11),r.TgZ(58,"button",12),r.NdJ("click",function(){return e.dialogRef.close()}),r._uU(59,"Retour"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Oqu(e.title),r.xp6(7),r.Oqu(r.lcZ(12,21,"admin.epu.list.Rapportnational")),r.xp6(3),r.Q6J("ngForOf",e.propertyToList(e.o.rapportNational)),r.xp6(1),r.Q6J("vertical",!0),r.xp6(3),r.Oqu(r.lcZ(19,23,"admin.epu.list.CompilationHCDHSOCIETECIVILE")),r.xp6(3),r.Q6J("ngForOf",e.propertyToList(e.o.compilationHCDH)),r.xp6(1),r.Q6J("vertical",!0),r.xp6(3),r.Oqu(r.lcZ(26,25,"admin.epu.list.Discoursdupr\xe9sident")),r.xp6(3),r.Q6J("ngForOf",e.propertyToList(e.o.discours)),r.xp6(1),r.Q6J("vertical",!0),r.xp6(3),r.Oqu(r.lcZ(33,27,"admin.epu.list.ObservationsfinalesADDITIFS")),r.xp6(3),r.Q6J("ngForOf",e.propertyToList(e.o.observationFinale)),r.xp6(1),r.Q6J("vertical",!0),r.xp6(3),r.Oqu(r.lcZ(40,29,"admin.epu.list.PLANDEMISEENOEUVRE")),r.xp6(3),r.Q6J("ngForOf",e.propertyToList(e.o.miseOeuvrePiece)),r.xp6(1),r.Q6J("vertical",!0),r.xp6(3),r.Oqu(r.lcZ(47,31,"admin.epu.list.Rapportmi-parcours")),r.xp6(3),r.Q6J("ngForOf",e.propertyToList(e.o.rapportMiParcours)),r.xp6(1),r.Q6J("vertical",!0),r.xp6(3),r.Oqu(r.lcZ(54,33,"admin.epu.rapportINDH")),r.xp6(3),r.Q6J("ngForOf",e.propertyToList(e.o.rapportINDH)))},directives:[p.uh,d.Ye,g.d,p.xY,w.i$,n.sg,p.H8,x.lW,w.Tg,C.wG],pipes:[b.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px 25px}.dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.myrow[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{height:20px}"]}),t})();var S=i(5609),N=i(59241),H=i(56238),D=i(94589),I=i(31496),J=i(50545),U=i(34411),Q=i(84222),k=i(20707),L=i(3942),E=i(75163),Y=i(3017),R=i(16056),$=i(47340),B=i(77307),z=i(87672),j=i(24311);function V(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",33),r.TgZ(1,"button",34),r.NdJ("click",function(){return r.CHM(t),r.oxw().add()}),r.TgZ(2,"mat-icon"),r._uU(3,"add"),r.qZA(),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA()}2&t&&(r.xp6(4),r.hij(" ",r.lcZ(5,1,"admin.epu.list.Examen")," "))}function G(t,e){1&t&&r._UZ(0,"mat-spinner")}function X(t,e){if(1&t&&(r.TgZ(0,"div",35),r.YNc(1,G,1,0,"mat-spinner",36),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.isLoadingResults)}}function W(t,e){1&t&&(r.TgZ(0,"th",37),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.epu.list.libelle")))}function K(t,e){if(1&t&&(r.TgZ(0,"td",38),r._uU(1),r.qZA()),2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Oqu("fr"===i.mytranslate.langSync?t.libelle:t.libelleAr)}}function tt(t,e){1&t&&(r.TgZ(0,"th",39),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.epu.list.Rapportnational")))}function et(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",38),r.TgZ(1,"button",40),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().showPieceJoin(e.rapportNational)}),r.TgZ(2,"mat-icon"),r._uU(3,"cloud_download"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("disabled",i.disable(t.rapportNational))("matTooltip",t.rapportNational)}}function it(t,e){1&t&&(r.TgZ(0,"th",39),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.epu.list.Discoursdupr\xe9sident")))}function nt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",38),r.TgZ(1,"button",40),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().showPieceJoin(e.discours)}),r.TgZ(2,"mat-icon"),r._uU(3,"cloud_download"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("disabled",i.disable(t.discours))("matTooltip",t.discours)}}function ot(t,e){1&t&&(r.TgZ(0,"th",39),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.epu.list.CompilationHCDHSOCIETECIVILE")))}function at(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",38),r.TgZ(1,"button",40),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().showPieceJoin(e.compilationHCDH)}),r.TgZ(2,"mat-icon"),r._uU(3,"cloud_download"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("disabled",i.disable(t.compilationHCDH))("matTooltip",t.compilationHCDH)}}function st(t,e){1&t&&(r.TgZ(0,"th",39),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.epu.list.ObservationsfinalesADDITIFS")))}function rt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",38),r.TgZ(1,"button",40),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().showPieceJoin(e.observationFinale)}),r.TgZ(2,"mat-icon"),r._uU(3,"cloud_download"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("disabled",i.disable(t.observationFinale))("matTooltip",t.observationFinale)}}function lt(t,e){1&t&&(r.TgZ(0,"th",39),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.epu.list.PLANDEMISEENOEUVRE")))}function ct(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",38),r.TgZ(1,"button",41),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().showPieceJoin(e.miseOeuvrePiece)}),r.TgZ(2,"mat-icon"),r._uU(3,"cloud_download"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("disabled",i.disable(t.miseOeuvrePiece))("matTooltip",t.miseOeuvrePiece)}}function pt(t,e){1&t&&(r.TgZ(0,"th",39),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.epu.list.Rapportmi-parcours")))}function ut(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",38),r.TgZ(1,"button",40),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().showPieceJoin(e.rapportMiParcours)}),r.TgZ(2,"mat-icon"),r._uU(3,"cloud_download"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("disabled",i.disable(t.rapportMiParcours))("matTooltip",t.rapportMiParcours)}}function mt(t,e){1&t&&(r.TgZ(0,"th",39),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&t&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.epu.rapportINDH")))}function dt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",38),r.TgZ(1,"button",41),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().showPieceJoin(e.rapportINDH)}),r.TgZ(2,"mat-icon"),r._uU(3,"cloud_download"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(1),r.Q6J("disabled",i.disable(t.rapportINDH))("matTooltip",t.rapportINDH)}}function gt(t,e){1&t&&r._UZ(0,"th",39)}function ht(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",47),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(2).$implicit;return r.oxw().edit(e)}),r.TgZ(1,"mat-icon"),r._uU(2,"create"),r.qZA(),r.qZA()}}function ft(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",48),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(2).$implicit;return r.oxw().archive(e)}),r.TgZ(1,"mat-icon"),r._uU(2,"unarchive"),r.qZA(),r.qZA()}}function Zt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",49),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(2).$implicit;return r.oxw().delete(e)}),r.TgZ(1,"mat-icon"),r._uU(2,"delete_sweep"),r.qZA(),r.qZA()}}function xt(t,e){if(1&t&&(r.TgZ(0,"div",43),r.YNc(1,ht,3,0,"button",44),r.YNc(2,ft,3,0,"button",45),r.YNc(3,Zt,3,0,"button",46),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur),r.xp6(1),r.Q6J("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur),r.xp6(1),r.Q6J("ngIf",!t.session.isPointFocal&&!t.session.isSuperViseur)}}function bt(t,e){if(1&t&&(r.TgZ(0,"td",38),r.YNc(1,xt,4,3,"div",42),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",!t.session.isPublic)}}function Tt(t,e){1&t&&r._UZ(0,"tr",50)}function vt(t,e){1&t&&r._UZ(0,"tr",51)}const wt=function(){return[10,25,50,100,250]},Ct=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class t{constructor(t,e,i,n,o,a,s,c){this.uow=t,this.dialog=e,this.mydialog=i,this.url=n,this.mytranslate=o,this.session=a,this.bottomSheet=s,this.excel=c,this.update=new r.vpe,this.isLoadingResults=!0,this.resultsLength=0,this.isRateLimitReached=!1,this.text="",this.text2=this.text.substring(0,600),this.dataSource=[],this.displayedColumns=["libelle","rapportNational","rapportINDH","compilationHCDH","discours","observationFinale","rapportMiParcours","option"],this.countRec=new l.xQ,this.mecanismeState=new l.xQ,this.stateByMecanisme=new l.xQ,this.stateDetailByMecanisme=new l.xQ}ngOnInit(){this.getMecanismeState(),this.getStateByMecanisme(),this.getStateDetailByMecanisme(),(0,c.T)(this.sort.sortChange,this.paginator.page,this.update).pipe((0,H.O)(null)).subscribe(t=>{!0===t?this.paginator.pageIndex=0:t=t,this.paginator.pageSize?t=t:this.paginator.pageSize=10;const e=this.paginator.pageIndex*this.paginator.pageSize;this.isLoadingResults=!0,this.getPage(e,this.paginator.pageSize,this.sort.active?this.sort.active:"id",this.sort.direction?this.sort.direction:"desc")}),this.uow.recommendations.mecanismeCount("examen").subscribe(t=>this.countRec.next(t))}disable(t){return!t||""===t}getPage(t,e,i,n){this.uow.examens.getList(t,e,i,n).subscribe(t=>{this.dataSource=t.list,this.resultsLength=t.count,this.isLoadingResults=!1})}openDialog(t,e){return this.dialog.open(T,{width:"80vw",disableClose:!0,data:{model:t,title:e},direction:"fr"===this.mytranslate.langSync?"ltr":"rtl"}).afterClosed()}add(){this.openDialog(new s.X_,this.mytranslate.get("admin.epu.list.AjouterExamen")).subscribe(t=>{t&&this.update.next(!1)})}edit(t){this.openDialog(t,this.mytranslate.get("admin.epu.list.ModifierExamen")).subscribe(t=>{t&&this.update.next(!1)})}archive(t){this.dialog.open(F,{width:"80vw",disableClose:!0,data:{model:t,title:t.libelle}})}delete(t){return(0,a.mG)(this,void 0,void 0,function*(){if("ok"===(yield this.mydialog.openDialog("Examen").toPromise())){let e=[];""!==t.rapportNational?e.push(...this.uow.decoupe(t.rapportNational)):e=e,""!==t.compilationHCDH?e.push(...this.uow.decoupe(t.compilationHCDH)):e=e,""!==t.observationFinale?e.push(...this.uow.decoupe(t.observationFinale)):e=e,""!==t.rapportMiParcours?e.push(...this.uow.decoupe(t.rapportMiParcours)):e=e,""!==t.discours?e.push(...this.uow.decoupe(t.discours)):e=e,this.uow.files.deleteFiles(e,"examen").subscribe(e=>{this.uow.examens.delete(t.id).subscribe(()=>this.update.next(!0))})}})}showPieceJoin(t){this.bottomSheet.open(v.x,{data:{fileName:t,folder:"examen"}})}getMecanismeState(){this.uow.axes.mecanismeState().subscribe(t=>{const e=[];e.push(this.mytranslate.get("R\xe9alis\xe9")),e.push(this.mytranslate.get("NonR\xe9alis\xe9")),e.push(this.mytranslate.get("EnCours")),e.push(this.mytranslate.get("Recommendation_continue"));const i=[],n=[];i.push(100*t.four/t.total),i.push(100*t.one/t.total),i.push(100*t.two/t.total),i.push(100*t.three/t.total),n.push(t.one,t.two,t.three,t.four),this.mecanismeState.next({chartLabels:e,chartData:i,chartColors:["#2b960b","#db0707","#f7801e","#2d71a1","#ffffff"],dataToShowInTable:n,title:this.mytranslate.get("admin.header.Etat de mise en \u0153uvre")})})}getStateByMecanisme(){this.uow.axes.stateByMecanisme().subscribe(t=>{const e=t.map(t=>t.name),i=t.map(t=>+t.one.toFixed(0));this.stateByMecanisme.next({chartLabels:e,chartData:i,chartColors:[],dataToShowInTable:[],title:this.mytranslate.get("admin.epu.list.Tauxderecommandationsparaxe")})})}getStateDetailByMecanisme(){this.uow.axes.stateDetailByMecanisme().subscribe(t=>{t=t.filter(t=>null!==t.name),console.log(t);const e=t.map(t=>t.name),i=[{data:t.map(t=>+(100*t.four/t.total).toFixed(0)),label:this.mytranslate.get("R\xe9alis\xe9")},{data:t.map(t=>+(100*t.three/t.total).toFixed(0)),label:this.mytranslate.get("Recommendation_continue")},{data:t.map(t=>+(100*t.two/t.total).toFixed(0)),label:this.mytranslate.get("EnCours")},{data:t.map(t=>+(100*t.one/t.total).toFixed(0)),label:this.mytranslate.get("NonR\xe9alis\xe9")}];console.log(i),this.stateDetailByMecanisme.next({barChartLabels:e,barChartData:i,title:this.mytranslate.get("admin.epu.list.EtatAvancementderecommandationsparaxe")})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(m.Z),r.Y36(p.uw),r.Y36(D.b),r.Y36("BASE_URL"),r.Y36(I.n),r.Y36(J.m),r.Y36(U.ch),r.Y36(Q.x))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-examen"]],viewQuery:function(t,e){if(1&t&&(r.Gf(S.NW,7),r.Gf(N.YE,7)),2&t){let t;r.iGM(t=r.CRH())&&(e.paginator=t.first),r.iGM(t=r.CRH())&&(e.sort=t.first)}},decls:52,vars:21,consts:[[1,"host"],[3,"title"],["class","right",4,"ngIf"],["mecanisme","epu"],[1,"row","justify-content-center"],[1,"col-md-5"],[3,"obs"],[1,"col-md-2","p-0"],[3,"title","count","height"],[1,"col-md-12"],[1,"chart-size"],[3,"col","height","dataSubject"],[1,"example-container","mat-elevation-z8","mt-3"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","multiTemplateDataRows","","aria-label","Elements","matSort","",3,"dataSource"],["table",""],["matColumnDef","libelle"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rapportNational"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","discours"],["matColumnDef","compilationHCDH"],["matColumnDef","observationFinale"],["matColumnDef","miseOeuvrePiece"],["matColumnDef","rapportMiParcours"],["matColumnDef","rapportINDH"],["matColumnDef","option",2,"flex-direction","row-reverse"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageIndex","0","pageSize","10","showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],[1,"right"],["mat-raised-button","","color","primary",1,"mt-3",3,"click"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent",1,"center",3,"disabled","matTooltip","click"],["class","button-row",4,"ngIf"],[1,"button-row"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-title",1),r.ALo(2,"translate"),r.YNc(3,V,6,3,"div",2),r._UZ(4,"app-intros",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r._UZ(7,"app-pie",6),r.qZA(),r.TgZ(8,"div",7),r._UZ(9,"app-count",8),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"div",5),r._UZ(12,"app-pie",6),r.qZA(),r.TgZ(13,"div",9),r.TgZ(14,"div",10),r._UZ(15,"app-bar",11),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",12),r.YNc(17,X,2,1,"div",13),r.TgZ(18,"div",14),r.TgZ(19,"table",15,16),r.ynx(21,17),r.YNc(22,W,3,3,"th",18),r.YNc(23,K,2,1,"td",19),r.BQk(),r.ynx(24,20),r.YNc(25,tt,3,3,"th",21),r.YNc(26,et,4,2,"td",19),r.BQk(),r.ynx(27,22),r.YNc(28,it,3,3,"th",21),r.YNc(29,nt,4,2,"td",19),r.BQk(),r.ynx(30,23),r.YNc(31,ot,3,3,"th",21),r.YNc(32,at,4,2,"td",19),r.BQk(),r.ynx(33,24),r.YNc(34,st,3,3,"th",21),r.YNc(35,rt,4,2,"td",19),r.BQk(),r.ynx(36,25),r.YNc(37,lt,3,3,"th",21),r.YNc(38,ct,4,2,"td",19),r.BQk(),r.ynx(39,26),r.YNc(40,pt,3,3,"th",21),r.YNc(41,ut,4,2,"td",19),r.BQk(),r.ynx(42,27),r.YNc(43,mt,3,3,"th",21),r.YNc(44,dt,4,2,"td",19),r.BQk(),r.ynx(45,28),r.YNc(46,gt,1,0,"th",21),r.YNc(47,bt,2,1,"td",19),r.BQk(),r.YNc(48,Tt,1,0,"tr",29),r.YNc(49,vt,1,0,"tr",30),r.qZA(),r.qZA(),r._UZ(50,"mat-paginator",31,32),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.s9C("title",r.lcZ(2,16,"admin.epu.list.Examenp\xe9riodiqueuniversal")),r.xp6(2),r.Q6J("ngIf",!e.session.isPointFocal&&!e.session.isPublic),r.xp6(4),r.Q6J("obs",e.mecanismeState),r.xp6(2),r.Q6J("title",r.lcZ(10,18,"admin.header.examenCount"))("count",e.countRec)("height","55vh"),r.xp6(3),r.Q6J("obs",e.stateByMecanisme),r.xp6(3),r.Q6J("col",12)("height","70vh")("dataSubject",e.stateDetailByMecanisme),r.xp6(2),r.Q6J("ngIf",e.isLoadingResults),r.xp6(2),r.Q6J("dataSource",e.dataSource),r.xp6(29),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("length",e.resultsLength)("pageSizeOptions",r.DdM(20,wt)))},directives:[k.r,n.O5,L.e,E.R,Y.S,R.R,$.BZ,N.YE,$.w1,$.fO,$.Dz,$.as,$.nj,S.NW,x.lW,B.Hw,z.$g,$.ge,N.nU,$.ev,j.gM,$.XQ,$.Gk],pipes:[b.X$],styles:['section[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important}  h3{margin:0!important}.border-left[_ngcontent-%COMP%]{border-left:10px solid #a19b9e}.border-right[_ngcontent-%COMP%]{border-right:10px solid #a19b9e}.super-title[_ngcontent-%COMP%]{height:45px}.super-title[_ngcontent-%COMP%], .super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#d17c36;height:35px}.super-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0;padding:0 5px}.super-title2[_ngcontent-%COMP%]{height:45px;display:flex;align-items:center}.super-title2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:35px;display:flex;align-items:center}.super-title2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#a19b9e;margin:0;padding:0 5px;font-size:1.8em}.host[_ngcontent-%COMP%]{margin:1em!important}  .mat-progress-spinner circle{fill:#00000008!important}h3[_ngcontent-%COMP%]{margin:4px 0 10px;color:var(--primary);text-align:center}.axes[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:1px 1px 5px #ddd;padding:5px;margin-bottom:5px}.axes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8em}.axes[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px;font-size:.9em}@font-face{font-family:Satisfy;font-style:normal;font-weight:400;font-display:swap;src:local("Satisfy Regular"),local("Satisfy-Regular"),url(https://fonts.gstatic.com/s/satisfy/v11/rP2Hp2yn6lkG50LoCZOIHQ.woff2) format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+2000-206f,u+2074,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}.textAlign-left[_ngcontent-%COMP%]{text-align:left}.textAlign-right[_ngcontent-%COMP%], .textSouTitre[_ngcontent-%COMP%]{text-align:right}.textSouTitre[_ngcontent-%COMP%]{font-size:.9em;color:#00000070}.legend[_ngcontent-%COMP%]{list-style:none;height:10px;width:280px}.legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:10px}.legend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:1px solid #ccc;float:left;width:12px;height:12px;margin:2px}.legend[_ngcontent-%COMP%]   .superawesome[_ngcontent-%COMP%]{background-color:#1a9935}.legend[_ngcontent-%COMP%]   .awesome[_ngcontent-%COMP%], .legend[_ngcontent-%COMP%]   .superawesome[_ngcontent-%COMP%]{width:40px;height:22px;font-size:small;padding:2%}.legend[_ngcontent-%COMP%]   .awesome[_ngcontent-%COMP%]{background-color:#ca7834}.legend[_ngcontent-%COMP%]   .kindaawesome[_ngcontent-%COMP%]{background-color:#d80e0e;width:40px;height:22px;font-size:small;padding:2%}.legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:100}']}),t})()}];let At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.Bz.forChild(Ct)],o.Bz]}),t})();var Pt=i(42693),_t=i(57823),Ot=i(97866),qt=i(15675),Mt=i(23928),yt=i(4967);let Ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[b.aw,n.ez,At,Pt.JF,_t.R,u.u5,u.UX,Ot.i,qt.f,Mt.N,yt.O]]}),t})()}}]);