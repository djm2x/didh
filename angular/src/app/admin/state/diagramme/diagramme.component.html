<div class="row">
    <form [formGroup]="myForm">
        <mat-form-field class="col-md-6">
            <mat-label>Mecanismes</mat-label>
            <mat-select (selectionChange)="selectChange($event.value)" value="Examen périodique universal">
                <mat-option *ngFor="let e of mecanismes" [value]="e">{{ e }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="col-md-6">
            <mat-label>Mecanisme</mat-label>
            <mat-select formControlName="mecanisme" (selectionChange)="selectChange($event.value)">
                <mat-option value="0">...</mat-option>
                <mat-option *ngFor="let e of mecanismes" [value]="e">{{ e }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field *ngIf="cycleActive" class="col-md-6">
            <mat-label>Cycle</mat-label>
            <mat-select formControlName="idCycle">
                <mat-option value="0">...</mat-option>
                <mat-option *ngFor="let e of cycles" [value]="e.id">{{ e.label }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field *ngIf="visiteActive" class="col-md-6">
            <mat-label>Visite</mat-label>
            <mat-select formControlName="idVisite">
                <mat-option value="0">...</mat-option>
                <mat-option *ngFor="let e of visites | async" [value]="e.id">{{ e.mandat }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field *ngIf="organeActive" class="col-md-6">
            <mat-label>Organe</mat-label>
            <mat-select formControlName="idOrgane">
                <mat-option value="0">...</mat-option>
                <mat-option *ngFor="let e of organes | async" [value]="e.id">{{ e.label }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="col-md-6">
            <mat-label>Axe</mat-label>
            <mat-select formControlName="idAxe" (selectionChange)="axeChange($event.value)">
                <mat-option value="0">...</mat-option>
                <mat-option *ngFor="let e of axes | async" [value]="e.id">{{ e.label }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="col-md-6">
            <mat-label>Sous axe</mat-label>
            <mat-select formControlName="idSousAxe">
                <mat-option value="0">...</mat-option>
                <mat-option *ngFor="let e of sousAxes" [value]="e.id">{{ e.label }}</mat-option>
            </mat-select>
        </mat-form-field>
    </form>
</div>

<div class="right">
    <button mat-raised-button color="primary" (click)="search(myForm.value)" [disabled]="isAllEmpty">
        <mat-icon>search</mat-icon>
        Rechercher
    </button>
    &nbsp;
    <button mat-raised-button (click)="reset()" [disabled]="isAllEmpty">
        <mat-icon>refresh</mat-icon>
        Réinitialiser
    </button>
</div>
<mat-card>
    <div class="d-flex justify-content-center">
        <h5 style="color: rgb(94, 94, 94); margin: 0 0 10px 0;">{{title}}</h5>
    </div>
    <div style="display: block;">
        <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" [chartType]="pieChartType"
            [options]="pieChartOptions" [plugins]="pieChartPlugins" [colors]="pieChartColors" [legend]="pieChartLegend">
        </canvas>
    </div>

</mat-card>